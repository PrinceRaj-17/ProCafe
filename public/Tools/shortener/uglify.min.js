!function(h){"use strict";function e(e){return e.split("")}function nn(e,n){return 0<=n.indexOf(e)}function tn(e,n){for(var t=n.length;0<=--t;)if(e(n[t]))return n[t]}function n(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function r(e,n){this.message=e,this.defs=n}function Z(e,n,t){if(t)for(var i in e)if(mn(e,i)&&!mn(n,i))throw new r("`"+i+"` is not a supported option",n);for(var i in e)mn(e,i)&&(n[i]=e[i]);return n}function t(e,n){var t,i=0;for(t in n)mn(n,t)&&(e[t]=n[t],i++);return i}function rn(){}function on(){return!1}function an(){return!0}function sn(){return this}function fn(){return null}((r.prototype=Object.create(Error.prototype)).constructor=r).prototype.name="DefaultsError",n(r);var cn=function(){function e(e,n){for(var t=[],i=0;i<e.length;i++){var r=n(e[i],i);r!==o&&(r instanceof a?t.push.apply(t,r.v):t.push(r))}return t}e.is_op=function(e){return e===o||e instanceof a},e.splice=function(e){return new a(e)};var o=e.skip={};function a(e){this.v=e}return e}();function un(e,n){if(e.indexOf(n)<0)return e.push(n)}function ln(e,t){return e.replace(/\{([^}]+)\}/g,function(e,n){n=t[n];return n instanceof gn?n.print_to_string():n})}function pn(e,n){n=e.indexOf(n);0<=n&&e.splice(n,1)}function dn(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach(function(e){n[e]=!0}),n}function hn(e,n){for(var t=e.length;0<=--t;)if(!n(e[t],t))return!1;return!0}function vn(){this._values=Object.create(null),this._size=0}function mn(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function _n(e,n){for(var t,i=e.parent(-1),r=0;t=e.parent(r++);i=t){if(In(t))return n&&t.value===i;if(t instanceof Ot){if(t.left===i)continue}else if("Call"==t.TYPE){if(t.expression===i)continue}else if(t instanceof At){if(t.condition===i)continue}else if(t instanceof wt){if(t.expression===i)continue}else if(t instanceof yt){if(t.expressions[0]===i)continue}else{if(t instanceof bn)return t.body===i;if(t instanceof Dt&&t.expression===i)continue}return!1}}function i(e,n,t,i){void 0===i&&(i=gn);var r=n=n?n.split(/\s+/):[];i&&i.PROPS&&(n=n.concat(i.PROPS));var o=["return function AST_",e,"(props){","if(props){"];n.forEach(function(e){o.push("this.",e,"=props.",e,";")});var a=i&&new i;(a&&a.initialize||t&&t.initialize)&&o.push("this.initialize();"),o.push("}}");var s=new Function(o.join(""))();if(a&&(s.prototype=a,s.BASE=i),i&&i.SUBCLASSES.push(s),(s.prototype.CTOR=s).PROPS=n||null,s.SELF_PROPS=r,s.SUBCLASSES=[],e&&(s.prototype.TYPE=s.TYPE=e),t)for(var f in t)mn(t,f)&&(/^\$/.test(f)?s[f.substr(1)]=t[f]:s.prototype[f]=t[f]);return s.DEFMETHOD=function(e,n){this.prototype[e]=n},void 0!==h&&(h["AST_"+e]=s),s}vn.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},all:function(e){for(var n in this._values)if(!e(this._values[n],n.substr(1)))return!1;return!0},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n,t=[];for(n in this._values)t.push(e(this._values[n],n.substr(1)));return t},clone:function(){var e,n=new vn;for(e in this._values)n._values[e]=this._values[e];return n._size=this._size,n},toObject:function(){return this._values}},vn.fromObject=function(e){var n=new vn;return n._size=t(n._values,e),n};var H=i("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),gn=i("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new pi(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:rn,validate:function(){for(var e=this.CTOR;e.prototype._validate.call(this),e=e.BASE;);},validate_ast:function(){var n={};this.walk(new li(function(e){if(e.validate_visited===n)throw new Error(ln("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+e.TYPE,file:e.start.file,line:e.start.line,col:e.start.col}));e.validate_visited=n}))}},null);(gn.log_function=function(n,e){var t;function i(e){t[e]||(t[e]=!0,n(e))}n?(t=Object.create(null),gn.info=e?function(e,n){i("INFO: "+ln(e,n))}:rn,gn.warn=function(e,n){i("WARN: "+ln(e,n))}):gn.info=gn.warn=rn})();var o=[];gn.enable_validation=function(){gn.disable_validation(),function e(n){var t;n.SUBCLASSES.forEach(e),mn(n.prototype,"transform")&&(t=n.prototype.transform,n.prototype.transform=function(e,n){e=t.call(this,e,n);if(e instanceof gn)e.validate();else if(!(null===e||n&&cn.is_op(e)))throw new Error("invalid transformed value: "+e);return e},o.push(function(){n.prototype.transform=t}))}(this)},gn.disable_validation=function(){for(var e;e=o.pop();)e()};var bn=i("Statement",null,{$documentation:"Base class of all statements"}),yn=i("Debugger",null,{$documentation:"Represents a debugger statement"},bn),wn=i("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},bn),xn=i("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},bn);function a(e,n,t,i,r){if(t=t?"contain":"be",!(e instanceof gn))throw new Error(n+" must "+t+" AST_Node");if(e instanceof _t)throw new Error(n+" cannot "+t+" AST_DefaultValue");if(e instanceof Ft)throw new Error(n+" cannot "+t+" AST_Destructured");if(e instanceof ai&&!r)throw new Error(n+" cannot "+t+" AST_Hole");if(e instanceof Et&&!i)throw new Error(n+" cannot "+t+" AST_Spread");if(e instanceof bn&&!Rn(e))throw new Error(n+" cannot "+t+" AST_Statement");if(e instanceof Bt)throw new Error(n+" cannot "+t+" AST_SymbolDeclaration")}function s(e,n){a(e[n],n)}var kn=i("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){s(this,"body")}},bn),En=i("BlockScope","enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Object/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope"},clone:function(e){e=this._clone(e);return this.enclosed&&(e.enclosed=this.enclosed.slice()),this.functions&&(e.functions=this.functions.clone()),this.variables&&(e.variables=this.variables.clone()),e},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if(null!=this.parent_scope){if(!(this.parent_scope instanceof En))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof Cn))throw new Error("must be contained within AST_Scope")}}},bn);function Sn(e,n){e.body.forEach(function(e){e.walk(n)})}var Tn=i("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,function(){Sn(n,e)})},_validate:function(){this.body.forEach(function(e){if(!(e instanceof bn))throw new Error("body must be AST_Statement[]");if(Rn(e))throw new Error("body cannot contain AST_Function")})}},En),Dn=i("BlockStatement",null,{$documentation:"A block statement"},Tn),f=i("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if(!(this.body instanceof bn))throw new Error("body must be AST_Statement");if(Rn(this.body))throw new Error("body cannot be AST_Function")}},En),On=i("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,function(){n.label.walk(e),n.body.walk(e)})},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new li(function(e){return e instanceof nt?e.label&&e.label.thedef===t?((e.label.thedef=n).references.push(e),!0):void 0:e instanceof Cn||void 0}))),i},_validate:function(){if(!(this.label instanceof ee))throw new Error("label must be AST_Label")}},f),An=i("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},f),zn=i("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){s(this,"condition")}},An),$n=i("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e),n.condition.walk(e)})}},zn),Mn=i("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e)})}},zn),Fn=i("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)})},_validate:function(){if(null!=this.init){if(!(this.init instanceof gn))throw new Error("init must be AST_Node");if(this.init instanceof bn&&!(this.init instanceof pt||Rn(this.init)))throw new Error("init cannot be AST_Statement")}null!=this.condition&&s(this,"condition"),null!=this.step&&s(this,"step")}},An),jn=i("ForIn","init object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",object:"[AST_Node] the object that we're looping through"},walk:function(e){var n=this;e.visit(n,function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)})},_validate:function(){if(this.init instanceof pt){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else u(this.init,function(e){if(!(e instanceof wt||e instanceof Kt))throw new Error("init must be assignable: "+e.TYPE)});s(this,"object")}},An),qn=i("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.body.walk(e)})},_validate:function(){s(this,"expression")}},f),Cn=i("Scope","uses_eval uses_with",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:sn},Tn),Nn=i("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return _i(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new pi(function(e){if(e instanceof wn&&"$ORIG"==e.value)return cn.splice(n)}))},enclose:function(e){var n=(e="string"!=typeof e?"":e).indexOf(":");n<0&&(n=e.length);var t=this.body;return _i(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new pi(function(e){if(e instanceof wn&&"$ORIG"==e.value)return cn.splice(t)}))}},Cn),Pn=i("Lambda","argnames length_read rest uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},each_argname:function(n){var t=new li(function(e){return e instanceof _t?(e.name.walk(t),!0):e instanceof qt?(e.value.walk(t),!0):void(e instanceof Wt&&n(e))});this.argnames.forEach(function(e){e.walk(t)}),this.rest&&this.rest.walk(t)},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),Sn(e,n)})},_validate:function(){this.argnames.forEach(function(e){u(e,function(e){if(!(e instanceof Wt))throw new Error("argnames must be AST_SymbolFunarg[]")},!0)}),null!=this.rest&&u(this.rest,function(e){if(!(e instanceof Wt))throw new Error("rest must be AST_SymbolFunarg")})}},Cn),Hn=i("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},Pn);function In(e){return e instanceof Ln||e instanceof Bn}function Rn(e){return In(e)||e instanceof Vn||e instanceof Wn}function Un(e,n){In(e)&&e.value?e.value.walk(n):Sn(e,n)}var Bn=i("Arrow","inlined value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):Sn(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(s(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},Pn);function Yn(e){return e instanceof Ln||e instanceof Gn||e instanceof Vn}var Ln=i("AsyncArrow","inlined value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):Sn(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(s(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},Pn),Vn=i("AsyncFunction","inlined name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function"},_validate:function(){if(null!=this.name&&!(this.name instanceof Gt))throw new Error("name must be AST_SymbolLambda")}},Pn),Wn=i("Function","inlined name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function"},_validate:function(){if(null!=this.name&&!(this.name instanceof Gt))throw new Error("name must be AST_SymbolLambda")}},Pn);function Jn(e){return e instanceof Gn||e instanceof Xn}var Gn=i("AsyncDefun","inlined name",{$documentation:"An asynchronous function definition",$propdoc:{name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(!(this.name instanceof Jt))throw new Error("name must be AST_SymbolDefun")}},Pn),Xn=i("Defun","inlined name",{$documentation:"A function definition",$propdoc:{name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(!(this.name instanceof Jt))throw new Error("name must be AST_SymbolDefun")}},Pn),Kn=i("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},bn),Qn=i("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,function(){n.value&&n.value.walk(e)})}},Kn),Zn=i("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&s(this,"value")}},Qn),et=i("Throw",null,{$documentation:"A `throw` statement",_validate:function(){s(this,"value")}},Qn),nt=i("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,function(){n.label&&n.label.walk(e)})},_validate:function(){if(null!=this.label&&!(this.label instanceof ne))throw new Error("label must be AST_LabelRef")}},Kn),tt=i("Break",null,{$documentation:"A `break` statement"},nt),it=i("Continue",null,{$documentation:"A `continue` statement"},nt),rt=i("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)})},_validate:function(){if(s(this,"condition"),null!=this.alternative){if(!(this.alternative instanceof bn))throw new Error("alternative must be AST_Statement");if(Rn(this.alternative))throw new error("alternative cannot be AST_Function")}}},f),ot=i("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Sn(n,e)})},_validate:function(){s(this,"expression"),this.body.forEach(function(e){if(!(e instanceof at))throw new Error("body must be AST_SwitchBranch[]")})}},Tn),at=i("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},Tn),st=i("Default",null,{$documentation:"A `default` switch branch"},at),ft=i("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Sn(n,e)})},_validate:function(){s(this,"expression")}},at),ct=i("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){Sn(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)})},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof ut))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof lt))throw new Error("bfinally must be AST_Finally")}},Tn),ut=i("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.argname&&n.argname.walk(e),Sn(n,e)})},_validate:function(){null!=this.argname&&u(this.argname,function(e){if(!(e instanceof Xt))throw new Error("argname must be AST_SymbolCatch")})}},Tn),lt=i("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},Tn),pt=i("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(n){var e=this;n.visit(e,function(){e.definitions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.definitions.length<1)throw new Error("must have at least one definition")}},bn),dt=i("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof mt))throw new Error("definitions must be AST_VarDef[]");u(e.name,function(e){if(!(e instanceof Yt))throw new Error("name must be AST_SymbolConst")})})}},pt),ht=i("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof mt))throw new Error("definitions must be AST_VarDef[]");u(e.name,function(e){if(!(e instanceof Lt))throw new Error("name must be AST_SymbolLet")})})}},pt),vt=i("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof mt))throw new Error("definitions must be AST_VarDef[]");u(e.name,function(e){if(!(e instanceof Vt))throw new Error("name must be AST_SymbolVar")})})}},pt),mt=i("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value&&n.value.walk(e)})},_validate:function(){null!=this.value&&s(this,"value")}}),_t=i("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value.walk(e)})},_validate:function(){s(this,"value")}});function c(e,n,t,i){e[n].forEach(function(e){a(e,n,!0,t,i)})}var gt=i("Call","expression args pure",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},walk:function(n){var e=this;n.visit(e,function(){e.expression.walk(n),e.args.forEach(function(e){e.walk(n)})})},_validate:function(){s(this,"expression"),c(this,"args",!0)}}),bt=i("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},gt),yt=i("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(n){var e=this;n.visit(e,function(){e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");c(this,"expressions")}}),wt=i("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"},getProperty:function(){var e=this.property;return e instanceof Zt?e.value:e instanceof Tt&&"void"==e.operator&&e.expression instanceof Zt?void 0:e},_validate:function(){s(this,"expression")}}),xt=i("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},wt),kt=i("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.property.walk(e)})},_validate:function(){s(this,"property")}},wt),Et=i("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){s(this,"expression")}}),St=i("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.operator)throw new Error("operator must be string");s(this,"expression")}}),Tt=i("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},St),Dt=i("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},St),Ot=i("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,function(){n.left.walk(e),n.right.walk(e)})},_validate:function(){if(this instanceof zt||s(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");s(this,"right")}}),At=i("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)})},_validate:function(){s(this,"condition"),s(this,"consequent"),s(this,"alternative")}}),zt=i("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof Ft){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);u(this.left,function(e){if(!(e instanceof wt||e instanceof Kt))throw new Error("left must be assignable: "+e.TYPE)})}}},Ot),$t=i("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){s(this,"expression")}}),Mt=i("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})},_validate:function(){c(this,"elements",!0,!0)}}),Ft=i("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"}});function u(e,n,t){if(e instanceof _t&&t)return u(e.name,n);if(e instanceof Ft){if(null!=e.rest&&u(e.rest,n),e instanceof jt)return e.elements.forEach(function(e){e instanceof ai||u(e,n,!0)});if(e instanceof Ct)return e.properties.forEach(function(e){u(e.value,n,!0)})}n(e)}var l,jt=i("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})}},Ft),qt=i("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof gn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof gn))throw new Error("key must be string or AST_Node");s(this,"key")}if(!(this.value instanceof gn))throw new Error("value must be AST_Node")}}),Ct=i("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof qt))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},Ft),Nt=i("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof Pt||e instanceof Et))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")})}}),Pt=i("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof gn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof gn))throw new Error("key must be string or AST_Node");s(this,"key")}if(!(this.value instanceof gn))throw new Error("value must be AST_Node")}}),Ht=i("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){s(this,"value")}},Pt),It=i("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof Hn))throw new Error("value must be AST_Accessor")}},Pt),Rt=i("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof Hn))throw new Error("value must be AST_Accessor")}},Pt),Ut=i("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("string"!=typeof this.name)throw new Error("name must be string")}}),Bt=i("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},Ut),Yt=i("SymbolConst",null,{$documentation:"Symbol defining a constant"},Bt),Lt=i("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},Bt),Vt=i("SymbolVar",null,{$documentation:"Symbol defining a variable"},Bt),Wt=i("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Vt),Jt=i("SymbolDefun",null,{$documentation:"Symbol defining a function"},Bt),Gt=i("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},Bt),Xt=i("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},Bt),ee=i("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Ut),Kt=i("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},Ut),ne=i("LabelRef",null,{$documentation:"Reference to a label symbol"},Ut),Qt=i("This",null,{$documentation:"The `this` symbol",_validate:function(){if("this"!==this.name)throw new Error('name must be "this"')}},Ut),Zt=i("Constant",null,{$documentation:"Base class for all constants"}),ei=i("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},Zt),ni=i("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number")}},Zt),ti=i("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},Zt),v=i("Atom",null,{$documentation:"Base class for atoms"},Zt),ii=i("Null",null,{$documentation:"The `null` atom",value:null},v),ri=i("NaN",null,{$documentation:"The impossible value",value:NaN},v),oi=i("Undefined",null,{$documentation:"The `undefined` value",value:void 0},v),ai=i("Hole",null,{$documentation:"A hole in an array",value:void 0},v),si=i("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},v),fi=i("Boolean",null,{$documentation:"Base class for booleans"},v),ci=i("False",null,{$documentation:"The `false` atom",value:!1},fi),ui=i("True",null,{$documentation:"The `true` atom",value:!0},fi);function li(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}function pi(e,n){li.call(this),this.before=e,this.after=n}function p(e,n){return cn(e,function(e){return e.transform(n,!0)})}function d(e,n){e.argnames=p(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.value?e.value=e.value.transform(n):e.body=p(e.body,n)}li.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||rn)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof Pn?this.directives=Object.create(this.directives):e instanceof wn&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof Pn&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof Cn)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof wn))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n,t=this.stack;if(e.label){for(var i=t.length;0<=--i;)if((n=t[i])instanceof On&&n.label.name==e.label.name)return n.body}else for(i=t.length;0<=--i;)if((n=t[i])instanceof An||e instanceof tt&&n instanceof ot)return n},in_boolean_context:function(){for(var e,n=this.self(),t=0;e=this.parent(t);t++){if(e instanceof At&&e.condition===n||e instanceof zn&&e.condition===n||e instanceof Fn&&e.condition===n||e instanceof rt&&e.condition===n||e instanceof Zn&&e.in_bool||e instanceof yt&&e.tail_node()!==n||e instanceof kn||e instanceof Tt&&"!"==e.operator&&e.expression===n)return!0;if(e instanceof Ot&&("&&"==e.operator||"||"==e.operator)||e instanceof At||e.tail_node()===n)n=e;else{if(!(e instanceof Zn))return!1;for(var i,r=e;i=this.parent(++t);r=i)if("Call"==i.TYPE){if(!(r instanceof Pn)||r.name)return!1}else if(r instanceof Pn)return!1}}}},pi.prototype=new li,(l=function(e,r){e.DEFMETHOD("transform",function(e,n){var t,i;return e.push(this),void 0===(t=e.before?e.before(this,r,n):t)&&(r(t=this,e),e.after&&void 0!==(i=e.after(t,n))&&(t=i)),e.pop(),t})})(gn,rn),l(On,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),l(kn,function(e,n){e.body=e.body.transform(n)}),l(Tn,function(e,n){e.body=p(e.body,n)}),l($n,function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)}),l(Mn,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),l(Fn,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),l(jn,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),l(qn,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),l(Qn,function(e,n){e.value&&(e.value=e.value.transform(n))}),l(nt,function(e,n){e.label&&(e.label=e.label.transform(n))}),l(rt,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),l(ot,function(e,n){e.expression=e.expression.transform(n),e.body=p(e.body,n)}),l(ft,function(e,n){e.expression=e.expression.transform(n),e.body=p(e.body,n)}),l(ct,function(e,n){e.body=p(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),l(ut,function(e,n){e.argname&&(e.argname=e.argname.transform(n)),e.body=p(e.body,n)}),l(pt,function(e,n){e.definitions=p(e.definitions,n)}),l(mt,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),l(_t,function(e,n){e.name=e.name.transform(n),e.value=e.value.transform(n)}),l(Pn,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=p(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.body=p(e.body,n)}),l(Bn,d),l(Ln,d),l(gt,function(e,n){e.expression=e.expression.transform(n),e.args=p(e.args,n)}),l(yt,function(e,n){e.expressions=p(e.expressions,n)}),l($t,function(e,n){e.expression=e.expression.transform(n)}),l(xt,function(e,n){e.expression=e.expression.transform(n)}),l(kt,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),l(Et,function(e,n){e.expression=e.expression.transform(n)}),l(St,function(e,n){e.expression=e.expression.transform(n)}),l(Ot,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),l(At,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),l(Mt,function(e,n){e.elements=p(e.elements,n)}),l(jt,function(e,n){e.elements=p(e.elements,n),e.rest&&(e.rest=e.rest.transform(n))}),l(qt,function(e,n){e.key instanceof gn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),l(Ct,function(e,n){e.properties=p(e.properties,n),e.rest&&(e.rest=e.rest.transform(n))}),l(Nt,function(e,n){e.properties=p(e.properties,n)}),l(Pt,function(e,n){e.key instanceof gn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)});var m=["await abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield",D="false null true",te="break case catch const continue debugger default delete do else finally for function if in instanceof let new return switch throw try typeof var void while with"].join(" "),T="return new delete throw else case",te=dn(te),m=dn(m),T=dn(T),D=dn(D),O=/^0b([01]+)$/i,A=/^0x([0-9a-f]+)$/i,z=/^0o?([0-7]+)$/i,$=dn(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),M="\n\r\u2028\u2029",F="+-*&%=<>!?|~^",j="[{(,;:",q=j+")}]",C=M+"  \t\f\v​             　\ufeff",N=dn(e("./'\""+F+q+C));function I(e){return 56320<=e&&e<=57343}function P(e){return 48<=e&&e<=57}function R(e){return!N[e]}function di(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function hi(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function ie(e,n,t,i,r){throw new hi(e,n,t,i,r)}function re(e,n,t){return e.type==n&&(null==t||e.value==t)}M=dn(e(M)),F=dn(e(F)),j=dn(e(j)),q=dn(e(q)),C=dn(e(C)),((hi.prototype=Object.create(Error.prototype)).constructor=hi).prototype.name="SyntaxError",n(hi);var U={};function oe(i,r,o,a){var s={text:i,filename:r,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]},f=!1;function c(){return s.text.charAt(s.pos)}function u(e,n){var t=s.text.charAt(s.pos++);if(e&&!t)throw U;return M[t]?(s.col=0,s.line++,n||(s.newline_before=!0),"\r"==t&&"\n"==c()&&(s.pos++,t="\n")):s.col++,t}function l(e){for(;0<e--;)u()}function p(e){return s.text.substr(s.pos,e.length)==e}function d(){s.tokline=s.line,s.tokcol=s.col,s.tokpos=s.pos}function h(e,n,t){s.regex_allowed="operator"==e&&!vi[n]||"keyword"==e&&T[n]||"punc"==e&&j[n],"punc"==e&&"."==n?f=!0:t||(f=!1);n={type:e,value:n,line:s.tokline,col:s.tokcol,pos:s.tokpos,endline:s.line,endcol:s.col,endpos:s.pos,nlb:s.newline_before,file:r};return/^(?:num|string|regexp)$/i.test(e)&&(n.raw=i.substring(n.pos,n.endpos)),t||(n.comments_before=s.comments_before,n.comments_after=s.comments_before=[]),s.newline_before=!1,new H(n)}function v(e){ie(e,r,s.tokline,s.tokcol,s.tokpos)}function m(i){var r=!1,o=!1,a=!1,s="."==i,e=function(e){for(var n,t="",i=0;(n=c())&&e(n,i++);)t+=u();return t}(function(e,n){var t=e.charCodeAt(0);switch(t){case 120:case 88:return!a&&(a=!0);case 101:case 69:return a||!r&&(r=o=!0);case 45:return o||0==n&&!i;case 43:return o;case o=!1,46:return!(s||a||r)&&(s=!0)}return P(t)||/[_0-9a-fo]/i.test(e)});/^0[0-7_]+$/.test(e=i?i+e:e)?S.has_directive("use strict")&&v("Legacy octal literals are not allowed in strict mode"):e=e.replace(a?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");var n=function(e){if(n=O.exec(e))return parseInt(n[1],2);if(n=A.exec(e))return parseInt(n[1],16);if(n=z.exec(e))return parseInt(n[1],8);var n=parseFloat(e);return n==e?n:void 0}(e);if(!isNaN(n))return h("num",n);v("Invalid syntax: "+e)}function _(e){var n=u(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(g(2));case 117:if("{"!=c())return String.fromCharCode(g(4));u();var t=0;do{var i=parseInt(u(!0),16)}while(isNaN(i)&&v("Invalid hex-character pattern in string"),t=16*t+i,"}"!=c());return(u(),t<65536)?String.fromCharCode(t):(1114111<t&&v("Invalid character code: "+t),String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t)));case 13:"\n"==c()&&u(!0,e);case 10:return""}return"0"<=n&&n<="7"?function(e){var n=c();"0"<=n&&n<="7"&&(e+=u(!0))[0]<="3"&&"0"<=(n=c())&&n<="7"&&(e+=u(!0));if("0"===e)return"\0";0<e.length&&S.has_directive("use strict")&&v("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n):n}function g(e){for(var n=0;0<e;--e){var t=parseInt(u(!0),16);isNaN(t)&&v("Invalid hex-character pattern in string"),n=n<<4|t}return n}var b=e("Unterminated string constant",function(e){for(var n=u(),t="";;){var i=u(!0,!0);if("\\"==i)i=_(!0);else if(M[i])v("Unterminated string constant");else if(i==n)break;t+=i}var r=h("string",t);return r.quote=e,r});function y(e){var n,t=s.regex_allowed,i=function(){for(var e=s.text,n=s.pos;n<s.text.length;++n)if(M[e[n]])return n;return-1}();return-1==i?(n=s.text.substr(s.pos),s.pos=s.text.length):(n=s.text.substring(s.pos,i),s.pos=i),s.col=s.tokcol+(s.pos-s.tokpos),s.comments_before.push(h(e,n,!0)),s.regex_allowed=t,S}var w=e("Unterminated multiline comment",function(){var e=s.regex_allowed,n=function(e,n){if(e=s.text.indexOf(e,s.pos),n&&-1==e)throw U;return e}("*/",!0),n=s.text.substring(s.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return l(n.length+2),s.comments_before.push(h("comment2",n,!0)),s.regex_allowed=e,S});function x(){for(var e,n,t=!1,i="",r=!1;e=c();)if(t)"u"!=e&&v("Expecting UnicodeEscapeSequence -- uXXXX"),R(e=_())||v("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),i+=e,t=!1;else if("\\"==e)r=t=!0,u();else{if(!R(e))break;i+=u()}return te[i]&&r&&(n=i.charCodeAt(0).toString(16).toUpperCase(),i="\\u"+"0000".substr(n.length)+n+i.slice(1)),i}var k=e("Unterminated regular expression",function(e){for(var n,t=!1,i=!1;n=u(!0);)if(M[n])v("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=x();try{var o=new RegExp(e,r);return o.raw_source=e,h("regexp",o)}catch(e){v(e.message)}});function E(e){return h("operator",function e(n){if(!c())return n;var t=n+c();return $[t]?(u(),e(t)):n}(e||u()))}function e(n,t){return function(e){try{return t(e)}catch(e){if(e!==U)throw e;v(n)}}}function S(e){if(null!=e)return k(e);for(a&&0==s.pos&&p("#!")&&(d(),l(2),y("comment5"));;){if(!function(){for(;C[c()];)u()}(),d(),o){if(p("\x3c!--")){l(4),y("comment3");continue}if(p("--\x3e")&&s.newline_before){l(3),y("comment4");continue}}var n=c();if(!n)return h("eof");var t=n.charCodeAt(0);switch(t){case 34:case 39:return b(n);case 46:return function(){u();var e=c();if("."!=e)return P(e.charCodeAt(0))?m("."):h("punc",".");for(var n=".";n+=".",u(),"."==c(););return h("operator",n)}();case 47:var i=function(){switch(u(),c()){case"/":return u(),y("comment1");case"*":return u(),w()}return s.regex_allowed?k(""):E("/")}();if(i===S)continue;return i}if(P(t))return m();if(q[n])return h("punc",u());if(p("=>"))return h("punc",u()+u());if(F[n])return E();if(92==t||!N[n])return t=void 0,t=x(),f?h("name",t):D[t]?h("atom",t):te[t]?$[t]?h("operator",t):h("keyword",t):h("name",t);break}v("Unexpected character '"+n+"'")}return S.context=function(e){return s=e?e:s},S.add_directive=function(e){s.directive_stack[s.directive_stack.length-1].push(e),s.directives[e]?s.directives[e]++:s.directives[e]=1},S.push_directives_stack=function(){s.directive_stack.push([])},S.pop_directives_stack=function(){for(var e=s.directive_stack.pop(),n=e.length;0<=--n;)s.directives[e[n]]--},S.has_directive=function(e){return 0<s.directives[e]},S}var ae=dn("typeof void delete -- ++ ! ~ - +"),vi=dn("-- ++"),se=dn("= += -= /= *= %= >>= <<= >>>= |= ^= &="),mi=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),fe=dn("atom num regexp string");function _i(e,f){f=Z(f,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var c={input:"string"==typeof e?oe(e,f.filename,f.html5_comments,f.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_loop:0,labels:[],peeked:null,prev:null,token:null};function u(e,n){return re(c.token,e,n)}function l(){return c.peeked||(c.peeked=c.input())}function p(){return c.prev=c.token,c.peeked?(c.token=c.peeked,c.peeked=null):c.token=c.input(),c.in_directives=c.in_directives&&("string"==c.token.type||u("punc",";")),c.token}function d(){return c.prev}function a(e,n,t,i){var r=c.input.context();ie(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function s(e,n){a(n,e.line,e.col)}function t(e,n){return e+(void 0===n?"":" «"+n+"»")}function h(e){s(e=null==e?c.token:e,"Unexpected token: "+t(e.type,e.value))}function v(e,n){if(u(e,n))return p();s(c.token,"Unexpected token: "+t(c.token.type,c.token.value)+", expected: "+t(e,n))}function m(e){return v("punc",e)}function o(e){return e.nlb||!hn(e.comments_before,function(e){return!e.nlb})}function _(){return!f.strict&&(u("eof")||u("punc","}")||o(c.token))}function g(e){u("punc",";")?p():e||_()||m(";")}function b(){m("(");var e=K();return m(")"),e}function n(i){return function(){var e=c.token,n=i.apply(null,arguments),t=d();return n.start=e,n.end=t,n}}function y(){(u("operator","/")||u("operator","/="))&&(c.peeked=null,c.token=c.input(c.token.value.substr(1)))}c.token=p();var w=n(function(){switch(y(),c.token.type){case"string":var e=c.in_directives,n=K();return e&&(n instanceof ei?(r=n.start.raw.slice(1,-1),c.input.add_directive(r),n.value=r):c.in_directives=e=!1),g(),e?new wn(n):new kn({body:n});case"num":case"regexp":case"operator":case"atom":return x();case"name":switch(c.token.value){case"async":if(re(l(),"keyword","function"))return p(),p(),T(Gn);break;case"await":if(c.in_async)return x()}return(re(l(),"punc",":")?function(){var n=I(ee);hn(c.labels,function(e){return e.name!=n.name})||a("Label "+n.name+" defined twice");m(":"),c.labels.push(n);var e=w();c.labels.pop(),e instanceof An||n.references.forEach(function(e){e instanceof it&&s(e.label.start,"Continue label `"+n.name+"` must refer to IterationStatement")});return new On({body:e,label:n})}:x)();case"punc":switch(c.token.value){case"{":return new Dn({start:c.token,body:D(),end:d()});case"[":case"(":return x();case";":return c.in_directives=!1,p(),new xn;default:h()}case"keyword":switch(c.token.value){case"break":return p(),k(tt);case"const":p();var t=A();return g(),t;case"continue":return p(),k(it);case"debugger":return p(),g(),new yn;case"do":p();n=Q(w);v("keyword","while");var i=b();return g(!0),new $n({body:n,condition:i});case"while":return p(),new Mn({condition:b(),body:Q(w)});case"for":return p(),function(){m("(");var e=null;if(!u("punc",";")&&(e=u("keyword","const")?(p(),A(!0)):u("keyword","let")?(p(),z(!0)):u("keyword","var")?(p(),$(!0)):K(!0),u("operator","in")))return e instanceof pt?1<e.definitions.length&&s(e.start,"Only one variable declaration allowed in for..in loop"):J(e)||(e=G(e))instanceof Ft||s(e.start,"Invalid left-hand side in for..in loop"),p(),function(e){var n=K();return m(")"),new jn({init:e,object:n,body:Q(w)})}(e);return function(e){m(";");var n=u("punc",";")?null:K();m(";");var t=u("punc",")")?null:K();return m(")"),new Fn({init:e,condition:n,step:t,body:Q(w)})}(e)}();case"function":return p(),T(Xn);case"if":return p(),function(){var e=b(),n=w(),t=null;u("keyword","else")&&(p(),t=w());return new rt({condition:e,body:n,alternative:t})}();case"let":p();t=z();return g(),t;case"return":0!=c.in_function||f.bare_returns||a("'return' outside of function"),p();var r=null;return u("punc",";")?p():_()||(r=K(),g()),new Zn({value:r});case"switch":return p(),new ot({expression:b(),body:Q(O)});case"throw":p(),o(c.token)&&a("Illegal newline after 'throw'");r=K();return g(),new et({value:r});case"try":return p(),function(){var e=D(),n=null,t=null;{var i;u("keyword","catch")&&(r=c.token,p(),i=null,u("punc","(")&&(p(),i=R(Xt),m(")")),n=new ut({start:r,argname:i,body:D(),end:d()}))}{var r;u("keyword","finally")&&(r=c.token,p(),t=new lt({start:r,body:D(),end:d()}))}n||t||a("Missing catch/finally blocks");return new ct({body:e,bcatch:n,bfinally:t})}();case"var":p();t=$();return g(),t;case"with":return c.input.has_directive("use strict")&&a("Strict mode may not include a with statement"),p(),new qn({expression:b(),body:w()})}}h()});function x(){var e=K();return g(),new kn({body:e})}function k(e){var n,t=null;null!=(t=!_()?I(ne,!0):t)?((n=tn(function(e){return e.name==t.name},c.labels))||s(t.start,"Undefined label "+t.name),t.thedef=n):0==c.in_loop&&a(e.TYPE+" not inside a loop or switch"),g();e=new e({label:t});return n&&n.references.push(e),e}function E(e){if(e instanceof Mt){var n=null;return e.elements[e.elements.length-1]instanceof Et&&(n=E(e.elements.pop().expression)),new jt({start:e.start,elements:e.elements.map(E),rest:n,end:e.end})}if(e instanceof zt)return new _t({start:e.start,name:E(e.left),value:e.right,end:e.end});if(e instanceof _t)return e.name=E(e.name),e;if(e instanceof jt)return e.elements=e.elements.map(E),e.rest&&(e.rest=E(e.rest)),e;if(e instanceof Ct)return e.properties.forEach(function(e){e.value=E(e.value)}),e.rest&&(e.rest=E(e.rest)),e;if(e instanceof ai)return e;if(e instanceof Nt){n=null;return e.properties[e.properties.length-1]instanceof Et&&(n=E(e.properties.pop().expression)),new Ct({start:e.start,properties:e.properties.map(function(e){return e instanceof Ht||s(e.start,"Invalid destructuring assignment"),new qt({start:e.start,key:e.key,value:E(e.value),end:e.end})}),rest:n,end:e.end})}return e instanceof Wt?e:e instanceof Kt?new Wt(e):void s(e.start,"Invalid arrow parameter")}function S(e,n,t){var i=c.in_async;c.in_async=t;var r=c.in_funarg;c.in_funarg=c.in_function;var o,a,s=e.map(E),f=(f=e.rest||null)&&E(f);c.in_funarg=r,m("=>");e=c.in_loop,r=c.labels;return++c.in_function,c.in_directives=!0,c.input.push_directives_stack(),c.in_loop=0,c.labels=[],u("punc","{")?(o=D(),a=null,c.input.has_directive("use strict")&&s.forEach(H)):(o=[],a=X()),c.input.pop_directives_stack(),--c.in_function,c.in_loop=e,c.labels=r,c.in_async=i,new(t?Ln:Bn)({start:n,argnames:s,rest:f,body:o,value:a,end:d()})}var T=function(e){var n,t=c.in_async;e===Gn?(n=I(Jt),c.in_async=!0):e===Xn?(n=I(Jt),c.in_async=!1):(c.in_async=e===Vn,n=I(Gt,!0)),!n||e===Hn||n instanceof Bt||h(d()),m("(");var i=c.in_funarg;c.in_funarg=c.in_function;var r=F(")",!f.strict,!1,function(){return U(Wt)});c.in_funarg=i;var o=c.in_loop,a=c.labels;++c.in_function,c.in_directives=!0,c.input.push_directives_stack(),c.in_loop=0,c.labels=[];i=D();return c.input.has_directive("use strict")&&(n&&H(n),r.forEach(H),r.rest&&H(r.rest)),c.input.pop_directives_stack(),--c.in_function,c.in_loop=o,c.labels=a,c.in_async=t,new e({name:n,argnames:r,rest:r.rest||null,body:i})};function D(){m("{");for(var e=[];!u("punc","}");)u("eof")&&m("}"),e.push(w());return p(),e}function O(){m("{");for(var e,n,t,i,r=[];!u("punc","}");)u("eof")&&m("}"),u("keyword","case")?(e&&(e.end=d()),n=[],e=new ft({start:(i=c.token,p(),i),expression:K(),body:n}),r.push(e),m(":")):u("keyword","default")?(e&&(e.end=d()),t&&a("More than one default clause in switch statement"),n=[],e=new st({start:(i=c.token,p(),m(":"),i),body:n}),r.push(e),t=e):(n||h(),n.push(w()));return e&&(e.end=d()),p(),r}function i(e,n){for(var t=[];;){var i=c.token,r=R(e),o=null;if(u("operator","=")?(p(),o=X(n)):!n&&(e===Yt||r instanceof Ft)&&a("Missing initializer in declaration"),t.push(new mt({start:i,name:r,value:o,end:d()})),!u("punc",","))break;p()}return t}var A=function(e){return new dt({start:d(),definitions:i(Yt,e),end:d()})},z=function(e){return new ht({start:d(),definitions:i(Lt,e),end:d()})},$=function(e){return new vt({start:d(),definitions:i(Vt,e),end:d()})};var M=function(e){if(u("operator","new"))return function(e){var n=c.token;v("operator","new");var t=M(!1),i=u("punc","(")?(p(),F(")",!f.strict)):[],i=new bt({start:n,expression:t,args:i,end:d()});return B(i),Y(i,e)}(e);var n=c.token;if(u("punc")){switch(n.value){case"(":if(p(),u("punc",")"))return p(),S([],n);var t=K(!1,!0),i=n.comments_before.length;[].unshift.apply(t.start.comments_before,n.comments_before),n.comments_before.length=0,n.comments_before=t.start.comments_before,0==(n.comments_before_length=i)&&0<n.comments_before.length&&((r=n.comments_before[0]).nlb||(r.nlb=n.nlb,n.nlb=!1)),n.comments_after=t.start.comments_after,t.start=n,m(")");var r=d();return r.comments_before=t.end.comments_before,[].push.apply(t.end.comments_after,r.comments_after),r.comments_after.length=0,r.comments_after=t.end.comments_after,t.end=r,t instanceof gt&&B(t),u("punc","=>")?S(t instanceof yt?t.expressions:[t],n):Y(t,e);case"[":return Y(j(),e);case"{":return Y(C(),e)}h()}if(u("keyword","function"))return p(),(a=T(Wn)).start=n,a.end=d(),Y(a,e);if(u("name")){var o=P(Kt,n);if(p(),"async"==o.name){if(u("keyword","function"))return p(),(a=T(Vn)).start=n,a.end=d(),Y(a,e);if(u("name"))return n=c.token,o=P(Kt,n),p(),S([o],n,!0);if(u("punc","(")){var a=Y(o,e);if(!u("punc","=>"))return a;a=a.args;return a[a.length-1]instanceof Et&&(a.rest=a.pop().expression),S(a,n,!0)}}return u("punc","=>")?S([o],n):Y(o,e)}if(fe[c.token.type])return Y(function(){var e,n=c.token;switch(n.type){case"num":e=new ni({start:n,end:n,value:n.value});break;case"string":e=new ei({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new ti({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new ci({start:n,end:n});break;case"true":e=new ui({start:n,end:n});break;case"null":e=new ii({start:n,end:n})}}return p(),e}(),e);h()};function F(e,n,t,i){i=i||X;for(var r=!0,o=[];!u("punc",e)&&(r?r=!1:m(","),!n||!u("punc",e));)if(t&&u("punc",","))o.push(new ai({start:c.token,end:c.token}));else if(u("operator","...")){if(i!==X){p(),o.rest=i(),o.rest instanceof _t&&s(o.rest.start,"Invalid rest parameter");break}o.push(new Et({start:c.token,expression:(p(),i()),end:d()}))}else o.push(i());return m(e),o}var j=n(function(){return m("["),new Mt({elements:F("]",!f.strict,!0)})}),q=n(function(){return T(Hn)}),C=n(function(){m("{");for(var e=!0,n=[];!u("punc","}")&&(e?e=!1:m(","),f.strict||!u("punc","}"));){var t=c.token;if(u("operator","..."))p(),n.push(new Et({start:t,expression:X(),end:d()}));else if(re(l(),"operator","=")){var i=I(Kt);p(),n.push(new Ht({start:t,key:t.value,value:new zt({start:t,left:i,operator:"=",right:X(),end:d()}),end:d()}))}else if(re(l(),"punc",",")||re(l(),"punc","}"))n.push(new Ht({start:t,key:t.value,value:I(Kt),end:d()}));else{var r=N();if(u("punc","(")){var o=c.token;(a=T(Wn)).start=o,a.end=d(),n.push(new Ht({start:t,key:r,value:a,end:d()}))}else if(u("punc",":"))p(),n.push(new Ht({start:t,key:r,value:X(),end:d()}));else{if("name"==t.type)switch(r){case"async":r=N();var a,o=c.token;(a=T(Vn)).start=o,a.end=d(),n.push(new Ht({start:t,key:r,value:a,end:d()}));continue;case"get":n.push(new Rt({start:t,key:N(),value:q(),end:d()}));continue;case"set":n.push(new It({start:t,key:N(),value:q(),end:d()}));continue}h()}}}return p(),new Nt({properties:n})});function N(){var e=c.token;switch(e.type){case"operator":te[e.value]||h();case"num":case"string":case"name":case"keyword":case"atom":return p(),""+e.value;case"punc":m("[");var n=X();return m("]"),n;default:h()}}function P(e,n){var t=n.value;return"await"===t&&c.in_async&&h(n),new("this"===t?Qt:e)({name:""+t,start:n,end:n})}function H(e){"arguments"!=e.name&&"eval"!=e.name||s(e.start,"Unexpected "+e.name+" in strict mode")}function I(e,n){if(!u("name"))return n||a("Name expected"),null;e=P(e,c.token);return c.input.has_directive("use strict")&&e instanceof Bt&&H(e),p(),e}function R(e){var n=c.token;if(u("punc","[")){p();var t=F("]",!f.strict,!0,function(){return U(e)});return new jt({start:n,elements:t,rest:t.rest||null,end:d()})}if(u("punc","{")){p();for(var i=!0,r=[],o=null;!u("punc","}")&&(i?i=!1:m(","),f.strict||!u("punc","}"));){var a=c.token;if(u("punc","[")||re(l(),"punc",":")){var s=N();m(":"),r.push(new qt({start:a,key:s,value:U(e),end:d()}))}else{if(u("operator","...")){p(),o=R(e);break}s=I(e);u("operator","=")&&(p(),s=new _t({start:s.start,name:s,value:X(),end:d()})),r.push(new qt({start:a,key:a.value,value:s,end:d()}))}}return m("}"),new Ct({start:n,properties:r,rest:o,end:d()})}return I(e)}function U(e){var n=c.token,e=R(e);return u("operator","=")?(p(),new _t({start:n,name:e,value:X(),end:d()})):e}function B(e){for(var n=e.start,t=n.comments_before,i=mn(n,"comments_before_length")?n.comments_before_length:t.length;0<=--i;){var r=t[i];if(/[@#]__PURE__/.test(r.value)){e.pure=r;break}}}var Y=function(e,n){var t=e.start;if(u("punc","."))return p(),Y(new xt({start:t,expression:e,property:(i=c.token.value,v("name"),i),end:d()}),n);if(u("punc","[")){p();var i=K();return m("]"),Y(new kt({start:t,expression:e,property:i,end:d()}),n)}if(n&&u("punc","(")){p();t=new gt({start:t,expression:e,args:F(")",!f.strict),end:d()});return B(t),Y(t,!0)}return e};function r(e,n,t){var i=n.value;switch(i){case"++":case"--":J(t)||s(n,"Invalid use of "+i+" operator");break;case"delete":t instanceof Kt&&c.input.has_directive("use strict")&&s(t.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:i,expression:t})}function L(){var e=c.token;return c.in_async&&u("name","await")?(c.in_funarg===c.in_function&&a("Invalid use of await in function argument"),c.input.context().regex_allowed=!0,p(),new $t({start:e,expression:L(),end:d()})):function(){var e=c.token;if(u("operator")&&ae[e.value]){p(),y();var n=r(Tt,e,L());return n.start=e,n.end=d(),n}for(var t=M(!0);u("operator")&&vi[c.token.value]&&!o(c.token);)(t=r(Dt,c.token,t)).start=e,t.end=c.token,p();return t}()}var V=function(e,n,t){var i=u("operator")?c.token.value:null,r=null!=(i="in"==i&&t?null:i)?mi[i]:null;if(null!=r&&n<r){p();r=V(L(),r,t);return V(new Ot({start:e.start,left:e,operator:i,right:r,end:r.end}),n,t)}return e};var W=function(e){var n=c.token,t=(i=e,V(L(),0,i));if(u("operator","?")){p();var i=X();return m(":"),new At({start:n,condition:t,consequent:i,alternative:X(e),end:d()})}return t};function J(e){return e instanceof wt||e instanceof Kt}function G(e){if(e instanceof Mt){var n=null;if(e.elements[e.elements.length-1]instanceof Et&&!((n=G(e.elements.pop().expression))instanceof Ft||J(n)))return e;var t=e.elements.map(G);return hn(t,function(e){return e instanceof _t||e instanceof Ft||e instanceof ai||J(e)})?new jt({start:e.start,elements:t,rest:n,end:e.end}):e}if(e instanceof zt){t=G(e.left);return t instanceof Ft||J(t)?new _t({start:e.start,name:t,value:e.right,end:e.end}):e}if(!(e instanceof Nt))return e;n=null;if(e.properties[e.properties.length-1]instanceof Et&&!((n=G(e.properties.pop().expression))instanceof Ft||J(n)))return e;for(var i=[],r=0;r<e.properties.length;r++){var o=e.properties[r];if(!(o instanceof Ht))return e;var a=G(o.value);if(!(a instanceof _t||a instanceof Ft||J(a)))return e;i.push(new qt({start:o.start,key:o.key,value:a,end:o.end}))}return new Ct({start:e.start,properties:i,rest:n,end:e.end})}function X(e){var n=c.token,t=W(e),i=c.token.value;if(u("operator")&&se[i]){if(J(t)||"="==i&&(t=G(t))instanceof Ft)return p(),new zt({start:n,left:t,operator:i,right:X(e),end:d()});a("Invalid assignment")}return t}function K(e,n){for(var t=c.token,i=[];;){if(n&&u("operator","...")){p(),i.rest=R(Wt);break}if(i.push(X(e)),!u("punc",","))break;if(p(),n&&u("punc",")")&&re(l(),"punc","=>"))break}return 1!=i.length||i.rest?new yt({start:t,expressions:i,end:d()}):i[0]}function Q(e){++c.in_loop;e=e();return--c.in_loop,e}if(f.expression){y();e=K();return v("eof"),e}return function(){var e=c.token,n=[];for(c.input.push_directives_stack();!u("eof");)n.push(w());c.input.pop_directives_stack();var t=d(),i=f.toplevel;return i?(i.body=i.body.concat(n),i.end=t):i=new Nn({start:e,body:n,end:t}),i}()}function _(e,n,t,i){this.eliminated=0,this.global=!1,this.id=e,this.init=i,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.scope=n,this.undeclared=!1}_.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n,t=e.cache&&e.cache.props;this.global&&t&&t.has(this.name)?this.mangled_name=t.get(this.name):this.mangled_name||this.unmangleable(e)||(n=this.redefined(),this.mangled_name=n?n.mangled_name||n.name:function(e,i){var n,t=e.scope,r=y(t,i),o=t.cname_holes,a=Object.create(null),s=[t];e.forEach(function(e){var n=e.scope;do{if(!(s.indexOf(n)<0))break;for(var t in y(n,i))a[t]=!0}while(s.push(n),n=n.parent_scope)});for(var f=0;f<o.length;f++)if(n=L(o[f]),!a[n])return o.splice(f,1),r[n]=!0,n;for(;;)if(n=L(++t.cname),!(r[n]||m[n]||i.reserved.has[n])){if(!a[n])break;o.push(t.cname)}return r[n]=!0,n}(this,e),this.global&&t&&t.set(this.name,this.mangled_name))},redefined:function(){var e=this.defun;if(e){var n=this.name,e=e.variables.get(n)||e instanceof Nn&&e.globals.get(n)||this.orig[0]instanceof Yt&&tn(function(e){return e.name==n},e.enclosed);return e&&e!==this?e.redefined()||e:void 0}},unmangleable:function(e){return this.global&&!e.toplevel||this.undeclared||!e.eval&&this.scope.pinned()||e.keep_fnames&&(this.orig[0]instanceof Gt||this.orig[0]instanceof Jt)}};var gi=dn("delete ++ --");function g(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new vn,e.variables=new vn,n&&(e.make_def=n.make_def)}function b(e,n){g(e,n),e.uses_eval=!1,e.uses_with=!1}function y(e,n){var t,i=e.names_in_use;return i||(e.cname=-1,e.cname_holes=[],e.names_in_use=i=Object.create(null),t=n.cache&&n.cache.props,e.enclosed.forEach(function(e){e.unmangleable(n)&&(i[e.name]=!0),e.global&&t&&t.has(e.name)&&(i[t.get(e.name)]=!0)})),i}function w(e){return e=Z(e,{eval:!1,ie8:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),un(e.reserved,"arguments"),e.reserved.has=dn(e.reserved),e}Nn.DEFMETHOD("figure_out_scope",function(c){c=Z(c,{cache:null,ie8:!1});var u=this,o=null,t=0,a=u.parent_scope=null,l=new li(function(i,e){if(Jn(i))return i.name.walk(l),t(function(){i.argnames.forEach(function(e){e.walk(l)}),i.rest&&i.rest.walk(l),Sn(i,l)}),!0;if(i instanceof at)return i.init_vars(a),e(),!0;if(i instanceof ct)return t(function(){Sn(i,l)}),i.bcatch&&i.bcatch.walk(l),i.bfinally&&i.bfinally.walk(l),!0;if(i instanceof qn){for(var n=a;!(n=n.resolve()).uses_with&&(n.uses_with=!0,n=n.parent_scope););return t(e),!0}if(i instanceof En)return t(e),!0;function t(e){i.init_vars(a);var n=o,t=a;i instanceof Cn&&(o=i),a=i,e(),a=t,o=n}function r(e,n){e!==n&&(i.mark_enclosed(c),n=n.find_variable(i.name),i.thedef!==n&&((i.thedef=n).orig.push(i),i.mark_enclosed(c)))}i instanceof Ut&&(i.scope=a),i instanceof ee&&((i.thedef=i).references=[]),i instanceof Xt||i instanceof Yt?a.def_variable(i).defun=o:i instanceof Jt?(o.def_function(i,l.parent()),r(o,a)):i instanceof Wt?(o.def_variable(i),r(o,a)):i instanceof Gt?(e=o.def_function(i,"arguments"==i.name?void 0:o),c.ie8&&(e.defun=o.parent_scope.resolve())):i instanceof Lt?a.def_variable(i):i instanceof Vt&&(o.def_variable(i,null),r(o,a))});u.make_def=function(e,n){return new _(++t,this,e,n)},u.walk(l),u.globals=new vn;var p=[],l=new li(function(e){if(e instanceof ut)return e.argname instanceof Ft?(p.push(e),e.argname.walk(l),p.pop(),Sn(e,l),!0):void 0;if(e instanceof Pn)return p.push(e),e.argnames.forEach(function(e){e.walk(l)}),e.rest&&e.rest.walk(l),p.pop(),Un(e,l),!0;if(e instanceof nt)return e.label&&e.label.thedef.references.push(e),!0;if(e instanceof Bt){if(e instanceof Xt){var n=e.definition().redefined();if(n)for(var t=e.scope;t&&(un(t.enclosed,n),t!==n.scope);t=t.parent_scope);}else{var i;e instanceof Yt&&((i=e.definition().redefined())&&(i.const_redefs=!0))}return"arguments"!=e.name?!0:((r=e instanceof Vt&&l.parent())instanceof mt&&!r.value||(a=e.scope.resolve().find_variable("arguments"))&&d(a)&&(a.scope.uses_arguments=3),!0)}if(e instanceof Kt){for(var r,o=e.name,a=e.scope.find_variable(o),s=p.length;0<s&&a&&!((s=p.lastIndexOf(a.scope,s-1))<0);){var f=a.orig[0];if(f instanceof Xt||f instanceof Wt||f instanceof Gt){e.in_arg=!0;break}a=a.scope.parent_scope.find_variable(o)}if(a?"arguments"==o&&d(a)&&((r=l.parent())instanceof zt&&r.left===e||r instanceof St&&gi[r.operator]?a.scope.uses_arguments=3:a.scope.uses_arguments<2&&!(r instanceof wt&&r.expression===e)?a.scope.uses_arguments=2:a.scope.uses_arguments||(a.scope.uses_arguments=!0)):a=u.def_global(e),"eval"==o)if("Call"==(r=l.parent()).TYPE&&r.expression===e)for(t=e.scope;!(t=t.resolve()).uses_eval&&(t.uses_eval=!0,t=t.parent_scope););else a.undeclared&&(u.uses_eval=!0);return e.thedef=a,e.reference(c),!0}});function d(e){return e.orig[0]instanceof Wt&&!(e.orig[1]instanceof Wt||e.orig[2]instanceof Wt)&&!In(e.scope)}function i(e,n){var t=e.name,i=e.thedef;if(hn(i.orig,function(e){return!(e instanceof Yt||e instanceof Lt)})){var r,o=n.find_variable(t);return o?(r=o.redefined())&&(o=r):o=u.globals.get(t),o?o.orig.push(e):o=n.def_variable(e),i.defun=o.scope,i.forEach(function(e){e.redef=i,e.thedef=o,e.reference(c)}),o.undeclared&&u.variables.set(t,o),1}}u.walk(l),c.ie8&&u.walk(new li(function(e){if(e instanceof Xt){var n=e.thedef.defun;return i(e,n=n.name instanceof Gt&&n.name.name==e.name?n.parent_scope.resolve():n),!0}if(e instanceof Gt){n=e.thedef;return i(e,e.scope.parent_scope.resolve())?void 0!==e.thedef.init?e.thedef.init=!1:n.init&&(e.thedef.init=n.init):delete n.defun,!0}}))}),Nn.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);e=this.make_def(e);return e.undeclared=!0,e.global=!0,n.set(t,e),e}),En.DEFMETHOD("init_vars",function(e){g(this,e)}),Cn.DEFMETHOD("init_vars",function(e){b(this,e)}),Bn.DEFMETHOD("init_vars",function(e){b(this,e)}),Ln.DEFMETHOD("init_vars",function(e){b(this,e)}),Pn.DEFMETHOD("init_vars",function(e){return b(this,e),this.uses_arguments=!1,this.def_variable(new Wt({name:"arguments",start:this.start,end:this.end})),this}),Ut.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(un(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){un(n.scope.enclosed,e)}),t!==n.scope);t=t.parent_scope);}),Ut.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),En.DEFMETHOD("find_variable",function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),En.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return t.init&&!Jn(t.init)||(t.init=n),this.functions.set(e.name,t),t}),En.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),Rn(t.init)&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),Ut.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),ee.DEFMETHOD("unmangleable",on),Ut.DEFMETHOD("definition",function(){return this.thedef}),Nn.DEFMETHOD("mangle_names",function(o){o=w(o);var n,r=-1;o.cache&&o.cache.props&&(n=y(this,o),o.cache.props.each(function(e){n[e]=!0}));var a=[],s=new li(function(n,e){if(n instanceof On){var t=r;return e(),o.v8&&function(e){var n,t=0;for(;n=e.parent(t++);){if(n instanceof Tn)return n instanceof Nn&&!o.toplevel;if(n instanceof On)return!0}}(s)||(r=t),!0}var i;if(n instanceof En)return o.webkit&&n instanceof An&&n.init instanceof ht&&n.init.definitions.forEach(function(e){e.name.match_symbol(function(e){var n,t,i;e instanceof Lt&&(n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e),e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i})})},!0),n.to_mangle=[],n.variables.each(function(e){!function(n){var e=n.orig[0],t=n.redefined();if(!t){if(!(e instanceof Yt))return!1;var i=n.scope.resolve();if(n.scope===i)return!1;if(n.scope.parent_scope.find_variable(e.name))return!1;t=i.def_variable(e),i.to_mangle.push(t)}a.push(n),n.references.forEach(r),(e instanceof Xt||e instanceof Yt)&&r(e);return!0;function r(e){e.thedef=t,e.reference(o),e.thedef=n}}(e)&&n.to_mangle.push(e)}),e(),o.cache&&n instanceof Nn&&n.globals.each(f),n instanceof Xn&&s.has_directive("use asm")&&((e=new Kt(n.name)).scope=n,e.reference(o)),n.to_mangle.forEach(f),!0;if(n instanceof ee){for(;i=L(++r),m[i];);return n.mangled_name=i,!0}});function f(e){o.reserved.has[e.name]||e.mangle(o)}this.walk(s),a.forEach(f)}),Nn.DEFMETHOD("find_colliding_names",function(t){var i=t.cache&&t.cache.props,n=Object.create(m);return t.reserved.forEach(r),this.globals.each(o),this.walk(new li(function(e){e instanceof En&&e.variables.each(o)})),n;function r(e){n[e]=!0}function o(e){var n=e.name;if(e.global&&i&&i.has(n))n=i.get(n);else if(!e.unmangleable(t))return;r(n)}}),Nn.DEFMETHOD("expand_names",function(i){L.reset(),L.sort(),i=w(i);var r=this.find_colliding_names(i),o=0;function n(n){var e,t;n.global&&i.cache||n.unmangleable(i)||i.reserved.has[n.name]||(e=n.redefined(),t=e?e.rename||e.name:function(){for(var e;e=L(o++),r[e];);return e}(),n.rename=t,n.forEach(function(e){e.definition()===n&&(e.name=t)}))}this.globals.each(n),this.walk(new li(function(e){e instanceof En&&e.variables.each(n)}))}),gn.DEFMETHOD("tail_node",sn),yt.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),Nn.DEFMETHOD("compute_char_frequency",function(e){e=w(e),L.reset();var n=Ut.prototype.add_source_map;try{Ut.prototype.add_source_map=function(){this.unmangleable(e)||L.consider(this.name,-1)},e.properties&&(xt.prototype.add_source_map=function(){L.consider(this.property,-1)},kt.prototype.add_source_map=function(){!function e(n){n instanceof ei?L.consider(n.value,-1):n instanceof At?(e(n.consequent),e(n.alternative)):n instanceof yt&&e(n.tail_node())}(this.property)}),L.consider(this.print_to_string(),1)}finally{Ut.prototype.add_source_map=n,delete xt.prototype.add_source_map,delete kt.prototype.add_source_map}L.sort()});var x,k,E,S,B,Y,L=(x=Object.create(null),S=V("0123456789"),B=V("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),G.consider=function(e,n){for(var t=e.length;0<=--t;)E[e[t]]+=n},G.sort=function(){k=B.sort(J).concat(S.sort(J))},(G.reset=W)(),G);function V(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(i),x[i]=-.01*t}return n}function W(){E=Object.create(x)}function J(e,n){return E[n]-E[e]}function G(e){var n="",t=54;for(e++;n+=k[--e%t],e=Math.floor(e/t),t=64,0<e;);return n}function bi(e,n){if(!(this instanceof bi))return new bi(e,n);pi.call(this,this.before,this.after),this.options=Z(e,{arguments:!n,arrows:!n,assignments:!n,awaits:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,default_values:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,inline:!n,join_vars:!n,keep_fargs:n,keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,negate_iife:!n,objects:!n,passes:1,properties:!n,pure_funcs:null,pure_getters:!n&&"strict",reduce_funcs:!n,reduce_vars:!n,rests:!n,sequences:!n,side_effects:!n,spreads:!n,strings:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n},!0);n=this.options.evaluate;this.eval_threshold=/eager/.test(n)?1/0:+n;var t=this.options.global_defs;if("object"==typeof t)for(var i in t)/^@/.test(i)&&mn(t,i)&&(t[i.slice(1)]=_i(t[i],{expression:!0}));!0===this.options.inline&&(this.options.inline=3),this.drop_fargs=this.options.keep_fargs?on:function(e,n){if(e.length_read)return!1;var t=e.name;if(!t)return n&&"Call"==n.TYPE&&n.expression===e;if(t.fixed_value()!==e)return!1;t=t.definition();if(t.direct_access)return!1;t=t.escaped;return t&&1!=t.depth};var r=this.options.pure_funcs;"function"==typeof r?this.pure_funcs=r:"string"==typeof r?this.pure_funcs=function(e){return r!==e.expression.print_to_string()}:Array.isArray(r)?this.pure_funcs=function(e){return!nn(e.expression.print_to_string(),r)}:this.pure_funcs=an;n=this.options.sequences;this.sequences_limit=1==n?800:0|n;var o=this.options.top_retain;o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return nn(e.name,o)});n=this.options.toplevel;this.toplevel="string"==typeof n?{funcs:/funcs/.test(n),vars:/vars/.test(n)}:{funcs:n,vars:n}}function X(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function yi(f){var e=!f;f=Z(f,{ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n,c=on;f.comments&&(n=f.comments,"string"==typeof f.comments&&/^\/.*\/[a-zA-Z]*$/.test(f.comments)&&(j=f.comments.lastIndexOf("/"),n=new RegExp(f.comments.substr(1,j-1),f.comments.substr(j+1))),c=n instanceof RegExp?function(e){return"comment5"!=e.type&&n.test(e.value)}:"function"==typeof n?function(e){return"comment5"!=e.type&&n(this,e)}:"some"===n?X:an);var i=f.indent_start,r=0,o=1,u=0,a="",s=f.ascii_only?function(e,t){return(e=t?e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"}):e).replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n,t="",i=0,r=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=(n=o)&&n<=56319){if(I(e.charCodeAt(i+1))){i++;continue}}else if(!I(o))continue;t+=e.slice(r,i)+"\\u"+o.toString(16),r=i+1}return 0==r?e:t+e.slice(r)};function t(e,n){n=function(t,e){var i=0,r=0;function n(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function o(){return'"'+t.replace(/\x22/g,'\\"')+'"'}switch(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,n){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return f.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(n+1))?"\\x00":"\\0"}return e}),t=s(t),f.quote_style){case 1:return n();case 2:return o();case 3:return("'"==e?n:o)();default:return(r<i?n:o)()}}(e,n);return n=f.inline_script?(n=(n=n.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e"):n}var l,p,d=!1,h=0,v=!0,m=!1,_=!1,g=!1,b=!1,y=-1,w="",x=f.source_map&&[],k=x?function(n,t){x.forEach(function(e){e.line+=n,e.col+=t})}:rn,E=x?function(){x.forEach(function(e){f.source_map.add(e.token.file,e.line,e.col,e.token.line,e.token.col,e.name||"name"!=e.token.type?e.name:e.token.value)}),x=[]}:rn;function S(e){var n=a.lastIndexOf("\n");h<n&&(h=n);var t=a.slice(0,h),n=a.slice(h);for(k(e,n.length-r),o+=e,u+=e,r=n.length,a=t;e--;)a+="\n";a+=n}var T=f.max_line_len?function(){v?r>f.max_line_len&&gn.warn("Output exceeds {max_line_len} characters",f):(r>f.max_line_len&&S(1),v=!0,E())}:rn,D=dn("( [ + * / - , .");function O(e){var n=(e=String(e)).charAt(0);g&&n&&(g=!1,"\n"!=n&&(O("\n"),z())),b&&n&&(b=!1,/[\s;})]/.test(n)||A()),y=-1;var t=w.slice(-1);_&&(_=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(f.semicolons||D[n]?(a+=";",r++,u++):(T(),a+="\n",u++,o++,r=0,/^\s+$/.test(e)&&(_=!0)),f.beautify||(m=!1))),m&&((R(t)&&(R(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==w||"--"==e&&"!"==w||"in"==e&&"/"==t||"--"==w&&">"==n)&&(a+=" ",r++,u++),"<"==t&&"!"==e||(m=!1)),l&&(x.push({token:l,name:p,line:o,col:r}),l=!1,v&&E()),a+=e,d="("==e.slice(-1),u+=e.length;n=e.split(/\r?\n/),t=n.length-1;o+=t,r+=n[0].length,0<t&&(T(),r=n[t].length),w=e}var A=f.beautify?function(){O(" ")}:function(){m=!0},z=f.beautify?function(e){O(function e(n,t){if(t<=0)return"";if(1==t)return n;var i=e(n,t>>1);return i+=i,1&t?i+n:i}(" ",e?i-(f.indent_level>>1):i))}:rn,$=f.beautify?function(e,n){!0===e&&(e=q());var t=i;i=e;n=n();return i=t,n}:function(e,n){return n()},M=f.max_line_len||f.preserve_line?function(){T(),h=a.length,v=!1}:rn,F=f.beautify?function(){if(y<0)return O("\n");"\n"!=a[y]&&(a=a.slice(0,y)+"\n"+a.slice(y),u++,o++),y++}:M,j=f.beautify?function(){O(";")}:function(){_=!0};function q(){return i+f.indent_level}function C(){return v||T(),a}function N(){var e=a.lastIndexOf("\n");return/^ *$/.test(a.slice(e+1))}var P=[];return{get:C,toString:C,indent:z,should_break:e?rn:function(){return f.width&&r-i>=f.width},has_parens:function(){return d},newline:F,print:O,space:A,comma:function(){M(),O(","),M(),A()},colon:function(){O(":"),A()},last:function(){return w},semicolon:j,force_semicolon:function(){_&&O(";"),O(";")},to_utf8:s,print_name:function(e){O((e=(e=e).toString(),e=s(e,!0)))},print_string:function(e,n){O(t(e,n))},next_indent:q,with_indent:$,with_block:function(e){var n;return O("{"),F(),$(q(),function(){n=e()}),z(),O("}"),n},with_parens:function(e){return O("("),M(),e=e(),M(),O(")"),e},with_square:function(e){return O("["),M(),e=e(),M(),O("]"),e},add_mapping:x?function(e,n){l=e,p=n}:rn,option:function(e){return f[e]},prepend_comments:e?rn:function(e){var t,n,i,r=this,o=e instanceof Qn&&e.value,a=(a=s(e))||[];function s(e){var n=e.start;if(!n){if(!o)return;e.start=n=new H}e=n.comments_before;if(!e){if(!o)return;n.comments_before=e=[]}if(e._dumped!==r)return e._dumped=r,e}o&&((t=new li(function(e){var n=t.parent();if(!(n instanceof Qn||n instanceof Ot&&n.left===e||"Call"==n.TYPE&&n.expression===e||n instanceof At&&n.condition===e||n instanceof xt&&n.expression===e||n instanceof yt&&n.expressions[0]===e||n instanceof kt&&n.expression===e||n instanceof Dt))return!0;e=s(e);e&&(a=a.concat(e))})).push(e),e.value.walk(t)),0==u&&(0<a.length&&f.shebang&&"comment5"==a[0].type&&(O("#!"+a.shift().value+"\n"),z()),(n=f.preamble)&&O(n.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))),0!=(a=a.filter(c,e)).length&&(i=N(),a.forEach(function(e,n){i||(e.nlb?(O("\n"),z(),i=!0):0<n&&A()),/comment[134]/.test(e.type)?(O("//"+e.value.replace(/[@#]__PURE__/g," ")+"\n"),z(),i=!0):"comment2"==e.type&&(O("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),i=!1)}),i||(e.start.nlb?(O("\n"),z()):A()))},append_comments:e||c===on?rn:function(e,t){var n,i=e.end;!i||(n=i[t?"comments_before":"comments_after"])&&n._dumped!==this&&(e instanceof bn||hn(n,function(e){return!/comment[134]/.test(e.type)}))&&(n._dumped=this,i=a.length,n.filter(c,e).forEach(function(e,n){b=!1,g?(O("\n"),z(),g=!1):e.nlb&&(0<n||!N())?(O("\n"),z()):(0<n||!t)&&A(),/comment[134]/.test(e.type)?(O("//"+e.value.replace(/[@#]__PURE__/g," ")),g=!0):"comment2"==e.type&&(O("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),b=!0)}),a.length>i&&(y=i))},line:function(){return o},col:function(){return r},pos:function(){return u},push_node:function(e){P.push(e)},pop_node:f.preserve_line?function(){var e=P.pop();e.start&&e.start.line>o&&S(e.start.line-o)}:function(){P.pop()},parent:function(e){return P[P.length-2-(e||0)]}}}function K(e,n){e.DEFMETHOD("_codegen",n)}function Q(e,n){e.DEFMETHOD("needs_parens",n)}function ce(e){if(!e.has_parens()&&_n(e))return!0;var n;if(e.option("webkit")&&((n=e.parent())instanceof wt&&n.expression===this))return!0;if(e.option("wrap_iife")&&((n=e.parent())instanceof gt&&n.expression===this))return!0}function ue(e){return!e.has_parens()&&_n(e,!0)}function le(e,n){n=n.parent();return n instanceof $t||(n instanceof Ot?!(n instanceof zt):n instanceof gt?n.expression===e:n instanceof At?n.condition===e:n instanceof wt?n.expression===e:n instanceof St||void 0)}function pe(e,t,i,n){var r=e.length-1,o=n,n=Y;e.forEach(function(e,n){o&&(e instanceof wn?"use asm"==e.value&&(Y=!0):e instanceof xn||(e instanceof kn&&e.body instanceof ei&&i.force_semicolon(),o=!1)),e instanceof xn||(i.indent(),e.print(i),n==r&&t||(i.newline(),t&&i.newline()))}),Y=n}function de(e,n){n.print("{"),n.with_indent(n.next_indent(),function(){n.append_comments(e,!0)}),n.print("}")}function he(e,n,t){0<e.body.length?n.with_block(function(){pe(e.body,!1,n,t)}):de(e,n)}function ve(e,t){t.with_parens(function(){e.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)}),e.rest&&(e.argnames.length&&t.comma(),t.print("..."),e.rest.print(t))})}function me(e,n){1==e.argnames.length&&e.argnames[0]instanceof Wt&&!e.rest?e.argnames[0].print(n):ve(e,n),n.space(),n.print("=>"),n.space(),e.value?e.value.print(n):he(e,n,!0)}function _e(e,n){e.name&&(n.space(),e.name.print(n)),ve(e,n),n.space(),he(e,n,!0)}function ge(e){e.print("async"),e.space(),e.print("function"),_e(this,e)}function be(t,i){return function(e){e.print(t);var n=this[i];n&&(e.space(),n.print(e)),e.semicolon()}}function ye(e,n){n.newline(),e.body.forEach(function(e){n.indent(),e.print(n),n.newline()})}function we(n){return function(t){t.print(n),t.space(),this.definitions.forEach(function(e,n){n&&t.comma(),e.print(t)});var e=t.parent();(e&&e.init!==this||!(e instanceof Fn||e instanceof jn))&&t.semicolon()}}function xe(e,n,t){var i=!1;t&&e.walk(new li(function(e){return!!i||(e instanceof Ot&&"in"==e.operator?i=!0:e instanceof Cn&&(!In(e)||!e.value)||void 0)})),e.print(n,i)}function ke(e,t){(e.expression instanceof gt||e.expression instanceof Pn)&&t.add_mapping(e.start),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})})}function Ee(e,n){var t=e.key;t instanceof gn?n.with_square(function(){t.print(n)}):n.option("quote_keys")?n.print_string(t):""+ +t==t&&0<=t?n.print(Ae(t)):(e=e.start&&e.start.quote,(m[t]?n.option("ie8"):!di(t))||e&&n.option("keep_quoted_props")?n.print_string(t,e):n.print_name(t))}function Se(e){Ee(this,e),e.colon(),this.value.print(e)}function Te(n){return function(e){e.print(n),e.space(),Ee(this,e),_e(this.value,e)}}function De(e,n){n.option("braces")&&!(e instanceof dt||e instanceof ht)?ze(e,n):!e||e instanceof xn?n.force_semicolon():e.print(n)}function Oe(e,n){return 0<e.args.length||n.option("beautify")}function Ae(e){var n,t,i=e.toString(10).replace(/^0\./,".").replace("e+","e"),r=[i];return Math.floor(e)===e&&(e<0?r.push("-0x"+(-e).toString(16).toLowerCase()):r.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(i))?(t=n[0].length,e=i.slice(t),r.push(e+"e-"+(e.length+t-1))):(n=/0+$/.exec(i))?(t=n[0].length,r.push(i.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(i))&&r.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(r)}function ze(e,n){!e||e instanceof xn?n.print("{}"):e instanceof Dn?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function $e(e,n){e.forEach(function(e){e.DEFMETHOD("add_source_map",n)})}t(bi.prototype=new pi,{option:function(e){return this.options[e]},exposed:function(e){if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof Nn))return!1;var n=this.toplevel;return!hn(e.orig,function(e){return n[e instanceof Jt?"funcs":"vars"]})},compress:function(e){e=e.resolve_defines(this),this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i=!1,r={ie8:this.option("ie8")},o=0;o<n;o++)if(e.figure_out_scope(r),(0<o||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),1<n){var a=0;if(e.walk(new li(function(){a++})),gn.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:o,min_count:t,count:a}),a<t)t=a,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&e.process_expression(!1),e},before:function(e,n,t){if(e._squeezed)return e;var i=e instanceof Cn;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_boolean_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.merge_variables(this),r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(e){function l(e,n){var t,i=n.getProperty();if(!(i instanceof gn)){if(e instanceof Mt){n=e.elements;if("length"==i)return W(n.length,e);"number"==typeof i&&i in n&&(t=n[i])}else if(e instanceof Pn){if("length"==i)return e.length_read=!0,W(e.argnames.length,e)}else if(e instanceof Nt){i=""+i;for(var r=e.properties,o=r.length;0<=--o;){if(!(r[o]instanceof Ht))return;t||r[o].key!==i||(t=r[o].value)}}return t instanceof Kt&&t.fixed_value()||t}}function ne(e,n,t,i,r,o,a){var s=n.parent(r);if(!(e.option("unsafe")&&s instanceof xt&&(c=i,f=s.property,c instanceof fi?R.Boolean[f]:c instanceof ni?R.Number[f]:c instanceof ei?R.String[f]:"valueOf"!=f&&(c instanceof Mt?R.Array[f]:c instanceof Pn?R.Function[f]:c instanceof Nt?R.Object[f]:c instanceof ti&&(R.RegExp[f]&&!c.value.global))))){var f,c=le(t,s);if(c)return c;if(s instanceof Mt)return ne(e,n,s,s,r+1);if(s instanceof gt)return!o&&s.expression===t&&!s.is_expr_pure(e)&&(!Rn(i)||!(s instanceof bt)&&i.contains_this());if(s instanceof jn)return s.init===t;if(s instanceof Ht){if(s.value!==t)return;c=n.parent(r+1);return ne(e,n,c,c,r+2)}if(s instanceof wt&&s.expression===t){i=l(i,s);return(!o||a)&&ne(e,n,s,i,r+1)}}}function te(e){return"arguments"==e.name&&e.scope.uses_arguments}function h(e){return e.orig[0]instanceof Wt||e.orig[1]instanceof Wt}function Y(e,n){do{if(e===n)return;if(n instanceof Cn)return 1}while(n=n.parent_scope)}function ie(e,n){var t=e.definition();return(!e.in_arg||!h(t))&&hn(t.orig,function(e){return!(e instanceof Yt||e instanceof Lt||n&&e instanceof Gt)})}function o(e,n,t){t.assignments=0,t.bool_fn=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(Rn(t.init)&&t.init!==t.scope)&&t.init,Jn(t.fixed)&&!hn(t.references,function(e){var n=e.scope.resolve();do{if(t.scope===n)return 1}while(Rn(n)&&(n=n.parent_scope.resolve()))})&&(e.defun_ids[t.id]=!1),t.recursive_refs=0,t.references=[],t.should_replace=void 0,t.single_use=void 0}function u(n,t,e){e.variables.each(function(e){o(n,t,e),null===e.fixed?(e.safe_ids=n.safe_ids,m(n,e)):e.fixed&&(n.loop_ids[e.id]=n.in_loop,m(n,e))}),e.may_call_this=function(){e.may_call_this=rn,e.contains_this()&&e.functions.each(function(e){!Jn(e.init)||e.id in n.defun_ids||(n.defun_ids[e.id]=!1)})},e.uses_arguments&&e.each_argname(function(e){e.definition().last_ref=!1}),t.option("ie8")&&e.variables.each(function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)})}function s(n,t){if(t.id in n.defun_ids){var e=n.defun_ids[t.id];if(e){var i=n.defun_visited[t.id];if(e===n.safe_ids){if(!i)return t.fixed}else i?t.init.enclosed.forEach(function(e){t.init.variables.get(e.name)!==e&&(c(n,e)||(e.fixed=!1))}):n.defun_ids[t.id]=!1}}else{if(!n.in_loop)return n.defun_ids[t.id]=n.safe_ids,t.fixed;n.defun_ids[t.id]=!1}}function p(n,e){e.functions.each(function(e){Jn(e.init)&&!n.defun_visited[e.id]&&(n.defun_ids[e.id]=n.safe_ids,e.init.walk(n))})}function d(e){e.safe_ids=Object.create(e.safe_ids)}function v(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function m(e,n){e.safe_ids[n.id]={}}function f(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function c(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];return t?(mn(e.safe_ids,n.id)||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!te(n)&&((!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=re(oi,n.orig[0]),!0)):!t.assign||t.assign===e.safe_ids):Jn(n.fixed)}function _(e,n,t){if(t||hn(n.orig,function(e){return!(e instanceof Yt)})){if(void 0===n.fixed)return t||hn(n.orig,function(e){return!(e instanceof Lt)});if(null===n.fixed&&n.safe_ids)return n.safe_ids[n.id]=!1,delete n.safe_ids,1;if(!1!==n.fixed){t=e.safe_ids[n.id];if(!mn(e.safe_ids,n.id)){if(!t)return;if(t.read&&n.scope!==e.find_parent(Cn))return;t.assign=!(!t.assign||t.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&t.read){if(t.read!==e.safe_ids)return;if(e.loop_ids[n.id]!==e.in_loop)return}return c(e,n)&&hn(n.orig,function(e){return!(e instanceof Gt)})}}}function g(e,n){var t=re(Kt,e,e);return t.fixed=n||re(oi,e),t}function b(e,n,t,i,r,o,a){var s,f,c=e.parent(o);if(!r||!r.is_constant()){if(s=n,f=i,(u=c)instanceof zt?"="==u.operator&&u.right===f:u instanceof gt?u.expression!==f||u instanceof bt:u instanceof Qn?u.value===f&&f.scope!==s.scope:u instanceof mt&&u.value===f)return n.escaped.push(c),!(1<a)||r&&r.is_constant_expression(t)||(a=1),void((!n.escaped.depth||n.escaped.depth>a)&&(n.escaped.depth=a));if(u=i,(f=c)instanceof Mt||(f instanceof Ot?ue[f.operator]:f instanceof At?f.condition!==u:f instanceof yt&&f.tail_node()===u))b(e,n,t,c,c,o+1,a);else if(c instanceof Ht&&c.value===i){var u=e.parent(o+1);b(e,n,t,u,u,o+2,a)}else if(c instanceof wt&&c.expression===i&&(b(e,n,t,c,r=l(r,c),o+1,a+1),r))return;0<o||c instanceof gt&&c.expression===i||c instanceof yt&&c.tail_node()!==i||c instanceof kn||c instanceof St&&!gi[c.operator]||(n.direct_access=!0)}}function y(e){var n;e instanceof kt&&((n=e.expression)instanceof Kt&&(!te(n=n.definition())||((e=(e=e.property).is_constant()?e.value:e)instanceof gn||/^[1-9]*[0-9]$/.test(e))&&(n.reassigned=!0,(e instanceof gn?n.scope.argnames:[n.scope.argnames[e]]).forEach(function(e){e instanceof Wt&&(e.definition().fixed=!1)}))))}function w(o,e,n,a,t){var s=new li(function(i){if(i instanceof _t)return x(i),d(o),i.value.walk(o),v(o),(r=a)&&(a=function(){var e=r();return ce(e)?V(i,[e,i.value]):i}),i.name.walk(s),a=r,!0;if(i instanceof jt){x(i);var r=a;return i.elements.forEach(function(e,n){return e instanceof ai?x(e):(r&&(a=function(){return re(kt,e,{expression:r(),property:re(ni,e,{value:n})})}),void e.walk(s))}),i.rest&&(r&&(a=e.option("rests")&&function(){var e=r();return e instanceof Mt?re(Mt,i,{elements:e.elements.slice(i.elements.length)}):i}),i.rest.walk(s)),a=r,!0}if(i instanceof Ct){x(i);r=a;return i.properties.forEach(function(t){x(t),t.key instanceof gn&&(d(o),t.key.walk(o),v(o)),r&&(a=function(){var e=t.key,n=kt;return"string"==typeof e&&(di(e)?n=xt:e=W(e,t)),re(n,t,{expression:r(),property:e})}),t.value.walk(s)}),i.rest&&(a=!1,i.rest.walk(s)),a=r,!0}return t(i,a,function(){for(var e=o.stack.length,n=0,t=s.stack.length-1;n<t;n++)o.stack.push(s.stack[n]);i.walk(o),o.stack.length=e}),!0});n.walk(s)}function n(e,n,t){var i=this.name.definition().id;return e.defun_visited[i]||e.defun_ids[i]!==e.safe_ids||(e.defun_visited[i]=!0,this.inlined=!1,d(e),u(e,t,this),n(),v(e),p(e,this)),!0}function a(i,e,r){var o=this;o.inlined=!1;var a=i.parent(),n=o instanceof Vn,t=!1;o.walk(new li(function(e){return n?t=!0:e instanceof Zn?n=!0:e instanceof Cn&&e!==o||void 0})),t&&d(i),u(i,r,o);var s=!o.uses_arguments||i.has_directive("use strict");o.argnames.forEach(function(n,e){var t=a.args[e];w(i,r,n,function(){var e=o.argnames.indexOf(n);return(e<0?t:a.args[e])||re(oi,a)},c)}),o.rest&&w(i,r,o.rest,r.option("rests")&&function(){return re(Mt,o,{elements:a.args.slice(o.argnames.length)})},c),Un(o,i);var f=i.safe_ids;return v(i),p(i,o),t||(i.safe_ids=f),!0;function c(e,n){var t=e.definition();n&&s&&void 0===t.fixed?(m(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[e]):t.fixed=!1}}function x(e){e._squeezed=!1,e._optimized=!1,delete e.fixed,e instanceof Cn&&delete e._var_names}function t(t,i){return this.transform(new pi(function(e,n){return e instanceof _t?((e=e.clone()).name=e.name.transform(this),e):e instanceof Ft?(n(e=e.clone(),this),e):e instanceof qt?((e=e.clone()).value=e.value.transform(this),e):e.convert_symbol(t,i)}))}function i(e,n){e=re(e,this,this);return n(e,this),e}function r(n,t){var i=new li(function(e){return e instanceof _t?(e.value.walk(t),e.name.walk(i),!0):e instanceof qt?(e.key instanceof gn&&e.key.walk(t),e.value.walk(i),!0):n(e)});this.walk(i)}function k(e){return e(this)}function L(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}function re(e,n,t){return t=t||{},n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function V(e,n){return 1==n.length?n[0]:re(yt,e,{expressions:n.reduce(E,[])})}function W(e,n){switch(typeof e){case"string":return re(ei,n,{value:e});case"number":return isNaN(e)?re(ri,n):isFinite(e)?1/e<0?re(Tt,n,{operator:"-",expression:re(ni,n,{value:-e})}):re(ni,n,{value:e}):e<0?re(Tt,n,{operator:"-",expression:re(si,n)}):re(si,n);case"boolean":return re(e?ui:ci,n);case"undefined":return re(oi,n);default:if(null===e)return re(ii,n,{value:null});if(e instanceof RegExp)return re(ti,n,{value:e});throw new Error(ln("Can't handle constant of type: {type}",{type:typeof e}))}}function J(e,n){return n instanceof wt||se(n)&&"eval"==n.name}function oe(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&J(0,i):n instanceof Tt&&(r="delete"==n.operator||"typeof"==n.operator&&se(i)),r?V(t,[re(ni,t,{value:0}),i]):i}function E(e,n){return n instanceof yt?e.push.apply(e,n.expressions):e.push(n),e}function S(e){if(null===e)return[];if(e instanceof Dn)return hn(e.body,function(e){return!(e instanceof dt||e instanceof ht)})?e.body:[e];if(e instanceof xn)return[];if(e instanceof bn)return[e];throw new Error("Can't convert thing to statement array")}function G(e){return null===e||(e instanceof xn||e instanceof Dn&&0==e.body.length)}function T(e){return hn(e.body,function(e){return G(e)||e instanceof Xn||e instanceof vt&&hn(e.definitions,function(e){return!e.value})})}function D(e){return e instanceof An&&e.body instanceof Dn?e.body:e}function ae(e){for(;e instanceof wt;)e=e.expression;return e}function X(e){if("Call"!=e.TYPE)return!1;e=e.expression;return e instanceof Vn||e instanceof Wn||X(e)}function se(e){return e instanceof Kt&&e.definition().undeclared}e(gn,function(e,n){return e}),gn.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),Cn.DEFMETHOD("process_expression",function(t,i){var r=this,o=new pi(function(e){return t&&e instanceof kn?re(Zn,e,{value:e.body}):!t&&e instanceof Zn?i?i(e):re(kn,e,{body:e.value||re(Tt,e,{operator:"void",expression:re(ni,e,{value:0})})}):(e instanceof Pn&&e!==r||(e instanceof Tn?0<=(n=e.body.length-1)&&(e.body[n]=e.body[n].transform(o)):e instanceof rt?(e.body=e.body.transform(o),e.alternative&&(e.alternative=e.alternative.transform(o))):e instanceof qn&&(e.body=e.body.transform(o))),e);var n});r.transform(o)}),(I=function(e,n){e.DEFMETHOD("reduce_vars",n)})(gn,rn),I(zt,function(r,e,o){var a=this,s=a.left;if("="==a.operator&&s.equivalent_to(a.right)&&!s.has_side_effects(o))a.right.walk(r),function e(n){{var t;n instanceof xt?e(n.expression):n instanceof kt?(e(n.expression),n.property.walk(r)):n instanceof Kt?(f(t=n.definition(),n),n.fixed=t.fixed):n.walk(r)}}(s),a.__drop=!0;else{if(!(s instanceof Ft||s instanceof Kt))return void y(s);if("="==a.operator)a.right.walk(r),w(r,o,s,function(){return a.right},function(e,n,t){if(!(e instanceof Kt))return y(e),void t();var i=e.definition();i.assignments++,n&&!ne(o,r,a,a.right,0)&&_(r,i)?(f(i,e),m(r,i),i.single_use&&s instanceof Ft&&(i.single_use=!1),r.loop_ids[i.id]=r.in_loop,b(r,i,e.scope,a,a.right,0,1),e.fixed=i.fixed=n,e.fixed.assigns=[a]):(t(),i.fixed=!1)});else{var n=s.definition();n.assignments++;var t=n.fixed;if(ne(o,r,a,a,0))return void(n.fixed=!1);var i=c(r,n);a.right.walk(r),i&&_(r,n)?(f(n,s),m(r,n),n.single_use&&(n.single_use=!1),s.fixed=n.fixed=function(){return re(Ot,a,{operator:a.operator.slice(0,-1),left:g(s,t),right:a.right})},s.fixed.assigns=t&&t.assigns?t.assigns.slice():[],s.fixed.assigns.push(a)):(s.walk(r),n.fixed=!1)}}return!0}),I(Gn,n),I(Ot,function(e){if(ue[this.operator])return this.left.walk(e),d(e),this.right.walk(e),v(e),!0}),I(En,function(n,e,t){this.variables.each(function(e){o(n,t,e)})}),I(gt,function(n,e){n.find_parent(Cn).may_call_this();var t=this.expression;if(Rn(t)){var i=!t.name;return this.args.forEach(function(e){e.walk(n),e instanceof Et&&(i=!1)}),i&&(t.reduce_vars=a),t.walk(n),i&&delete t.reduce_vars,!0}if(t instanceof Kt){var r=t.definition();if("Call"==this.TYPE&&n.in_boolean_context()&&r.bool_fn++,Jn(r.fixed)){r=s(n,r);if(r)return e(),r.walk(n),!0}}else"Call"==this.TYPE&&t instanceof zt&&"="==t.operator&&t.left instanceof Kt&&n.in_boolean_context()&&t.left.definition().bool_fn++}),I(At,function(e){return this.condition.walk(e),d(e),this.consequent.walk(e),v(e),d(e),this.alternative.walk(e),v(e),!0}),I(_t,function(e){return this.name.walk(e),d(e),this.value.walk(e),v(e),!0}),I(Xn,n),I($n,function(e){var n=e.in_loop;return e.in_loop=this,d(e),this.body.walk(e),Fe(this,e.parent())&&(v(e),d(e)),this.condition.walk(e),v(e),e.in_loop=n,!0}),I(Fn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.init&&this.init.walk(n);var i=n.in_loop;return n.in_loop=this,d(n),this.condition&&this.condition.walk(n),this.body.walk(n),this.step&&(Fe(this,n.parent())&&(v(n),d(n)),this.step.walk(n)),v(n),n.in_loop=i,!0}),I(jn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.object.walk(n);var i=n.in_loop;n.in_loop=this,d(n);var r=this.init;return r instanceof pt?r.definitions[0].name.mark_symbol(function(e){e instanceof Bt&&((e=e.definition()).assignments++,e.fixed=!1)},n):r instanceof Ft||r instanceof Kt?r.mark_symbol(function(e){var n;e instanceof Kt&&(f(n=e.definition(),e),n.assignments++,e.is_immutable()||(n.fixed=!1))},n):r.walk(n),this.body.walk(n),v(n),n.in_loop=i,!0}),I(rt,function(e){return this.condition.walk(e),d(e),this.body.walk(e),v(e),this.alternative&&(d(e),this.alternative.walk(e),v(e)),!0}),I(On,function(e){return d(e),this.body.walk(e),v(e),!0}),I(Pn,function(e,n,t){var i=this;return i.inlined=!1,d(e),u(e,t,i),n(),v(e),i.name&&b(e,i.name.definition(),i,i.name,i,0,1),p(e,i),!0}),I(ot,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.expression.walk(n);var i=!0;return this.body.forEach(function(e){e instanceof st||(e.expression.walk(n),i&&(i=!1,d(n)))}),i||v(n),Sn(this,n),!0}),I(at,function(e){return d(e),Sn(this,e),v(e),!0}),I(Xt,function(){this.definition().fixed=!1}),I(Kt,function(e,n,t){var i,r,o,a=this.definition();f(a,this),1==a.references.length&&!a.fixed&&a.orig[0]instanceof Jt&&(e.loop_ids[a.id]=e.in_loop),!1===a.fixed?(r=a.redefined())&&Y(a.scope,this.scope)&&(r.single_use=!1):void 0!==a.fixed&&c(e,a)?a.fixed&&(this.in_arg&&a.orig[0]instanceof Gt&&(this.fixed=a.scope),o=this.fixed_value(),(i=Ge(e,a))?a.recursive_refs++:!o||(r=a,!t.option("unused")||r.scope.pinned()||!1===r.single_use||r.references.length-r.recursive_refs!=1||h(r)&&r.scope.uses_arguments)?a.single_use=!1:(a.in_loop=e.loop_ids[a.id]!==e.in_loop,a.single_use=o instanceof Pn&&!o.pinned()&&(!a.in_loop||e.parent()instanceof gt)||!a.in_loop&&a.scope===this.scope.resolve()&&o.is_constant_expression()),ne(t,e,this,o,0,!!(t=o)&&(t.is_constant()||t instanceof Pn||t instanceof Qt),i)&&(a.single_use?a.single_use="m":a.fixed=!1),a.fixed&&e.loop_ids[a.id]!==e.in_loop&&(a.cross_loop=!0),b(e,a,this.scope,this,o,0,1)):a.fixed=!1,this.fixed||(this.fixed=a.fixed),!Jn(a.fixed)||(o=e.parent())instanceof gt&&o.expression===this||(a=s(e,a))&&a.walk(e)}),I(Nn,function(n,e,t){return this.globals.each(function(e){o(n,t,e)}),d(n),u(n,t,this),e(),v(n),p(n,this),!0}),I(ct,function(n,e,t){return this.variables.each(function(e){o(n,t,e)}),d(n),Sn(this,n),v(n),this.bcatch&&(d(n),this.bcatch.walk(n),v(n)),this.bfinally&&this.bfinally.walk(n),!0}),I(St,function(e,n){var t=this;if(vi[t.operator]){var i=t.expression;if(i instanceof Kt){var r=i.definition();r.assignments++;var o=r.fixed;return c(e,r)&&_(e,r)?(f(r,i),m(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return re(Ot,t,{operator:t.operator.slice(0,-1),left:re(Tt,t,{operator:"+",expression:g(i,o)}),right:re(ni,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof Tt?i.fixed=r.fixed:(i.fixed=function(){return re(Tt,t,{operator:"+",expression:g(i,o)})},i.fixed.assigns=o&&o.assigns)):(i.walk(e),r.fixed=!1),!0}y(i)}}),I(mt,function(i,e,n){var r=this;if(r.value)return r.value.walk(i),w(i,n,r.name,function(){return r.value},function(e,n){var t=e.definition();n&&_(i,t,!0)?(m(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[r],(e instanceof Yt&&t.redefined()||!ie(e)&&!Ce(t))&&(t.single_use=!1)):t.fixed=!1}),!0}),I(Mn,function(e,n){var t=e.in_loop;return e.in_loop=this,d(e),n(),v(e),e.in_loop=t,!0}),Nn.DEFMETHOD("reset_opt_flags",function(t){var i=new li(t.option("reduce_vars")?function(e,n){return x(e),e.reduce_vars(i,n,t)}:x);i.defun_ids=Object.create(null),i.defun_visited=Object.create(null),i.in_loop=null,i.loop_ids=Object.create(null),i.safe_ids=Object.create(null),this.walk(i)}),Ut.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return e&&((e=this.fixed?this.fixed:e)instanceof gn?e:e())}),Kt.DEFMETHOD("is_immutable",function(){var e=this.redef||this.definition();return 1==e.orig.length&&e.orig[0]instanceof Gt}),gn.DEFMETHOD("convert_symbol",rn),_t.DEFMETHOD("convert_symbol",t),Ft.DEFMETHOD("convert_symbol",t),Bt.DEFMETHOD("convert_symbol",i),Kt.DEFMETHOD("convert_symbol",i),_t.DEFMETHOD("mark_symbol",r),Ft.DEFMETHOD("mark_symbol",r),Bt.DEFMETHOD("mark_symbol",k),Kt.DEFMETHOD("mark_symbol",k),gn.DEFMETHOD("match_symbol",function(e){return e(this)}),Ft.DEFMETHOD("match_symbol",function(n,t){var i=!1,r=new li(function(e){return!!i||(e instanceof _t?t?(e.name.walk(r),!0):i=!0:e instanceof qt?!t&&e.key instanceof gn?i=!0:(e.value.walk(r),!0):n(e)?i=!0:void 0)});return this.walk(r),i});var O=dn("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");Kt.DEFMETHOD("is_declared",function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&O[this.name]});var fe=dn("Infinity NaN undefined");function A(e){return hn(e.definitions,function(e){return!e.value})}function z(e){return e instanceof Xn||e instanceof vt&&A(e)}function $(e,c){var K,Q,Z;!function(){var e=c.self(),n=0;do{if(e instanceof ut)c.parent(n).bfinally||n++;else if(e instanceof lt)n++;else if(e instanceof An)K=!0;else{if(e instanceof Cn){Z=e;break}e instanceof ct&&(Q=Q||e)}}while(e=c.parent(n++))}();for(var ee,n=10;ee=!1,function e(n){var t=[];for(var i=0;i<n.length;){var r=n[i];if(r instanceof Dn&&hn(r.body,function(e){return!(e instanceof dt||e instanceof ht)}))ee=!0,e(r.body),[].splice.apply(n,[i,1].concat(r.body)),i+=r.body.length;else{if(r instanceof wn){if(nn(r.value,t)){ee=!0,n.splice(i,1);continue}t.push(r.value)}r instanceof xn?(ee=!0,n.splice(i,1)):i++}}}(e),c.option("dead_code")&&function(n,t){for(var e,i=t.self(),r=0,o=0,a=n.length;r<a;r++){var s,f=n[r];if(f instanceof nt?(s=t.loopcontrol_target(f),f instanceof tt&&!(s instanceof An)&&D(s)===i||f instanceof it&&D(s)===i?f.label&&pn(f.label.thedef.references,f):n[o++]=f):n[o++]=f,ge(f)){e=n.slice(r+1);break}}n.length=o,ee=o!=a,e&&e.forEach(function(e){M(t,e,n)})}(e,c),c.option("if_return")&&function(t,r){for(var o=r.self(),e=r.parent(),i=v(function(e){return e instanceof Pn}),n=i&&e&&"Call"==e.TYPE,a=function(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof rt&&i.body instanceof Zn&&1<++n)return!0}return!1}(t),s=t.length;0<=--s;){var f=t[s],c=y(s),u=t[c];if(i&&!u&&f instanceof Zn){if(!f.value){ee=!0,t.splice(s,1);continue}var l=f.value.tail_node();if(l instanceof Tt&&"void"==l.operator){ee=!0,l===f.value?d=l.expression:(d=f.value.clone()).expressions[d.length-1]=l.expression,t[s]=re(kn,f,{body:d});continue}}if(f instanceof rt){var p=ge(f.body);if(_(p)){p.label&&pn(p.label.thedef.references,p),ee=!0,(f=f.clone()).condition=f.condition.negate(r);var d=b(f.body,p);f.body=re(Dn,f,{body:S(f.alternative).concat(g())}),f.alternative=re(Dn,f,{body:d}),t[s]=f,t[s]=f.transform(r);continue}if(p&&!f.alternative&&f.body instanceof Dn&&u instanceof Kn){var h=f.condition.negate(r);if(h.print_to_string().length<=f.condition.print_to_string().length){ee=!0,(f=f.clone()).condition=h,t[c]=f.body,f.body=u,t[s]=f,t[s]=f.transform(r);continue}}var h=ge(f.alternative);if(_(h)){h.label&&pn(h.label.thedef.references,h),ee=!0,(f=f.clone()).body=re(Dn,f.body,{body:S(f.body).concat(g())});d=b(f.alternative,h);f.alternative=re(Dn,f.alternative,{body:d}),t[s]=f,t[s]=f.transform(r);continue}r.option("typeofs")&&(p&&!h&&je(f.condition,null,re(Dn,o,{body:t.slice(s+1)})),!p&&h&&je(f.condition,re(Dn,o,{body:t.slice(s+1)})))}f instanceof rt&&f.body instanceof Zn&&(p=f.body.value,h=f.body.in_bool||u instanceof Zn&&u.in_bool,p||f.alternative||!(i&&!u||u instanceof Zn&&!u.value)?!f.alternative&&u instanceof Zn?(ee=!0,(f=f.clone()).alternative=u,t.splice(s,1,f.transform(r)),t.splice(c,1)):f.alternative||u||!i||!(h||p&&a)?(p=t[function(e){for(var n=e;0<=--n&&z(t[n]););return n}(s)],r.option("sequences")&&i&&!f.alternative&&(!p&&n||p instanceof rt&&p.body instanceof Zn)&&y(c)==t.length&&u instanceof kn&&(ee=!0,(f=f.clone()).alternative=re(Dn,u,{body:[u,re(Zn,u,{value:null})]}),t.splice(s,1,f.transform(r)),t.splice(c,1))):(ee=!0,(f=f.clone()).alternative=re(Zn,f,{value:null}),t.splice(s,1,f.transform(r))):(ee=!0,t[s]=re(kn,f.condition,{body:f.condition})))}function v(e){var n,t=o,i=0;do{do{if(e(t))return!0}while((t=r.parent(i++))instanceof rt&&(n=t))}while((t instanceof Dn||t instanceof Cn)&&function(e,n){var t=e.lastIndexOf(n);if(!(t<0)){for(;++t<e.length;)if(!z(e[t]))return;return 1}}(t.body,n))}function m(n){return v(function(e){return e===n})}function _(e){if(e instanceof Zn)return i&&(!(n=e.value)||n instanceof Tt&&"void"==n.operator);if(e instanceof nt){var n=r.loopcontrol_target(e);return e instanceof it?m(D(n)):!(n instanceof An)&&m(n)}}function g(){var e=t.slice(s+1);return t.length=s+1,e.filter(function(e){return!(e instanceof Xn)||(t.push(e),!1)})}function b(e,n){for(var t,e=S(e),i=e;(t=i[i.length-1])!==n;)i=t.body;return i.pop(),n.value&&i.push(re(kn,n.value,{body:n.value.expression})),e}function y(e){for(var n=e+1;n<t.length&&z(t[n]);n++);return n}}(e,c),0<c.sequences_limit&&(function(n,e){if(!(n.length<2)){for(var t=[],i=0,r=0,o=n.length;r<o;r++){var a,s=n[r];s instanceof kn?(t.length>=e.sequences_limit&&f(),a=s.body,(a=0<t.length?a.drop_side_effect_free(e):a)&&E(t,a)):(z(s)||f(),n[i++]=s)}f(),(n.length=i)!=o&&(ee=!0)}function f(){var e;t.length&&(e=V(t[0],t),n[i++]=re(kn,e,{body:e}),t=[])}}(e,c),function(e,n){function t(e){r--,ee=!0;var n=i.body;return V(n,[n,e])}for(var i,r=0,o=0;o<e.length;o++){var a,s=e[o];if(i&&(s instanceof Qn?s.value=t(s.value||re(oi,s)).transform(n):s instanceof Fn?s.init instanceof pt||(a=!1,i.body.walk(new li(function(e){return!!(a||e instanceof Cn)||(e instanceof Ot&&"in"==e.operator?a=!0:void 0)})),a||(s.init?s.init=t(s.init):(s.init=i.body,r--,ee=!0))):s instanceof jn?s.object=t(s.object):s instanceof rt?s.condition=t(s.condition):(s instanceof ot||s instanceof qn)&&(s.expression=t(s.expression))),n.option("conditionals")&&s instanceof rt){var f=[],c=p(s.body,f),u=p(s.alternative,f);if(!1!==c&&!1!==u&&0<f.length){var l=f.length;f.push(re(rt,s,{condition:s.condition,body:c||re(xn,s.body),alternative:u})),f.unshift(r,1),[].splice.apply(e,f),o+=l,r+=l+1,ee=!(i=null);continue}}e[r++]=s,i=s instanceof kn?s:null}e.length=r}(e,c)),c.option("join_vars")&&function(e){for(var r,n=0,t=-1;n<e.length;n++){var i,o,a=e[n],s=e[t];if(a instanceof pt)s&&s.TYPE==a.TYPE?(s.definitions=s.definitions.concat(a.definitions),ee=!0):r&&r.TYPE==a.TYPE&&A(a)?(r.definitions=r.definitions.concat(a.definitions),ee=!0):(e[++t]=a)instanceof vt&&(r=a);else{if(a instanceof Qn)a.value=f(a.value);else if(a instanceof Fn)if(o=u(s,a.init))ee=!0,a.init=o.length?V(a.init,o):null;else{if(s instanceof vt&&(!a.init||a.init.TYPE==s.TYPE)){a.init&&(s.definitions=s.definitions.concat(a.init.definitions)),r=a.init=s,e[t]=c(a),ee=!0;continue}r&&a.init&&r.TYPE==a.init.TYPE&&A(a.init)?(r.definitions=r.definitions.concat(a.init.definitions),a.init=null,ee=!0):a.init instanceof vt&&(r=a.init)}else if(a instanceof jn)r&&r.TYPE==a.init.TYPE&&(i=r.definitions.slice(),a.init=a.init.definitions[0].name.convert_symbol(Kt,function(e,n){i.push(re(mt,n,{name:n,value:null})),n.definition().references.push(e)}),r.definitions=i,ee=!0),a.object=f(a.object);else if(a instanceof rt)a.condition=f(a.condition);else if(a instanceof kn){if(o=u(s,a.body)){if(ee=!0,!o.length)continue;a.body=V(a.body,o)}}else(a instanceof ot||a instanceof qn)&&(a.expression=f(a.expression));e[++t]=r?c(a):a}}function f(e){var n=u(s,e,1);if(!n)return e;ee=!0;var t=e.tail_node();return n[n.length-1]!==t&&n.push(t.left),V(e,n)}function c(e){return e.transform(new pi(function(e,n,t){if(e instanceof pt){if(r===e)return e;if(r.TYPE!=e.TYPE)return e;var i=this.parent();return i instanceof jn&&i.init===e?e:A(e)?(r.definitions=r.definitions.concat(e.definitions),ee=!0,i instanceof Fn&&i.init===e?null:t?cn.skip:re(xn,e)):e}return!(e instanceof Cn)&&e instanceof bn?void 0:e}))}e.length=t+1}(e),c.option("collapse_vars")&&function(o,l){if(!Z.pinned())for(var p,n,r=Object.create(null),d=[],a=Object.create(null),s=o.length,c=new pi(function(e,n){if(M)return e;if(!$)return e!==f[u]?e:++u<f.length?H(e,c):($=!0,(m=(v?function e(n,t){var i=c.parent(t);if(i instanceof Mt)return e(i,t+1);if(i instanceof zt)return k(i)||i.left.match_symbol(function(e){return e instanceof Kt&&(g.name==e.name||v.name==e.name)})?n:e(i,t+1);if(i instanceof Ot){if(ue[i.operator]&&i.left!==n){for(;n=i,i=c.parent(++t),i instanceof Ot&&i.operator==n.operator;);return n}return e(i,t+1)}if(i instanceof gt)return i;if(i instanceof ft)return i.expression!==n?n:e(i,t+1);if(i instanceof At)return i.condition!==n?n:e(i,t+1);if(i instanceof pt)return Y(i,t+1);if(i instanceof $n)return n;if(i instanceof Qn)return Y(i,t+1);if(i instanceof Fn)return i.init!==n&&i.condition!==n?n:e(i,t+1);if(i instanceof jn)return i.init!==n?n:e(i,t+1);if(i instanceof rt)return i.condition!==n?n:e(i,t+1);if(i instanceof Pt){var r=c.parent(t+1);return hn(r.properties,function(e){return e instanceof Ht})?e(r,t+2):r}if(i instanceof wt)return e(i,t+1);if(i instanceof yt)return(i.tail_node()===n?e:Y)(i,t+1);if(i instanceof kn)return Y(i,t+1);if(i instanceof Et)return e(i,t+1);if(i instanceof ot)return i.expression!==n?n:e(i,t+1);if(i instanceof St)return"delete"==i.operator?n:e(i,t+1);if(i instanceof mt)return i.name.match_symbol(function(e){return e instanceof Bt&&(g.name==e.name||v.name==e.name)})?n:e(i,t+1);if(i instanceof Mn)return i.condition!==n?n:e(i,t+1);return null}:function e(n,t){var i=c.parent(t);if(i instanceof Mt)return n;if(i instanceof zt)return n;if(i instanceof $t)return n;if(i instanceof Ot)return n;if(i instanceof gt)return n;if(i instanceof ft)return n;if(i instanceof At)return n;if(i instanceof pt)return Y(i,t+1);if(i instanceof Qn)return n;if(i instanceof rt)return n;if(i instanceof An)return n;if(i instanceof Pt)return n;if(i instanceof wt)return n;if(i instanceof yt)return(i.tail_node()===n?e:Y)(i,t+1);if(i instanceof kn)return Y(i,t+1);if(i instanceof Et)return n;if(i instanceof ot)return n;if(i instanceof St)return n;if(i instanceof mt)return n;return null})(e,0))===e&&(M=!0),e);var t=c.parent();if(function(e,n){if(e===O)return!0;if(n instanceof Fn)return e!==n.init;if(e instanceof zt)return"="!=e.operator&&g.equivalent_to(e.left);if(e instanceof gt)return g instanceof wt&&(!!g.equivalent_to(e.expression)&&!(O instanceof Wn&&!O.contains_this()));if(e instanceof yn)return!0;if(e instanceof Xn)return x&&g.name===e.name.name;if(e instanceof qt)return e.key instanceof gn;if(e instanceof zn)return!0;if(e instanceof nt)return!0;if(e instanceof Kt){if(e.is_declared(l)){if(e.fixed_value())return!1;if(ie(e))return!(n instanceof wt&&n.expression===e)&&te(e.definition())}else if(I(e,n))return!1;return z?w=!1:!0}return e instanceof ct||e instanceof qn}(e,t))return M=!0,e;if(!_&&R(e,t)&&(_=t),e.single_use&&t instanceof mt&&t.value===e)return e;if(!(e instanceof Bt)&&(y&&g.equivalent_to(e)||w&&(i=w(e,this)))){if(!q||_&&(i||!D||!z))return i||v||(M=!0),e;if(le(e,t))return v&&!i&&(j=!0,F++),e;if(v)return i||F++,e;if(F++,ee=M=!0,gn.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),"Binary"==h.TYPE)return re(zt,h,{operator:"=",left:h.right.left,right:re(At,h,{condition:"&&"==h.operator?h.left:h.left.negate(l),consequent:h.right.right,alternative:e})});if(h instanceof Dt)return g instanceof Kt&&(g.definition().fixed=!1),re(Tt,h,h);if(h instanceof mt){var i=h.name.definition();return i.references.length-i.replaced!=1||l.exposed(i)?re(zt,h,{operator:"=",left:re(Kt,h.name,h.name),right:h.value}):(i.replaced++,oe(0,t,e,h.value))}return h.write_only=!1,h}if((U(e,t)||k(e))&&(m=e)instanceof Cn&&(M=!0),e instanceof Hn){var r=q;return q=!1,n(e,c),q=r,P(e)}if(e instanceof Ft){r=q;return q=!1,n(e,c),q=r,P(e)}if(e instanceof _t){e.name=e.name.transform(c);r=q;return q=!1,e.value=e.value.transform(c),q=r,P(e)}return H(e,c)},P),i=new pi(function(e){if(M)return e;if(!$){if(e!==f[u])return e;switch(u++,f.length-u){case 0:if($=!0,j)return e;if(e instanceof mt)return e;C.replaced++;var n=i.parent();return n instanceof yt&&n.tail_node()!==e?(v.replaced++,cn.skip):O;case 1:if(!j&&e.body===h)return $=!0,C.replaced++,v.replaced++,null;default:return}}if(e instanceof Kt&&e.name==C.name){if(--F||(M=!0),le(e,i.parent()))return e;C.replaced++;var t=O.clone();return v.references.push(t),t}return e instanceof st||e instanceof Cn?e:void 0},W);0<=--s;){0==s&&l.option("unused")&&function(){var e,n,t=l.self();if(Rn(t)&&!t.name&&!t.uses_arguments&&!t.pinned()&&(e=l.parent())instanceof gt&&e.expression===t&&hn(e.args,function(e){return!(e instanceof Et)})){var i=l.has_directive("use strict");i&&!nn(i,t.body)&&(i=!1);for(var r=Yn(t)?function(e){return e instanceof Ut&&"await"==e.name}:function(e){return e instanceof $t&&!o.find_parent(Cn)},o=new li(function(e){if(!u)return!0;if(r(e))return!(u=null);if(e instanceof Kt&&t.variables.has(e.name)){var n=e.definition().scope;if(n!==Z)for(;n=n.parent_scope;)if(n===Z)return!0;u=null}return e instanceof Qt&&(i||!o.find_parent(Cn))?!(u=null):void 0}),a=(p=e.args.slice()).length,s=Object.create(null),f=t.argnames.length;0<=--f;){var c=t.argnames[f],u=p[f];if(c instanceof _t&&(n=c.value,c=c.name,p[a+f]=n),c instanceof Ft){if(!function n(e,t){if(!t)return!(e instanceof Ut);if(e instanceof _t)return t.has_side_effects(l)||e.value.has_side_effects(l)||n(e.name,ce(t)&&e.value);if(e instanceof Ft)return!(!e.rest||!n(e.rest))||(e instanceof jt?!(t instanceof Mt||t.is_string(l))||!hn(e.elements,function(e){return!n(e)}):e instanceof Ct?!t.is_defined(l)||!hn(e.properties,function(e){return!(e instanceof gn&&e.has_side_effects(l))&&!n(e.value)}):void 0)}(c,u))continue;d.length=0;break}c.name in s||(s[c.name]=!0,(u=n?!u||ce(u)?n:null:u)||n?u instanceof Pn&&u.pinned()?u=null:u&&u.walk(o):u=re(oi,c).transform(l),u&&((c=re(mt,c,{name:c,value:u})).name_index=f,c.arg_index=n?a+f:f,d.unshift([c])))}}}();var f=[];for(B(o[s]);0<d.length;){f=d.pop();var u=0,h=f[f.length-1],v=null,m=null,_=null,g=function(e){if(e instanceof zt){var n=e.left;return"="==e.operator&&n instanceof Kt&&(t=n.definition()).references[0]===n&&!l.exposed(t)&&1<(i=t.references.length-t.replaced)&&L(e.right),n}if(e instanceof Ot)return e.right.left;if(e instanceof St)return e.expression;if(e instanceof mt){var t=e.name.definition();if(!t.const_redefs&&nn(e.name,t.orig)){var n=t.orig.length-t.eliminated-(a[t.name]||0),i=t.references.length-t.replaced-(r[t.name]||0);return 1<n&&!(e.name instanceof Wt)?(L(e.value),re(Kt,e.name,e.name)):L(e.value)||1==i&&!l.exposed(t)?re(Kt,e.name,e.name):void 0}}}(h),b=g&&g.has_side_effects(l),y=g&&!b&&!function e(n,t){if(n instanceof Qt)return!0;if(n instanceof Kt){if(n.is_immutable())return!0;var i=n.definition();return t.exposed(i)&&fe[i.name]}if(n instanceof wt){if((n=n.expression)instanceof Kt){if(n.is_immutable())return!1;n=n.fixed_value()}return!n||(!!n.is_constant()||e(n,t))}return!1}(g,l),w=function(n){if(n instanceof zt&&n.right.single_use)return;var t,i=Object.create(null),e=new li(function(e){e instanceof Kt&&(i[e.definition().id]=!0)});for(;n instanceof zt&&"="==n.operator;)n.left.walk(e),n=n.right;if(n instanceof Kt){var r=n.evaluate(l);return r===n?o:V(r,o)}if(n instanceof Qt)return o;if(n.is_truthy())return V(!0,on);if(n.is_constant())return V(n.evaluate(l),o);return g instanceof Kt&&(!!function e(n){if(n instanceof Mt)return!1;if(n instanceof Ot&&ue[n.operator])return e(n.left)&&e(n.right);if(n instanceof gt)return!1;if(n instanceof At)return e(n.consequent)&&e(n.alternative);if(n instanceof Nt)return!1;return!n.has_side_effects(l)}(n)&&(n.walk(new li(function(e){if(t)return!0;e instanceof Kt&&i[e.definition().id]&&(t=!0)})),!t&&o));function o(e){return n.equivalent_to(e)}}(h);if(y||w){var x=h.name instanceof Wt,k=on;if(h.may_throw(l)){if(x&&Yn(Z))continue;k=Q?function(e){return e.has_side_effects(l)}:X}var E=!1,S=!1,T=function(t){var i=new vn;t instanceof mt&&i.add(t.name.name,g);var r=Z.uses_arguments&&!l.has_directive("use strict"),o=Z instanceof Nn,a=new li(function(e){var n;e instanceof Kt?n=e.fixed_value()||e:e instanceof Qt&&(n=e),n&&i.add(e.name,ne(l,a,e,n,0)),r&&e instanceof kt&&(Z.each_argname(function(e){l.option("reduce_vars")&&!e.definition().assignments||i.add(e.name,!0)}),r=!1),o&&("Call"==e.TYPE?S||((n=e.expression)instanceof wt||n instanceof Wn&&!n.contains_this()||(S=!0)):e instanceof wt&&function e(n){if(n instanceof Kt&&!(n=n.fixed_value()))return!0;if(n instanceof zt)return"="==n.operator&&e(n.right);return n instanceof wt||n instanceof Qt}(e.expression)&&(e!==g||t instanceof St?E=!0:S=!0))});return t.walk(a),i}(h),D=function(e){var n=ae(e);return n instanceof Kt&&n.definition().scope===Z&&!(K&&(T.has(n.name)&&T.get(n.name)[0]!==e||h instanceof St||h instanceof zt&&"="!=h.operator))}(g),O=function(e){if(e instanceof zt)return e.right;if(e instanceof Ot){var n=e.clone();return n.right=e.right.right,n}if(e instanceof mt)return e.value}(h);b=b||!(h instanceof St)&&O.has_side_effects(l);var A=Q||!D?function(e){return e instanceof Ft}:on,z=function(e){if(e instanceof St)return!1;if(b)return!1;if(v)return!0;if(!(g instanceof Kt))return!1;var n;if(e instanceof mt)n=1;else{if("="!=e.operator)return!1;n=2}e=g.definition();return e.references.length-e.replaced==n}(h),$=x,M=!1,F=0,j=!1,q=!p||!$;if(!q){for(var e=h.arg_index+1;!M&&e<p.length;e++)p[e]&&p[e].transform(c);q=!0}for(var t=s;!M&&t<o.length;t++)o[t].transform(c);if(v){var C=g.definition(),N=C.references.length-C.replaced;if(h instanceof zt&&N--,!F||N!=F){d.push(f),n=!0;continue}if(M=!1,F){u=0,$=x;for(t=s;!M&&t<o.length;t++)o[t].transform(i)||o.splice(t--,1);h instanceof mt&&(F=!l.exposed(C)&&C.references.length==C.replaced),v.single_use=!1}}F&&!function(e){var n=e.name_index;if(0<=n){var t=Z.argnames[n];return t instanceof _t?(t.value=re(ni,t,{value:0}),t.name.definition().fixed=!1):(e=l.parent().args)[n]&&(e[n]=re(ni,e[n],{value:0}),t.definition().fixed=!1),!0}var i=f.length-1;f[i-1].body===f[i]&&i--;var r=new pi(function(e,n,t){return $||e!==f[u]?e:++u<=i?H(e,r):($=!0,e instanceof mt?(e.value=null,a[e.name.name]=(a[e.name.name]||0)+1,v&&v.replaced++,e):t?cn.skip:null)},W);return $=M=!1,u=0,o[s].transform(r)}(h)&&o.splice(s,1)}}}function P(e){return M||(m===e&&(M=!0),_===e&&(_=null)),e}function H(e,n){if(e instanceof En){if(e instanceof Cn)return e;if(!e.variables||!e.variables.all(function(e){return!T.has(e.name)}))return M=!0,e;if(e instanceof jn)return e.object=e.object.transform(n),M=!0,e;if(e instanceof ot){e.expression=e.expression.transform(n);for(var t=0;!M&&t<e.body.length;t++){var i=e.body[t];if(i instanceof ft){if(!$){if(i!==f[u])continue;u++}if(i.expression=i.expression.transform(n),!z)break;w=!1}}return M=!0,e}}}function I(e,n){return n instanceof zt?"="==n.operator&&n.left===e:n instanceof _t?n.name===e:n instanceof jt||n instanceof qt&&n.value===e}function R(e,n){return n instanceof Ot?ue[n.operator]&&n.left!==e:n instanceof ft?n.expression!==e:(n instanceof At||n instanceof rt)&&n.condition!==e}function U(e,n){if(e instanceof $t)return 1;if("Binary"==e.TYPE)return"in"==e.operator&&!We(e.right);if(e instanceof gt){var t=e.expression;if(t instanceof Kt&&(f=t.definition(),t=t.fixed_value()),!(t instanceof Pn))return 1;if(f&&Ge(l,f))return 1;if(t.collapse_scanning)return;t.collapse_scanning=!0;var i=q;q=!1;var r=m,o=_;if(hn(t.argnames,function(e){if(e instanceof _t){if(e.value.transform(c),M)return;e=e.name}return!(e instanceof Ft)}))if(In(t)&&t.value)t.value.transform(c);else for(var a=0;!M&&a<t.body.length;a++){var s=t.body[a];if(s instanceof Zn){s.value&&s.value.transform(c);break}s.transform(c)}else M=!0;return(_=o,m=r,q=i,delete t.collapse_scanning,M)?(M=!1,1):void 0}if(e instanceof Qn){if(Q){if(Q.bfinally)return 1;if(Q.bcatch&&e instanceof et)return 1}return b||g instanceof wt||G(g)}if(e instanceof Wn)return l.option("ie8")&&e.name&&T.has(e.name.name);if(e instanceof wt){i=e.expression;return b||!v&&i.may_throw_on_access(l)||i instanceof Kt&&te(i.definition())}if(e instanceof Et)return 1;if(e instanceof Kt){if(J(e))return!I(e,n);if(b&&G(e))return 1;var f=e.definition();return(Q||f.scope.resolve()!==Z)&&!ie(e)}if(e instanceof Qt)return J(e);if(e instanceof mt)return A(e.name)||(e.value||n instanceof ht)&&e.name.match_symbol(function(e){return e instanceof Bt&&(T.has(e.name)||b&&G(e))},!0);e=le(e.left,e);return e&&(e instanceof wt||(A(e)||e.match_symbol(function(e){return e instanceof Kt&&(T.has(e.name)||E&&l.exposed(e.definition()))},!0)))}function B(e,n){var t,i;f.push(e),e instanceof Mt?e.elements.forEach(function(e){B(e,n)}):e instanceof zt?(e.left instanceof Ft||d.push(f.slice()),B(e.left),B(e.right),e.left instanceof Kt&&(r[e.left.name]=(r[e.left.name]||0)+1)):e instanceof $t?B(e.expression,n):e instanceof Ot?(i=ue[e.operator],n&&i&&e.right instanceof zt&&"="==e.right.operator&&!(e.right.left instanceof Ft)&&d.push(f.slice()),B(e.left,!i&&n),B(e.right,n)):e instanceof gt?(B(e.expression),e.args.forEach(B)):e instanceof ft?B(e.expression):e instanceof At?(B(e.condition),B(e.consequent,n),B(e.alternative,n)):e instanceof pt?e.definitions.forEach(B):e instanceof xt?B(e.expression):e instanceof zn?(B(e.condition),e.body instanceof Tn||B(e.body)):e instanceof Qn?e.value&&B(e.value):e instanceof Fn?(e.init&&B(e.init,!0),e.condition&&B(e.condition),e.step&&B(e.step,!0),e.body instanceof Tn||B(e.body)):e instanceof jn?(B(e.object),e.body instanceof Tn||B(e.body)):e instanceof rt?(B(e.condition),e.body instanceof Tn||B(e.body),!e.alternative||e.alternative instanceof Tn||B(e.alternative)):e instanceof Nt?e.properties.forEach(function(e){f.push(e),e.key instanceof gn&&B(e.key),e instanceof Ht&&B(e.value,n),f.pop()}):e instanceof yt?(t=e.expressions.length-(n?0:1),e.expressions.forEach(function(e,n){B(e,n<t)})):e instanceof kn?B(e.body,!0):e instanceof Et?B(e.expression):e instanceof kt?(B(e.expression),B(e.property)):e instanceof ot?(B(e.expression),e.body.forEach(B)):e instanceof St?vi[e.operator]?d.push(f.slice()):B(e.expression):e instanceof mt&&(e.name instanceof Vt&&(e.value?(i=e.name.definition()).references.length>i.replaced&&d.push(f.slice()):a[e.name.name]=(a[e.name.name]||0)+1),e.value&&B(e.value)),f.pop()}function Y(o,a){var s=c.parent(a);if(U(o,s))return o;if(R(o,s))return o;if(s instanceof Mt)return Y(s,a+1);if(s instanceof zt)return n(s.left);if(s instanceof $t)return o;if(s instanceof Ot)return Y(s,a+1);if(s instanceof gt)return Y(s,a+1);if(s instanceof ft)return Y(s,a+1);if(s instanceof At)return Y(s,a+1);if(s instanceof pt)return Y(s,a+1);if(s instanceof Qn)return Y(s,a+1);if(s instanceof rt)return Y(s,a+1);if(s instanceof An)return o;if(s instanceof Pt){var e=c.parent(a+1);return hn(e.properties,function(e){return e instanceof Ht})?Y(e,a+2):e}if(s instanceof wt){e=s.expression;if(e===o)return Y(s,a+1);e=ae(e);if(!(e instanceof Kt))return Y(s,a+1);e=T.get(e.name);return!e||hn(e,function(e){return!(e instanceof wt)})?Y(s,a+1):o}return s instanceof yt||s instanceof kn?Y(s,a+1):s instanceof Et?o:s instanceof ot||s instanceof St?Y(s,a+1):s instanceof mt?n(s.name):null;function n(e){if(k(s))return o;if(e!==o&&e instanceof Ft){var n=q;q=!1;var t=m,i=_,r=c.stack;if(c.stack=[s],e.transform(c),c.stack=r,_=i,m=t,q=n,M)return M=!1,o}return Y(s,a+1)}}function L(e){if(n)n=!1;else if(e instanceof Kt){e=e.definition();return e.undeclared?void 0:!te(e)&&(v=e)}}function V(t,i){return function(e,n){if(n.in_boolean_context()){if(t&&e.is_truthy()&&!e.has_side_effects(l))return!0;if(e.is_constant())return!e.evaluate(l)==!t}return i(e)}}function W(e){if(e instanceof yt)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}function J(e){e=T.get(e.name);if(e&&!hn(e,function(e){return!e}))return e[0]!==g||void(w=!1)}function G(e){e=e.definition();return!(1==e.orig.length&&e.orig[0]instanceof Jt)&&(e.scope!==Z||(!(!S||!l.exposed(e))||!hn(e.references,function(e){return e.scope.resolve()===Z})))}function X(e,n){if(e instanceof zt)return X(e.left,!0);if(e instanceof St)return X(e.expression,!0);if(e instanceof mt)return e.value&&X(e.value);if(n){if(e instanceof xt)return X(e.expression,!0);if(e instanceof kt)return X(e.expression,!0);if(e instanceof Kt)return e.definition().scope!==Z}return!1}}(e,c),ee&&0<n--;);return e;function p(e,n){if(!(e instanceof Dn))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof vt&&A(r))n.push(r);else{if(t||r instanceof dt||r instanceof ht)return!1;t=r}}return t}function u(e,n,t){var i;if(n instanceof zt?i=[n]:n instanceof yt&&(i=n.expressions.slice()),i){for(var r=!1,o=i.length-1;0<=--o;){var a,s=i[o];s instanceof zt&&"="==s.operator&&s.left instanceof Kt&&(a=i.slice(o+1),l(s.left,s.right,a)&&(r=!0,i=i.slice(0,o+1).concat(a)))}if(e instanceof pt){t=t||0;for(o=e.definitions.length;0<=--o;){var f=e.definitions[o];if(f.value){l(f.name,f.value,i)&&(r=!0),function(e,n,t){if(!c.option("conditionals"))return;if(e.name instanceof Ft)return;var i=!1,r=e.name.definition();for(;n.length>t;){var o=Ue(c,r,e.value,n[0]);if(!o)break;e.value=o,n.shift(),i=!0}return i}(f,i,t)&&(r=!0);break}}e instanceof vt&&function(e,n,t){var i=!1;for(;n.length>t;){var r=n[0];if(!(r instanceof zt))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Kt))break;if(se(o))break;if(o.scope.resolve()!==Z)break;var a=o.definition();if(a.scope!==Z)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;o=re(Vt,o,o);e.push(re(mt,r,{name:o,value:r.right})),a.orig.push(o),a.replaced++,n.shift(),i=!0}return i}(e.definitions,i,t)&&(r=!0)}return r&&i}}function l(e,n,t){if(n instanceof Nt){var i=!1;do{var r=t[0];if(!(r instanceof zt))break;if("="!=r.operator)break;if(!(r.left instanceof wt))break;var o=r.left.expression;if(!(o instanceof Kt))break;if(e.name!=o.name)break;if(!r.right.is_constant_expression(Z))break;var a=r.left.property;if((a=a instanceof gn?a.evaluate(c):a)instanceof gn)break;o="__proto__"==(a=""+a)||c.has_directive("use strict")?function(e){return"string"==typeof e.key&&e.key!=a}:function(e){return!(e instanceof Rt||e instanceof It)||"string"==typeof e.key&&e.key!=a}}while(hn(n.properties,o)&&(n.properties.push(re(Ht,r,{key:a,value:r.right})),t.shift(),i=!0,t.length));return i}}}function M(i,r,o){var a;function s(e){a?(a.push(e),(e instanceof dt||e instanceof ht)&&(a.required=!0)):o.push(e)}r instanceof pt||Jn(r)||gn.warn("Dropping unreachable code [{file}:{line},{col}]",r.start),r.walk(new li(function(e,n){if(e instanceof pt){var t=[];return e.remove_initializers(i,t)&&gn.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",e.start),0<t.length&&(e.definitions=t,s(e)),!0}if(Jn(e))return s(e),!0;if(e instanceof Cn)return!0;if(e instanceof En){e=a;return a=[],n(),a.required?o.push(re(Dn,r,{body:a})):a.length&&[].push.apply(o,a),a=e,!0}}))}function ce(e,n){return e.is_undefined||e instanceof oi||e instanceof Tt&&"void"==e.operator&&!(n&&e.expression.has_side_effects(n))}function F(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof Zt)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":return!0;default:return!1}}function j(e){return/strict/.test(e.option("pure_getters"))}(I=function(e,n){e.DEFMETHOD("is_truthy",n)})(gn,on),I(Mt,an),I(zt,function(){return"="==this.operator&&this.right.is_truthy()}),I(Pn,an),I(Nt,an),I(ti,an),I(yt,function(){return this.tail_node().is_truthy()}),I(Kt,function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=on;e=e.is_truthy();return delete this.is_truthy,e}),(I=function(e,n){e.DEFMETHOD("is_negative_zero",n)})(gn,an),I(Mt,on),I(zt,function(){var e=this.operator;return"="==e?this.right.is_negative_zero():F(e.slice(0,-1),this.left,this.right)}),I(Ot,function(){return F(this.operator,this.left,this.right)}),I(Zt,function(){return 0==this.value&&1/this.value<0}),I(Pn,on),I(Nt,on),I(ti,on),I(yt,function(){return this.tail_node().is_negative_zero()}),I(Kt,function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=an;e=e.is_negative_zero();return delete this.is_negative_zero,e}),I(Tt,function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}),I=function(e,n){e.DEFMETHOD("_dot_throw",n)},gn.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),I(gn,j),I(Mt,on),I(zt,function(e){if("="!=this.operator)return!1;var n=this.right;if(!n._dot_throw(e))return!1;var t=this.left;return!(t instanceof Kt)||(!(n instanceof Ot&&"||"==n.operator&&t.name==n.left.name)||n.right._dot_throw(e))}),I(Ot,function(e){switch(this.operator){case"&&":return this.left._dot_throw(e)||this.right._dot_throw(e);case"||":return this.right._dot_throw(e);default:return!1}}),I(At,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),I(Zt,on),I(xt,function(e){if(!j(e))return!1;e=this.expression;return!((e=e instanceof Kt?e.fixed_value():e)instanceof Pn&&"prototype"==this.property)}),I(Pn,on),I(ii,an),I(Nt,function(e){return j(e)&&!hn(this.properties,function(e){return e instanceof Ht})}),I(yt,function(e){return this.tail_node()._dot_throw(e)}),I(Kt,function(e){if(this.is_undefined)return!0;if(!j(e))return!1;if(se(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var n=this.definition();if(te(n)&&hn(n.scope.argnames,function(e){return e instanceof Wt}))return 2<n.scope.uses_arguments;n=this.fixed_value();return!n||(this._dot_throw=an,n._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=on,!1))}),I(Qt,function(e){return j(e)&&!this.scope.new}),I(Tt,function(){return"void"==this.operator}),I(Dt,on),I(oi,an),(I=function(e,n){e.DEFMETHOD("is_defined",n)})(gn,on),I(Mt,an),I(zt,function(e){return"="!=this.operator||this.right.is_defined(e)}),I(Ot,function(e){switch(this.operator){case"&&":return this.left.is_defined(e)&&this.right.is_defined(e);case"||":return this.left.is_truthy()||this.right.is_defined(e);default:return!0}}),I(At,function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)}),I(Zt,an),I(ai,on),I(Pn,an),I(Nt,an),I(yt,function(e){return this.tail_node().is_defined(e)}),I(Kt,function(e){if(this.is_undefined)return!1;if(se(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=on;e=n.is_defined(e);return delete this.is_defined,e}),I(Tt,function(){return"void"!=this.operator}),I(Dt,an),I(oi,on),function(e){e(gn,on),e(zt,function(e){return"="==this.operator&&this.right.is_boolean(e)});var n=dn("in instanceof == != === !== < <= >= >");e(Ot,function(e){return n[this.operator]||ue[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)}),e(fi,an);var t=dn("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(gt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof xt&&(t[e.property]||"test"==e.property&&e.expression instanceof ti)}),e(At,function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)}),e(bt,on),e(yt,function(e){return this.tail_node().is_boolean(e)}),e(Kt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=on;e=n.is_boolean(e);return delete this.is_boolean,e});var i=dn("! delete");e(Tt,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(gn,on);var n=dn("- * / % & | ^ << >> >>>");e(zt,function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)}),e(Ot,function(e){return!!n[this.operator]||"+"==this.operator&&((this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e)))});var t=dn(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toExponential","toFixed","toPrecision"]);e(gt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof xt&&(t[e.property]||se(e.expression)&&"Math"==e.expression.name)}),e(At,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)}),e(bt,on),e(ni,an),e(yt,function(e){return this.tail_node().is_number(e)}),e(Kt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_number=on;e=n.is_number(e);return delete this.is_number,e});var i=dn("+ - ~ ++ --");e(St,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(gn,on),e(zt,function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}}),e(Ot,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))});var n=dn(["charAt","substr","substring","toLowerCase","toString","toUpperCase","trim"]);e(gt,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof xt&&n[e.property]}),e(At,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(yt,function(e){return this.tail_node().is_string(e)}),e(ei,an),e(Kt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=on;e=n.is_string(e);return delete this.is_string,e}),e(Tt,function(){return"typeof"==this.operator})}(function(e,n){e.DEFMETHOD("is_string",n)});var ue=dn("&& ||");function le(e,n){return n instanceof zt?n.left===e&&e:n instanceof _t?n.name===e&&e:n instanceof Ft||n instanceof qt?e:n instanceof St?gi[n.operator]&&n.expression:void 0}function q(e){gn.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}function K(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function C(e,n,t){return K(re(kn,e,{body:e}),re(kn,n,{body:n}),t).body}function Q(e,n,t,i){return(_n(e)?C:K)(n,t,i)}function N(n){var t=Object.create(null);return Object.keys(n).forEach(function(e){t[e]=dn(n[e])}),t}function P(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof wn))return t}}function H(){return this.value?re(Zn,this.value,{value:this.value}):P(this.body)}function Z(e,n){var t=n.evaluate(e);return t===n?n:Q(e,n,W(t,n).optimize(e),e.eval_threshold)}I=function(e,n){e.DEFMETHOD("_find_defs",n)},Nn.DEFMETHOD("resolve_defines",function(o){return o.option("global_defs")?(this.figure_out_scope({ie8:o.option("ie8")}),this.transform(new pi(function(e){var n=e._find_defs(o,"");if(n){for(var t,i=0,r=e;(t=this.parent(i++))&&t instanceof wt&&t.expression===r;)r=t;if(!le(r,t))return n;q(e)}}))):this}),I(gn,rn),I(xt,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),I(Bt,function(e){this.definition().global&&mn(e.option("global_defs"),this.name)&&q(this)}),I(Kt,function(e,n){if(this.definition().global){e=e.option("global_defs"),n=this.name+n;return mn(e,n)?function n(e,t){if(e instanceof gn)return e.clone(!0);if(Array.isArray(e))return re(Mt,t,{elements:e.map(function(e){return n(e,t)})});if(e&&"object"==typeof e){var i,r=[];for(i in e)mn(e,i)&&r.push(re(Ht,t,{key:i,value:n(e[i],t)}));return re(Nt,t,{properties:r})}return W(e,t)}(e[n],this):void 0}}),Bn.DEFMETHOD("first_statement",H),Ln.DEFMETHOD("first_statement",H),Pn.DEFMETHOD("first_statement",function(){return P(this.body)});var I,R=N({Array:["indexOf","join","lastIndexOf","slice"].concat(I=["constructor","toString","valueOf"]),Boolean:I,Function:I,Number:["toExponential","toFixed","toPrecision"].concat(I),Object:I,RegExp:["exec","test"].concat(I),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(I)}),U=N({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode"]});function B(e){return re(Tt,e,{operator:"!",expression:e})}function ee(e,n,t){e=B(e);if(t){t=re(kn,n,{body:n});return K(e,t)===t?n:e}return K(e,n)}!function(e){e(gn,on),e(Zt,an),e(ti,on);var n=dn("! ~ - + void");e(Tt,function(){return n[this.operator]&&this.expression instanceof Zt})}(function(e,n){e.DEFMETHOD("is_constant",n)}),function(e){gn.DEFMETHOD("evaluate",function(e,n){if(!e.option("evaluate"))return this;var t=[],e=this._eval(e,n,t,1);return t.forEach(function(e){delete e._eval}),!n&&e&&!(e instanceof RegExp)&&("function"==typeof e||"object"==typeof e)?this:e});var h=new li(function(e){e instanceof zt&&f(e.left),e instanceof St&&vi[e.operator]&&f(e.expression)});function f(e){e instanceof jt?e.elements.forEach(f):e instanceof Ct?e.properties.forEach(function(e){f(e.value)}):e instanceof wt?f(e.expression):e instanceof Kt&&e.definition().references.forEach(function(e){delete e._eval})}e(bn,function(){throw new Error(ln("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(Hn,sn),e(gn,sn),e(Zt,function(){return this.value}),e(zt,function(e,n,t,i){var r=this.left;if(!n){if(!(r instanceof Kt))return this;if(!mn(r,"_eval")){if(!r.fixed)return this;var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this;if("m"==o.single_use)return this}}o=this.operator,o=!mn(r,"_eval")&&r instanceof Kt&&r.fixed&&r.definition().fixed?r:"="==o?this.right:re(Ot,this,{operator:o.slice(0,-1),left:r,right:this.right});r.walk(h);i=o._eval(e,n,t,i);return"object"==typeof i?this:(f(r),i)}),e(yt,function(e,n,t,i){if(!n)return this;for(var r=this.expressions,o=0,a=r.length-1;o<a;o++)r[o].walk(h);var s=r[a],i=s._eval(e,n,t,i);return i===s?this:i}),e(Pn,function(e){if(e.option("unsafe")){e=function(){};return e.node=this,e.toString=function(){return"function(){}"},e}return this}),e(Mt,function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof ai)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this}),e(Nt,function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof Ht))return this;var s=a.key;if(s instanceof gn&&(s=s._eval(e,n,t,i))===a.key)return this;if(a.value instanceof Wn&&"function"==typeof Object.prototype[s])return this;if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this});var c=dn("! typeof void");e(Tt,function(e,n,t,i){var r=this.expression,o=this.operator;if(e.option("typeofs")&&"typeof"==o&&(r instanceof Pn||r instanceof Kt&&r.fixed_value()instanceof Pn))return"function";var a=r instanceof Kt&&r.definition();c[o]||a&&a.fixed||i++,r.walk(h);var s=r._eval(e,n,t,i);if(s===r)return n&&"void"==o?void 0:this;switch(o){case"!":return!s;case"typeof":return s instanceof RegExp?this:typeof s;case"void":return;case"~":return~s;case"-":return-s;case"+":return+s;case"++":case"--":if(!a)return this;if(!n){if(a.undeclared)return this;if(a.last_ref!==r)return this}return mn(r,"_eval")&&(s=+(o[0]+1)+ +s),f(r),s}return this}),e(Dt,function(e,n,t,i){var r=this.expression;if(r instanceof Kt){if(!mn(r,"_eval")){if(!r.fixed)return this;if(!n){var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this}}}else if(!n)return this;r instanceof Kt&&r.definition().fixed||i++,r.walk(h);i=r._eval(e,n,t,i);return i===r?this:(f(r),+i)});var u=dn("&& || === !==");e(Ot,function(e,n,t,i){u[this.operator]||i++;var r=this.left._eval(e,n,t,i);if(r===this.left)return this;if(this.operator==(r?"||":"&&"))return r;var o,a=n&&!(r&&"object"==typeof r),s=this.right._eval(e,a,t,i);if(s===this.right)return this;switch(this.operator){case"&&":o=r&&s;break;case"||":o=r||s;break;case"|":o=r|s;break;case"&":o=r&s;break;case"^":o=r^s;break;case"+":o=r+s;break;case"-":o=r-s;break;case"*":o=r*s;break;case"/":o=r/s;break;case"%":o=r%s;break;case"<<":o=r<<s;break;case">>":o=r>>s;break;case">>>":o=r>>>s;break;case"==":o=r==s;break;case"===":o=r===s;break;case"!=":o=r!=s;break;case"!==":o=r!==s;break;case"<":o=r<s;break;case"<=":o=r<=s;break;case">":o=s<r;break;case">=":o=s<=r;break;case"in":if(s&&"object"==typeof s&&mn(s,r)){o=!0;break}default:return this}if(isNaN(o))return e.find_parent(qn)?this:o;if(e.option("unsafe_math")&&!n&&o&&"number"==typeof o&&("+"==this.operator||"-"==this.operator)){n=Math.max(0,f(r),f(s));if(n<16)return+o.toFixed(n)}return o;function f(e){e=/(\.[0-9]*)?(e.+)?$/.exec(+e);return(e[1]||".").length-1-(e[2]||"").slice(1)}}),e(At,function(e,n,t,i){var r=this.condition._eval(e,n,t,i);if(r===this.condition)return this;r=r?this.consequent:this.alternative,i=r._eval(e,n,t,i);return i===r?this:i}),e(Kt,function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(mn(o,"_eval"))r=o._eval();else{if(this._eval=sn,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(n,e){var t=n.definition().escaped;switch(t.length){case 0:return 1;case 1:var i=!1;return t[0].walk(new li(function(e){return!!i||(e===n?i=!0:e instanceof Cn||void 0)})),i;default:return e<=t.depth}}(this,i)?this:r});var v={Array:Array,Math:Math,Number:Number,Object:Object,String:String},s=N({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),l=dn("global ignoreCase multiline source");e(wt,function(e,n,t,i){if(e.option("unsafe")){var r,o=this.expression;if(!se(o)&&(null==(r=o._eval(e,n,t,i+1))||r===o))return this;var a=this.property;if(a instanceof gn&&(a=a._eval(e,n,t,i))===this.property)return this;if(void 0===r){i=s[o.name];if(!i||!i[a])return this;r=v[o.name]}else if(r instanceof RegExp){if(!l[a])return this}else if("object"==typeof r){if(!mn(r,a))return this}else if("function"==typeof r)switch(a){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.argnames.length;default:return this}return r[a]}return this}),e(gt,function(o,a,s,f){var e=this.expression,n=e instanceof Kt?e.fixed_value():e;if(n instanceof Bn||n instanceof Xn||n instanceof Wn){if(n.evaluating)return this;if(n.name&&0<n.name.definition().recursive_refs)return this;if(this.is_expr_pure(o))return this;var r=d(this.args);if(!hn(n.argnames,function(e,n){if(e instanceof _t){if(!r)return;if(void 0!==r[n])return;var t=e.value._eval(o,a,s,f);if(t===e.value)return;r[n]=t,e=e.name}return!(e instanceof Ft)}))return this;if(!r&&!a)return this;var t=n.first_statement();if(!(t instanceof Zn)){if(a){n.walk(h);var i=!1;if(Sn(n,new li(function(e){return!!i||(e instanceof Zn?(e.value&&void 0!==e.value._eval(o,!0,s,f)&&(i=!0),!0):e instanceof Cn&&e!==n||void 0)})),!i)return}return this}if(!(u=t.value))return;var c=[];return r&&!hn(n.argnames,function(e,n){var t=(e=e instanceof _t?e.name:e).definition();if(t.orig[t.orig.length-1]===e){var i=r[n];return t.references.forEach(function(e){e._eval=function(){return i},c.push(e)}),1}})&&!a||(n.evaluating=!0,u=u._eval(o,a,s,f),delete n.evaluating),c.forEach(function(e){delete e._eval}),u===t.value?this:u}if(o.option("unsafe")&&e instanceof wt){var u,l=e.property;if(l instanceof gn&&(l=l._eval(o,a,s,f))===e.property)return this;e=e.expression;if(se(e)){var p=U[e.name];if(!p||!p[l])return this;u=v[e.name]}else{if(null==(u=e._eval(o,a,s,f+1))||u===e)return this;p=R[u.constructor.name];if(!p||!p[l])return this;if(u instanceof RegExp&&u.global&&!(e instanceof ti))return this}if(!(r=d(this.args)))return this;if("replace"==l&&"function"==typeof r[1])return this;try{return u[l].apply(u,r)}catch(e){gn.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{u instanceof RegExp&&(u.lastIndex=0)}}return this;function d(e){for(var n=[],t=0;t<e.length;t++){var i=e[t],r=i._eval(o,a,s,f);if(i===r)return;n.push(r)}return n}}),e(bt,sn)}(function(e,n){e.DEFMETHOD("_eval",n)}),(I=function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})})(gn,function(){return B(this)}),I(bn,function(){throw new Error("Cannot negate a statement")}),I(Bn,function(){return B(this)}),I(Ln,function(){return B(this)}),I(Vn,function(){return B(this)}),I(Wn,function(){return B(this)}),I(Tt,function(){return"!"==this.operator?this.expression:B(this)}),I(yt,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),V(this,n)}),I(At,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),ee(this,t,n)}),I(Ot,function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),ee(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),ee(this,t,n)}return B(this)});var pe=dn("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");function de(e){for(;(e=e.tail_node())instanceof Kt;)if(!(e=e.fixed_value()))return!0;return!(e instanceof Mt||"Binary"==e.TYPE&&!ue[e.operator]||e instanceof Zt||e instanceof Pn||e instanceof Nt&&hn(e.properties,function(e){return!(e instanceof Rt||e instanceof Et)})||e instanceof Qt||e instanceof St)}function he(e,n,t){return!hn(e,t?function(e){return e instanceof Et?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function ve(e,n){return!e.expression.is_string(n)||e.expression.has_side_effects(n)}function me(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}function _e(e){for(var n=e.length;0<=--n;)if(!e[n].is_constant_expression())return!1;return!0}function ge(e){return e&&e.aborts()}function be(){var e=this.body.length;return 0<e&&ge(this.body[e-1])}gt.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(se(n)&&pe[n.name])return!0;if(n instanceof xt&&se(n.expression)){var t=U[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return this.pure||!e.pure_funcs(this)}),gn.DEFMETHOD("is_call_pure",on),gt.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof xt))return!1;var t,i=n.expression,r=n.property;if(i instanceof Mt)t=R.Array;else if(i.is_boolean(e))t=R.Boolean;else if(i.is_number(e))t=R.Number;else if(i instanceof ti)t=R.RegExp;else if(i.is_string(e)){if(t=R.String,"replace"==r){i=this.args[1];if(i&&!i.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=R.Object);return t&&t[r]}),(I=function(e,n){e.DEFMETHOD("has_side_effects",n)})(gn,an),I(Mt,function(e){return he(this.elements,e,ve)}),I(zt,function(e){var n=this.left;if(!(n instanceof wt))return!0;var t=n.expression;return!(t instanceof Qt)||!t.scope.new||n instanceof kt&&n.property.has_side_effects(e)||this.right.has_side_effects(e)}),I(Ot,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||"in"==this.operator&&!We(this.right)}),I(Tn,function(e){return he(this.body,e)}),I(gt,function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||he(this.args,e,ve)}),I(ft,function(e){return this.expression.has_side_effects(e)||he(this.body,e)}),I(At,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),I(Zt,on),I(pt,function(e){return he(this.definitions,e)}),I(jt,function(e){return he(this.elements,e)}),I(qt,function(e){return this.key instanceof gn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),I(Ct,function(e){return he(this.properties,e)}),I(xt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),I(xn,on),I(rt,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),I(On,function(e){return this.body.has_side_effects(e)}),I(Pn,on),I(Nt,function(e){return he(this.properties,e,function(e,n){e=e.expression;return de(e)||e.has_side_effects(n)})}),I(Pt,function(e){return this.key instanceof gn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),I(yt,function(e){return he(this.expressions,e)}),I(kn,function(e){return this.body.has_side_effects(e)}),I(kt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),I(ot,function(e){return this.expression.has_side_effects(e)||he(this.body,e)}),I(Bt,on),I(Kt,function(e){return!this.is_declared(e)||!ie(this)}),I(Qt,on),I(ct,function(e){return he(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),I(St,function(e){return gi[this.operator]||this.expression.has_side_effects(e)}),I(mt,function(e){return this.value}),(I=function(e,n){e.DEFMETHOD("may_throw",n)})(gn,an),I(Zt,on),I(xn,on),I(Pn,on),I(Bt,on),I(Qt,on),I(Mt,function(e){return me(this.elements,e)}),I(zt,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Kt)&&this.left.may_throw(e)}),I(Ot,function(e){return this.left.may_throw(e)||this.right.may_throw(e)||"in"==this.operator&&!We(this.right)}),I(Tn,function(e){return me(this.body,e)}),I(gt,function(e){return!!me(this.args,e)||!this.is_expr_pure(e)&&(!!this.expression.may_throw(e)||(!(this.expression instanceof Pn)||me(this.expression.body,e)))}),I(ft,function(e){return this.expression.may_throw(e)||me(this.body,e)}),I(At,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),I(pt,function(e){return me(this.definitions,e)}),I(xt,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),I(rt,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),I(On,function(e){return this.body.may_throw(e)}),I(Nt,function(e){return me(this.properties,e)}),I(Pt,function(e){return this.key instanceof gn&&this.key.may_throw(e)||this.value.may_throw(e)}),I(Zn,function(e){return this.value&&this.value.may_throw(e)}),I(yt,function(e){return me(this.expressions,e)}),I(kn,function(e){return this.body.may_throw(e)}),I(kt,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),I(ot,function(e){return this.expression.may_throw(e)||me(this.body,e)}),I(Kt,function(e){return!this.is_declared(e)}),I(ct,function(e){return(this.bcatch?this.bcatch.may_throw(e):me(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)}),I(St,function(e){return!("typeof"==this.operator&&this.expression instanceof Kt)&&this.expression.may_throw(e)}),I(mt,function(e){return!!this.value&&this.value.may_throw(e)}),(I=function(e,n){e.DEFMETHOD("is_constant_expression",n)})(gn,on),I(Mt,function(){return _e(this.elements)}),I(Ot,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()&&("in"!=this.operator||We(this.right))}),I(Zt,an),I(Pn,function(i){var r=this,o=!0,a=[];return r.walk(new li(function(e,n){if(!o)return!0;if(e instanceof En)return e===r?void 0:(a.push(e),n(),a.pop(),!0);if(e instanceof Kt){if(r.inlined||e.redef)return!(o=!1);if(r.variables.has(e.name))return!0;var t=e.definition();if(nn(t.scope,a))return!0;if(i&&!t.redefined()){n=i.find_variable(e.name);if(t.undeclared?!n:n===t)return o="f",!0}return!(o=!1)}return e instanceof Qt?(0==a.length&&In(r)&&(o=!1),!0):void 0})),o}),I(Nt,function(){return _e(this.properties)}),I(Pt,function(){return"string"==typeof this.key&&this.value.is_constant_expression()}),I(St,function(){return this.expression.is_constant_expression()}),(I=function(e,n){e.DEFMETHOD("aborts",n)})(bn,fn),I(Kn,sn),I(Dn,be),I(at,be),I(rt,function(){return this.alternative&&ge(this.body)&&ge(this.alternative)&&this});var ye=dn(["use asm","use strict"]);function we(e){switch(e.body.length){case 0:return re(xn,e);case 1:var n=e.body[0];if(!(n instanceof dt||n instanceof ht))return n}return e}function xe(e,n){n.option("rests")&&(e.uses_arguments||e.rest instanceof jt&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=null))}function ke(e,n){if(!n.option("arrows"))return e;xe(e,n);var t=$(e.value?[e.first_statement()]:e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof Zn){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}return e}function Ee(e,n){for(var t=n.length;0<=--t;)n[t]||(n[t]=re(ai,e))}function Se(n,t){n.walk(new li(function(e){return e instanceof Zn?(t(e),!0):e instanceof Cn&&e!==n||void 0}))}function Te(e){var n=Object.create(null);return Se(e,function(e){e=e.value;(e=e&&e.tail_node())instanceof Kt&&(e=e.definition().id,n[e]=(n[e]||0)+1)}),n}function De(e,n,t){return e.bool_fn+(n[e.id]||0)===e.references.length-e.replaced&&!t.exposed(e)}function Oe(e,i){Se(e,function(e){e.in_bool=!0;var n,t=e.value;t&&((n=t.is_truthy()||t.evaluate(i,!0))?!n||n instanceof gn||(t=t.drop_side_effect_free(i),e.value=t?V(e.value,[t,re(ni,e.value,{value:1})]):re(ni,e.value,{value:1})):(t=t.drop_side_effect_free(i),e.value=t?V(e.value,[t,re(ni,e.value,{value:0})]):null))})}function Ae(e,n){if(!e.name||!n.option("ie8"))return 1;e=e.name.definition();return!n.exposed(e)&&hn(e.references,function(e){return!(e instanceof Kt)})}function ze(e,n,t,i){var r=e.length;if(!r)return null;for(var o=[],a=!1,s=0;s<r;s++){var f=e[s],c=i&&f instanceof Et?i(f,n,t):f.drop_side_effect_free(n,t);c!==f&&(a=!0),c&&(o.push(c),t=!1)}return a?o.length?o:null:e}function $e(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function Me(e){return e instanceof Et?re(Mt,e,{elements:[e]}):e}function Fe(n,e,t){t=t||nt;var i=!1,r=new li(function(e){return!!(i||e instanceof Cn)||(e instanceof t&&r.loopcontrol_target(e)===n?i=!0:void 0)});return e instanceof On&&r.push(e),r.push(n),n.body.walk(r),i}function je(e,n,t){if(e instanceof Ot)if(e.left instanceof ei){if(e.right instanceof Tt&&"typeof"==e.right.operator){var i=e.right.expression;if(se(i)){var r,o,a,s="undefined"==e.left.value;switch(e.operator){case"==":r=s?t:n;break;case"!=":r=s?n:t;break;default:return}r&&(o=i.definition(),a=new li(function(e){if(e instanceof Cn){var n=a.parent();return n instanceof gt&&n.expression===e?void 0:!0}e instanceof Kt&&e.definition()===o&&(e.defined=!0)}),r.walk(a))}}}else switch(e.operator){case"&&":je(e.left,n),je(e.right,n);break;case"||":je(f(e.left),t),je(f(e.right),t)}function f(e){if(e instanceof Ot)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function qe(r){return function(n,t){var i=!1;return this.definitions.forEach(function(e){e.value&&(i=!0),e.name.match_symbol(function(e){e instanceof Bt&&t.push(re(mt,e,{name:e,value:r(n,e)}))},!0)}),i}}function Ce(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof Gt?3:2)}function Ne(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names()[n.name])return!0}function Pe(e){return re(vt,e,{definitions:e.definitions.map(function(e){return re(mt,e,{name:e.name.convert_symbol(Vt,function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e;e=t.scope.resolve();t.scope!==e&&(t.scope=e).variables.set(t.name,t)}),value:e.value})})})}function He(e,t){return t.option("varify")&&hn(e.definitions,function(e){return!e.name.match_symbol(function(e){if(e instanceof Bt){var n=e.definition();return!e.fixed_value()||!Ce(n)||Ne(t,n)}},!0)})?Pe(e):e}function Ie(e){var n=e.expression;if(!(n instanceof yt))return e;var t=n.expressions.slice(),n=e.clone();return n.expression=t.pop(),t.push(n),V(e,t)}function Re(e,t,n){var i=e.expression,r=i instanceof Kt?i.fixed_value():i;if(r instanceof Pn&&!r.uses_arguments&&!(r.pinned()||n&&n.indexOf(r)<0)){var o=e.args;if(hn(o,function(e){return!(e instanceof Et)})){i=r===i&&!r.name;if(r.rest){if(!i||!t.option("rests"))return;for(var a=r.argnames.length,s=o.length;s<a;s++)o[s]=re(oi,e).optimize(t);o[a]=re(Mt,e,{elements:o.splice(a)}),r.argnames.push(r.rest),r.rest=null}for(var f=0,c=0,u=i&&t.option("default_values"),l=i&&t.drop_fargs(r,e)?function(e,n){return!e||(e instanceof jt?0==e.elements.length&&!e.rest&&n instanceof Mt:e instanceof Ct?0==e.properties.length&&!e.rest&&n&&!n.may_throw_on_access(t):e.__unused)}:on,p=[],s=0;s<o.length;s++){var d=r.argnames[s];if(u&&d instanceof _t&&o[s].is_defined(t)&&(r.argnames[s]=d=d.name),!d||"__unused"in d){var h=o[s].drop_side_effect_free(t);if(l(d)){d&&r.argnames.splice(s,1),o.splice(s,1),h&&p.push(h),s--;continue}if(h)p.push(h),o[f++]=V(e,p),p=[];else if(d){if(!p.length){o[f++]=re(ni,o[s],{value:0});continue}o[f++]=V(e,p),p=[]}}else{if(d&&l(d,o[s])){h=o[s].drop_side_effect_free(t);r.argnames.splice(s,1),o.splice(s,1),h&&p.push(h),s--;continue}p.push(o[s]),o[f++]=V(e,p),p=[]}c=f}for(;s<r.argnames.length;s++)l(r.argnames[s])&&r.argnames.splice(s--,1);o.length=c,p.length&&(i=V(e,p),o.push(o.length<r.argnames.length?re(Tt,e,{operator:"void",expression:i}):i))}}}function Ue(t,i,e,n){if(n instanceof Ot&&ue[n.operator]&&n.right instanceof zt&&"="==n.right.operator&&n.right.left instanceof Kt&&n.right.left.definition()===i&&!e.has_side_effects(t)&&r(n.left)&&r(n.right.right))return i.replaced++,"&&"==n.operator?re(At,n,{condition:n.left,consequent:n.right.right,alternative:e}):re(At,n,{condition:n.left,consequent:e,alternative:n.right.right});function r(e){if(!e.has_side_effects(t)){var n=!1;return e.walk(new li(function(e){return!!n||(e instanceof Kt&&e.definition()===i?n=!0:void 0)})),!n}}}e(wn,function(e,n){return!n.option("directives")||ye[e.value]&&n.has_directive(e.value)===e?e:re(xn,e)}),e(yn,function(e,n){return n.option("drop_debugger")?re(xn,e):e}),e(On,function(e,n){return n.option("dead_code")&&e.body instanceof tt&&n.loopcontrol_target(e.body)===e.body?re(xn,e):n.option("unused")&&0==e.label.references.length?e.body:e}),e(Tn,function(e,n){return e.body=$(e.body,n),e}),e(Dn,function(e,n){return e.body=$(e.body,n),we(e)}),e(Bn,ke),e(Ln,ke),e(Xn,function(e,n){return xe(e,n),e.body=$(e.body,n),e}),e(Wn,function(n,e){if(xe(n,e),n.body=$(n.body,e),e.option("inline"))for(var t=0;t<n.body.length;t++){var i=n.body[t];if(!(i instanceof wn)){if(i instanceof Zn){var r=i.value;if(!r||"Call"!=r.TYPE)break;if(r.is_expr_pure(e))break;var o=r.expression;if(o instanceof Kt){if(n.name&&n.name.definition()===o.definition())break;o=o.fixed_value()}if(!(o instanceof Xn||o instanceof Wn))break;if(o.uses_arguments)break;if(o===r.expression){if(o.parent_scope!==n)break;if(!hn(o.enclosed,function(e){return e.scope!==n}))break}if(o.contains_this())break;var a=o.argnames.length;if(0<a&&e.option("inline")<2)break;if(a>n.argnames.length)break;if(!hn(n.argnames,function(e){return e instanceof Wt}))break;if(!hn(r.args,function(e){return!(e instanceof Et)}))break;for(var s=0;s<a;s++){var f=r.args[s];if(!(f instanceof Kt))break;if(f.definition()!==n.argnames[s].definition())break}if(s<a)break;for(;s<r.args.length&&!r.args[s].has_side_effects(e);s++);if(s<r.args.length)break;if(a<n.argnames.length&&!e.drop_fargs(n,e.parent())){if(!e.drop_fargs(o,r))break;for(;o.argnames.push(o.make_var(Wt,o,"argument_"+a)),++a<n.argnames.length;);}return r.expression}break}}return n}),Cn.DEFMETHOD("merge_variables",function(o){if(o.option("merge_vars")){var f,c=this,u={},a=[],s=[],l=0,p=new vn,d=Object.create(null),h=Object.create(null),v=new li(function(i,e){if(i instanceof zt){var n=i.left;if(n instanceof Ft){i.right.walk(v);var t=new li(function(e){if(!(e instanceof Ft))return e instanceof _t?(w(),e.value.walk(v),x(),e.name.walk(t)):e instanceof qt?e.key instanceof gn?(w(),(u.block=e).key.walk(v),e.value.walk(t),x()):e.value.walk(t):e instanceof Kt?k(e):e.walk(v),!0});return n.walk(t),!0}return n instanceof Kt?("="!=i.operator&&k(n,!0),i.right.walk(v),k(n),!0):void 0}if(i instanceof Ot)return ue[i.operator]?(i.left.walk(v),w(),i.right.walk(v),x(),!0):void 0;var r;if(i instanceof tt)return(s=v.loopcontrol_target(i))instanceof An||E(s),!0;if(i instanceof gt){var o=i.expression,n=o.tail_node();return Rn(n)?(o!==n&&o.expressions.slice(0,-1).forEach(function(e){e.walk(v)}),i.args.forEach(function(e){e.walk(v)}),n.walk(v),!0):void 0}if(i instanceof At)return i.condition.walk(v),w(),i.consequent.walk(v),x(),w(),i.alternative.walk(v),x(),!0;if(i instanceof it)return(s=v.loopcontrol_target(i))instanceof $n&&E(s),!0;if(i instanceof $n){w(),u.block=i,u.loop=!0;var a=u;return i.body.walk(v),u.inserted===i&&(u=a),i.condition.walk(v),x(),!0}if(i instanceof Fn)return i.init&&i.init.walk(v),w(),u.block=i,u.loop=!0,i.condition&&i.condition.walk(v),i.body.walk(v),i.step&&i.step.walk(v),x(),!0;if(i instanceof jn)return i.object.walk(v),w(),u.block=i,u.loop=!0,i.init.walk(v),i.body.walk(v),x(),!0;if(i instanceof rt)return i.condition.walk(v),w(),i.body.walk(v),x(),i.alternative&&(w(),i.alternative.walk(v),x()),!0;if(i instanceof On){w(),u.block=i;a=u;return i.body.walk(v),u.inserted===i&&(u=a),x(),!0}if(i instanceof Cn)return w(),(u.block=i)===c&&(f=u),i instanceof Pn&&(i.name&&(d[i.name.definition().id]=!1),t=i.uses_arguments&&!v.has_directive("use strict")?function(e){e instanceof Wt&&(d[e.definition().id]=!1)}:function(e){e instanceof Wt&&k(e)},r=new li(function(e){if(e instanceof Bt&&(d[e.definition().id]=!1),e instanceof Kt){var n=e.definition(),t=i.variables.get(e.name);return t&&(t===n||n.undeclared||i.parent_scope.find_variable(e.name)===n)?(d[n.id]=!1,d[t.id]=!1):(t=u,x(),k(e,!0),u=t),!0}}),i.argnames.forEach(function(e){e.mark_symbol(t,r)}),i.rest&&i.rest.mark_symbol(t,r)),Un(i,v),x(),!0;if(i instanceof ot){i.expression.walk(v);a=u;return i.body.forEach(function(e){e instanceof st||(e.expression.walk(v),a===u&&w())}),u=a,i.body.forEach(function(e){w(),u.block=i;var n=u;Sn(e,v),u.inserted===i&&(u=n),x()}),!0}if(i instanceof Kt)return k(i,!0),!0;if(i instanceof ct)return w(),Sn(u.block=i,v),x(),i.bcatch&&(i.bcatch.argname&&i.bcatch.argname.mark_symbol(function(e){e instanceof Xt&&(e=e.definition(),d[e.id]=!1,(e=e.redefined())&&(d[e.id]=!1))},v),w(),i.bfinally&&(u.block=i.bcatch),Sn(i.bcatch,v),x()),i.bfinally&&i.bfinally.walk(v),!0;if(i instanceof St){if(!vi[i.operator])return;var s=i.expression;return s instanceof Kt?(k(s,!0),!0):void 0}return i instanceof mt?(i.value&&i.value.walk(v),i.name.mark_symbol(i.value?function(e){if(e instanceof Bt)return e instanceof Vt?k(e):d[e.definition().id]=!1,!0}:function(e){if(e instanceof Bt){var n=e.definition().id;return e instanceof Vt?n in d?d[n]&&d[n].push(e):p.add(n,e):d[n]=!1,!0}},v),!0):i instanceof Mn?(w(),u.block=i,u.loop=!0,e(),x(),!0):void 0});v.directives=Object.create(o.directives),c.walk(v);for(var e=Object.create(null);a.length&&s.length;){var n=a.pop(),t=n.definition;if(t.id in h&&d[t.id]){for(var i={start:d[t.id].start};t.id in e;)t=e[t.id];i.end=d[t.id].end;var r=[];do{var m=s.pop();if(m&&!(m.index>n.index)){var _=m.definition.id,g=d[_];if(g){if(i.start.block===g.start.block&&T(i,g)&&(!i.start.loop||T(g,i))&&hn(g,function(e){return e.scope.find_variable(t.name)===t})){var b=[],y=[];g.forEach(function(e){e.thedef=t,e.name=t.name,(e instanceof Kt?y:b).push(e)}),t.orig=b.concat(t.orig),t.references=y.concat(t.references),t.fixed=m.definition.fixed&&t.fixed,e[_]=t;break}r.unshift(m)}}}while(s.length);r.length&&(s=s.concat(r))}}}function w(){u=Object.create(u)}function x(){u=Object.getPrototypeOf(u)}function k(e,n){var t,i,r=e.definition();if(r.id in d){if(!(i=d[r.id]))return;if(i.start.block!==u.block)return d[r.id]=!1;if(i.push(e),i.end=u,r.id in h)s[h[r.id]]=null;else if(!n)return}else{if((t=c.variables.get(r.name))!==r)return t&&f===u&&(d[t.id]=!1),d[r.id]=!1;if(o.exposed(r)||"arguments"==e.name||"await"==e.name)return d[r.id]=!1;if((i=p.get(r.id)||[]).push(e),d[r.id]=i,!n)return i.start=u,a.push({index:l++,definition:r});if(u.block!==c)return d[r.id]=!1;i.start=f}h[r.id]=s.length,s.push({index:l++,definition:r})}function E(e){for(var n=[];;){if(mn(u,"block")){var t=u.block;if((t=t instanceof On?t.body:t)===e)break}n.push(u),x()}for(u.inserted=u.block,w();n.length;){var i=n.pop();w(),mn(i,"block")&&(u.block=i.block),mn(i,"loop")&&(u.loop=i.loop)}}function S(e,n){return e===n||e.isPrototypeOf(n)}function T(e,n){return S(e.start,e.end)||S(e.start,n.start)}}),Cn.DEFMETHOD("drop_unused",function(y){if(y.option("unused")){var w=this,x=!(w instanceof Nn)||y.toplevel.funcs,k=!(w instanceof Nn)||y.toplevel.vars,E=/keep_assign/.test(y.option("unused"))?on:function(e,n){var t,i=!1;if(e instanceof zt?!e.write_only&&"="!=e.operator||(t=e.left):e instanceof St&&e.write_only&&(t=e.expression),/strict/.test(y.option("pure_getters")))for(;t instanceof wt&&!t.expression.may_throw_on_access(y);)t instanceof kt&&n.unshift(t.property),t=t.expression,i=!0;if(t instanceof Kt&&!y.exposed(t.definition())&&ie(t,i))return t},S=Object.create(null),f=function(e){return(f=function e(n,t,i){var r=y.parent(t);if(!r)return i;if(r instanceof qt){var o=y.parent(t+1);if(r.key===n){var a=y.parent(t+2);if(a instanceof Pn)return e(a,t+3,0<=a.argnames.indexOf(o)?function(e){var n=i(e);if(n)return n;if(n=a.variables.get(e)){var e=n.orig[0];if(e instanceof Wt||e instanceof Gt)return n}}:function(e){return i(e)||a.variables.get(e)})}return e(o,t+2,i)}return e(r,t+1,r.variables?function(e){return i(e)||r.variables.get(e)}:i)}(w,0,rn))(e)},T=Object.create(null),c=[],D=Object.create(null),u=Object.create(null),l=Object.create(null),O=Object.create(null);w instanceof Nn&&y.top_retain&&w.variables.each(function(e){!y.top_retain(e)||e.id in D||(D[e.id]=!0,c.push(e))});var p=new vn,d=new vn,A=this,h=new li(function(r,e){if(r instanceof Pn&&r.uses_arguments&&!h.has_directive("use strict")&&r.each_argname(function(e){e=e.definition();e.id in D||(D[e.id]=!0,c.push(e))}),r!==w){if(A===w){if(Jn(r)){var n=r.name.definition();return x||n.id in D||(D[n.id]=!0,c.push(n)),d.add(n.id,r),!0}if(r instanceof pt)return r.definitions.forEach(function(t){var i=t.value&&(t.name instanceof Ft||t.value.has_side_effects(y));t.name.mark_symbol(function(e){if(e instanceof Bt){var n=e.definition();return O[n.id]=(O[n.id]||0)+1,r instanceof vt&&n.orig[0]instanceof Xt&&((e=n.redefined())&&(O[e.id]=(O[e.id]||0)+1)),n.id in D||k&&(r instanceof dt?!n.redefined():!n.const_redefs)&&(r instanceof vt||Ce(n))||(D[n.id]=!0,c.push(n)),t.value&&(i||d.add(n.id,t.value),p.add(n.id,t)),!0}},h),i&&t.value.walk(h)}),!0;if(r instanceof Wt){n=r.definition();return O[n.id]=(O[n.id]||0)+1,p.add(n.id,r),!0}}return t(r,e,!0)}});h.directives=Object.create(y.directives),w.walk(h),h=new li(t);for(var e=0;e<c.length;e++){var n=d.get(c[e].id);n&&n.forEach(function(e){e.walk(h)})}Object.keys(S).forEach(function(e){var n,t=S[e];t?(t=t.reduce(function(n,e){return e.forEach(function(e){un(n,e)}),n},[]),n=(p.get(e)||[]).filter(function(n){return tn(n instanceof St?function(e){return e===n}:function(e){return e===n||!(e instanceof St)&&i(e)===i(n)},t)}),t.length==n.length?S[e]=n:delete S[e]):delete S[e]});var z=y.option("keep_fnames")?on:y.option("ie8")?function(e){return!y.exposed(e)&&e.references.length==e.replaced}:function(e){return!(e.id in D)||!(e.orig.length<2)&&(e.orig[1]instanceof Wt||hn(e.references,function(e){return!e.in_arg}))},$=[],M=[],F=[],j=[],q=new pi(function(t){if(t instanceof _t)return U(q,t);if(t instanceof Ft&&t.rest&&(t.rest=t.rest.transform(q)),t instanceof jt){for(var e=!t.rest,n=t.elements.length;0<=--n;){var i=t.elements[n].transform(q);i?(t.elements[n]=i,e=!1):e?t.elements.pop():t.elements[n]=re(ai,t.elements[n])}return t}if(t instanceof Ct){var r=[];return t.properties.forEach(function(e){var n=!1;e.key instanceof gn&&(e.key=e.key.transform(C),n=e.key.has_side_effects(y)),(n||t.rest)&&b(e.value)?(e.value=e.value.transform(C),r.push(e)):(n=!(n=e.value.transform(q))&&t.rest?e.value instanceof jt?re(jt,e.value,{elements:[]}):re(Ct,e.value,{properties:[]}):n)&&(e.value=n,r.push(e))}),t.properties=r,t}return t instanceof Bt?t.definition().id in D?t:null:void 0}),C=new pi(function(c,e,n){var u=C.parent();if(k){var t=[];if(r=E(c,t)){var i=(o=r.definition()).id in D;if(c instanceof zt?(!i||c.left===r&&I(o,c)<0)&&(g=R(c),!0===c.write_only&&(g=g.drop_side_effect_free(y)||re(ni,c,{value:0}))):(!i||c.expression===r&&I(o,c)<0)&&(g=re(ni,c,{value:0})),g)switch((g=u instanceof yt&&u.tail_node()!==c?g.drop_side_effect_free(y):g)&&t.push(g),t.length){case 0:return cn.skip;case 1:return oe(0,u,c,t[0].transform(C));default:return V(c,t.map(function(e){return e.transform(C)}))}}else if(c instanceof Dt&&c.expression instanceof Kt&&I(c.expression.definition(),c)<0)return re(Tt,c,{operator:"+",expression:c.expression})}if(c instanceof gt&&F.push(c),A===w){if(c instanceof Pn){if(x&&c!==w&&Jn(c))if(!((o=c.name.definition()).id in D))return N(c.name,"Dropping unused function {name}"),o.eliminated++,n?cn.skip:re(xn,c);if(Rn(c)&&c.name&&z(c.name.definition())&&M.push(c),!(c instanceof Hn)){for(var r,o,a=y.drop_fargs(c,u)&&!c.rest,s=c.argnames,f=s.length;0<=--f;)(r=s[f])instanceof Wt?(o=r.definition()).id in D?(a=!1,I(o,r)<0&&(r.__unused=null)):a?(N(r,"Dropping unused function argument {name}"),s.pop()):r.__unused=!0:r.transform(q)?a=!1:a?(N(r.name,"Dropping unused function argument {name}"),s.pop()):(r.name.__unused=!0,s[f]=r.name);c.rest&&(c.rest=c.rest.transform(q),c.uses_arguments&&!C.has_directive("use strict")||!(c.rest instanceof jt&&0==c.rest.elements.length||c.rest instanceof Ct&&0==c.rest.properties.length)||(c.rest=null)),j.push(c)}}if(c instanceof ut&&c.argname instanceof Ft&&c.argname.transform(q),c instanceof pt&&!(u instanceof jn&&u.init===c)){var l=[],p=[],d=[],h=[],v=0,m=c instanceof vt;switch(c.definitions.forEach(function(n){n.value&&(n.value=n.value.transform(C));var e,t,i,r,o,a=n.value;function s(e){var n=e.definition();return n.orig[0]instanceof Xt&&n.scope.resolve()===e.scope.resolve()}function f(){0<h.length&&(0==d.length?l.push(re(kn,c,{body:V(c,h)})):a?(h.push(a),n.value=V(a,h)):n.value=re(Tt,n,{operator:"void",expression:V(n,h)}),h=[]),d.push(n)}n.name instanceof Ft?B(n.name,a,function(e){return!k||e.definition().id in D||s(e)||m&&!ie(e)?e:null})?f():(a=a.drop_side_effect_free(y))&&h.push(a):(e=n.name.definition(),!(t=m?ie(n.name):Ce(e))||!k||e.id in D?(a&&I(e,n)<0&&(r=a.write_only,a=a.drop_side_effect_free(y),n.value!==a?(a&&(gn.warn("Side effects in last use of variable {name} [{file}:{line},{col}]",P(n.name)),h.push(a)),a=null,$.push(n)):a.write_only!==r&&(a.write_only=r)),a||c instanceof ht?y.option("functions")&&!y.option("ie8")&&!(c instanceof dt||c instanceof ht)&&1==O[e.id]&&0==e.assignments&&a instanceof Wn&&(e.references.length?hn(e.references,function(e){return a===e.fixed_value()}):a===n.name.fixed_value())&&(!a.name||0==(i=a.name.definition()).assignments&&(i.name==n.name.name||hn(i.references,function(e){return e.scope.find_variable(n.name.name)===n.name.definition()})))&&(y.has_directive("use strict")?u instanceof Cn:u instanceof Tn||u instanceof Fn&&u.init===c||u instanceof rt)&&function(e,n){n=e.variables.get(n);return!n||e.name&&n===e.name.definition()}(a,n.name.name)?(gn.warn("Declaring {name} as function [{file}:{line},{col}]",P(n.name)),(r=re(Xn,n,a)).name=re(Jt,n.name,n.name),o=n.name.scope.resolve().def_function(r.name),i&&i.forEach(function(e){e.name=o.name,e.thedef=o,e.reference({})}),l.push(r)):(t&&1<O[e.id]&&e.orig.indexOf(n.name)>e.eliminated&&(O[e.id]--,v++),f()):t&&1<O[e.id]?(gn.info("Dropping declaration of variable {name} [{file}:{line},{col}]",P(n.name)),O[e.id]--,e.eliminated++):p.push(n)):s(n.name)?((a=a&&a.drop_side_effect_free(y))&&h.push(a),1<O[e.id]?(gn.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",P(n.name)),O[e.id]--,e.eliminated++):(n.value=null,p.push(n))):((a=a&&!a.single_use&&a.drop_side_effect_free(y))?(gn.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",P(n.name)),h.push(a)):N(n.name,"Dropping unused variable {name}"),e.eliminated++))}),p.length){case 0:if(0==d.length)break;if(d.length==v){[].unshift.apply(h,d.map(function(e){gn.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",P(e.name));var n=e.name.definition(),t=re(Kt,e.name,e.name);n.references.push(t);t=re(zt,e,{operator:"=",left:t,right:e.value}),e=I(n,e);return 0<=e&&(S[n.id][e]=t),n.eliminated++,t}));break}case 1:if(0==d.length){var _=p[0].name.definition().id;if(_ in T){c.definitions=p,T[_].init=c;break}}default:c.definitions=p.concat(d),l.push(c)}return 0<h.length&&l.push(re(kn,c,{body:V(c,h)})),H(l,c,n)}if(c instanceof zt){if(e(c,C),c.left instanceof Ft){var g=B(c.left,c.right,function(e){return e});if(!g)return c.right;c.left=g}return c}if(c instanceof On&&c.body instanceof Fn){if(e(c,C),c.body instanceof Dn){var b=c.body;return c.body=b.body.pop(),b.body.push(c),n?cn.splice(b.body):b}return c}if(c instanceof Cn){b=A;return e(A=c,C),A=b,c}}},function(e,n){if(e instanceof Dn)switch(e.body.length){case 0:return n?cn.skip:re(xn,e);case 1:var t=e.body[0];if(!(t instanceof dt||t instanceof ht))return t}else{if(e instanceof Fn)return e.init instanceof Dn&&(o=e.init,e.init=o.body.pop(),o.body.push(e)),e.init instanceof Xn?((o=o||re(Dn,e,{body:[e]})).body.splice(-1,0,e.init),e.init=null):e.init instanceof kn?e.init=e.init.body:G(e.init)&&(e.init=null),o?n?cn.splice(o.body):o:e;if(e instanceof jn){if(k&&y.option("loops")&&G(e.body)){var i=g(e);if(i){var r=i.definition();if(!(r.id in D)){N(i,"Dropping unused loop variable {name}"),T[r.id]===e&&delete T[r.id];var o=[],i=e.object.drop_side_effect_free(y);return i&&(gn.warn("Side effects in object of for-in loop [{file}:{line},{col}]",i.start),o.push(re(kn,e,{body:i}))),e.init instanceof pt&&r.orig[0]instanceof Xt&&o.push(e.init),H(o,e,n)}}}}else if(e instanceof yt&&1==e.expressions.length)return e.expressions[0]}});C.push(y.parent()),w.transform(C),w instanceof Pn&&1==w.body.length&&w.body[0]instanceof wn&&"use strict"==w.body[0].value&&(w.body.length=0),$.forEach(function(e){e.value=null}),M.forEach(function(e){e.name=null}),F.forEach(function(e){Re(e,y,j)})}function N(e,n){gn[0<e.definition().references.length?"info":"warn"](n+" [{file}:{line},{col}]",P(e))}function P(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function i(e){return e[e instanceof zt?"right":"value"]}function H(e,n,t){switch(e.length){case 0:return t?cn.skip:re(xn,n);case 1:return e[0];default:return t?cn.splice(e):re(Dn,n,{body:e})}}function v(e,n){return e.scope===w&&(e.fixed&&n.fixed||(S[e.id]=!1),!1!==S[e.id])}function m(e,n){S[e.id]||(S[e.id]=[]),n.fixed.assigns&&un(S[e.id],n.fixed.assigns)}function I(e,n){e=S[e.id];return e&&e.indexOf(n)}function _(e,n,t){e.id in D||(n&&t?(D[e.id]=!0,c.push(e)):(u[e.id]=n,l[e.id]=t))}function R(e){var n=e.right;if(!e.write_only)return n;if(!(n instanceof Ot&&ue[n.operator]))return n;if(!(n.left instanceof Kt))return n;if(!(e.left instanceof Kt))return n;e=e.left.definition();return n.left.definition()!==e||n.right.has_side_effects(y)?n:(v(e,n.left)&&m(e,n.left),n.right)}function g(e){var n=e.init;if(n instanceof pt)return(n=n.definitions[0].name)instanceof Bt&&n;for(;n instanceof wt;)n=n.expression.tail_node();return n instanceof Kt?n:void 0}function t(e,n,t){e instanceof zt&&e.left instanceof Kt&&(i=e.left.definition()).scope===w&&p.add(i.id,e),e instanceof St&&e.expression instanceof Kt&&(i=e.expression.definition()).scope===w&&p.add(i.id,e);var i,r=[],o=E(e,r);if(o&&w.variables.get(o.name)===(s=o.definition())&&(!te(s)||hn(w.argnames,function(e){return!e.match_symbol(function(e){if(e instanceof Wt){e=e.definition();return e.references.length>e.replaced}},!0)}))){if(r.forEach(function(e){e.walk(h)}),e instanceof zt){if("p"===e.write_only&&e.right.may_throw_on_access(y))return;var a,r=R(e);t&&!0===e.write_only&&s.scope===w&&!r.has_side_effects(y)?d.add(s.id,r):r.walk(h),e.left===o?e.write_only||_(s,!0,l[s.id]):(a=o.fixed_value())&&a.is_constant()||_(s,u[s.id],!0)}return v(s,o)&&le(o,e)!==o&&m(s,o),!0}if(e instanceof jn){if(e.init instanceof Kt&&A===w&&((a=e.init.definition().id)in T||(T[a]=e)),!k||!y.option("loops"))return;if(!G(e.body))return;if(e.init.has_side_effects(y))return;if(!(o=g(e)))return;if((i=o.definition()).scope!==w){o=f(o.name);if(o===i||o&&o.redefined()===i)return}return e.object.walk(h),!0}if(e instanceof Kt)return(s=e.definition()).id in D||(D[s.id]=!0,c.push(s)),Y(s.scope,e.scope)&&(!(i=s.redefined())||i.id in D||(D[i.id]=!0,c.push(i))),v(s,e)&&m(s,e),!0;if(e instanceof Cn){var s=A;return A=e,n(),A=s,!0}}function b(e){return(e instanceof _t?e.name:e)instanceof Bt}function U(e,n){n.value=n.value.transform(C);var t=n.name.transform(e);if(!t){e=n.value.drop_side_effect_free(y);if(!e)return null;(t=n.name)instanceof Ft?((t=t.clone())[t instanceof jt?"elements":"properties"]=[],e instanceof Mt||e.is_string(y)||t instanceof Ct&&(e instanceof Nt||e.is_boolean(y)||e.is_number(y))||(e=re(Mt,e,{elements:[e]})),n.name=t):N(t,"Side effects in default value of unused variable {name}"),n.value=e}return n}function B(e,s,f){var c=new pi(function(t){if(t instanceof _t){if(!(y.option("default_values")&&s&&s.is_defined(y)))return U(c,t);t=t.name}if(t instanceof jt){var e=s,i=(s=s instanceof Kt?s.fixed_value():s)instanceof Mt&&s.elements,r=[];if(t.elements.forEach(function(e,n){(s=i&&i[n])instanceof Et&&(s=i=null),e instanceof ai||(e=e.transform(c))&&(r[n]=e)}),t.rest&&(y.option("rests")?(s=i&&re(Mt,e,{elements:i.slice(t.elements.length)}),t.rest=t.rest.transform(c)):t.rest=t.rest.transform(C)),s=e,t.rest)r.length=t.elements.length;else if(i&&0==r.length)return null;return Ee(t,r),t.elements=r,t}if(t instanceof Ct){e=s;if((s=s instanceof Kt?s.fixed_value():s)instanceof Nt){i=Object.create(null);for(var n=0;n<s.properties.length;n++){var o=s.properties[n];if("string"!=typeof o.key){i=null;break}i[o.key]=o.value}}var a=[];return(t.properties.forEach(function(e){var n=e.key instanceof gn?(e.key=e.key.transform(C),s=null,e.key.has_side_effects(y)):(s=i&&i[e.key],!1);(n||t.rest)&&b(e.value)?(e.value=e.value.transform(C),a.push(e)):(n=!(n=e.value.transform(c))&&t.rest?e.value instanceof jt?re(jt,e.value,{elements:[]}):re(Ct,e.value,{properties:[]}):n)&&(e.value=n,a.push(e))}),t.rest&&(y.option("rests")?(s=i&&re(Nt,e,{properties:[]}),t.rest=t.rest.transform(c)):t.rest=t.rest.transform(C)),s=e,0!=a.length||t.rest||!s||s.may_throw_on_access(y))?(t.properties=a,t):null}return f(t)});return e.transform(c)}}),Cn.DEFMETHOD("hoist_declarations",function(r){var o,a,s,n,f,c,u,l,p,d,h;r.has_directive("use asm")||(o=r.option("hoist_funs"),a=r.option("hoist_vars"),s=this,a&&(n=0,s.walk(new li(function(e){return 1<n||(e instanceof Cn&&e!==s||(e instanceof vt?(n++,!0):void 0))})),n<=1&&(a=!1)),(o||a)&&(f=Object.create(null),c=[],u=[],l=new vn,p=0,d=new pi(function(e){if(e!==s){if(e instanceof wn)return c.push(e),re(xn,e);if(o&&e instanceof Xn&&(d.parent()===s||!r.has_directive("use strict")))return u.push(e),re(xn,e);if(a&&e instanceof vt){if(!hn(e.definitions,function(e){e=e.name;return e instanceof Vt&&!f[e.name]&&s.find_variable(e.name)===e.definition()}))return e;e.definitions.forEach(function(e){l.set(e.name.name,e),++p});var n=e.to_assignments(),t=d.parent();if(t instanceof jn&&t.init===e){if(n)return n;var i=e.definitions[0].name;return re(Kt,i,i)}return t instanceof Fn&&t.init===e?n:n?re(kn,e,{body:n}):re(xn,e)}return e instanceof Cn?e:e instanceof Yt?(f[e.name]=!0,e):void 0}}),s.transform(d),0<p&&(h=[],l.each(function(e,n){s instanceof Pn&&!hn(s.argnames,function(e){return e.name!=n})?l.del(n):((e=e.clone()).value=null,h.push(e),l.set(n,e))}),0<h.length&&(function e(n){for(;n.length;){var t=n[0];if(t instanceof kn){var i,r,o=t.body;if(o instanceof zt&&"="==o.operator&&(i=o.left)instanceof Ut&&l.has(i.name)){var a=l.get(i.name);if(a.value)break;a.value=o.right,pn(h,a),h.push(a),n.shift();continue}if(o instanceof yt&&(r=o.expressions[0])instanceof zt&&"="==r.operator&&(i=r.left)instanceof Ut&&l.has(i.name)){var a=l.get(i.name);if(a.value)break;a.value=r.right,pn(h,a),h.push(a),t.body=V(o,o.expressions.slice(1));continue}}if(t instanceof xn)n.shift();else{if(!(t instanceof Dn)||e(t.body))break;n.shift()}}return n.length}(s.body),h=re(vt,s,{definitions:h}),u.push(h))),s.body=c.concat(u,s.body)))}),Cn.DEFMETHOD("process_boolean_returns",rn),Xn.DEFMETHOD("process_boolean_returns",function(e){var n;e.option("booleans")&&(n=Te(this),De(this.name.definition(),n,e)&&Oe(this,e))}),Wn.DEFMETHOD("process_boolean_returns",function(e){if(e.option("booleans")){var n=Te(this);if(!this.name||De(this.name.definition(),n,e)){var t=e.parent();if(t instanceof zt){if("="!=t.operator)return;if(!((i=t.left)instanceof Kt))return;if(!De(i.definition(),n,e))return}else if(t instanceof gt&&t.expression!==this){var i,r=t.expression;if(!((r=r instanceof Kt?r.fixed_value():r)instanceof Pn))return;if(r.uses_arguments||r.pinned())return;if((i=(i=r.argnames[t.args.indexOf(this)])instanceof _t?i.name:i)instanceof Wt&&!De(i.definition(),n,e))return}else{if("Call"!=t.TYPE)return;e.pop();t=e.in_boolean_context();if(e.push(this),!t)return}Oe(this,e)}}}),En.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=Object.create(null),this.enclosed.forEach(function(e){t[e.name]=!0}),this.variables.each(function(e,n){t[n]=!0})),t}),Cn.DEFMETHOD("make_var",function(e,n,t){var i=[this];n instanceof Bt&&n.definition().references.forEach(function(e){var n=e.scope;if(!nn(n,i))for(;un(i,n),n=n.parent_scope,n&&n!==this;);});for(var r=t=t.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_"),o=0;!hn(i,function(e){return!e.var_names()[r]});o++)r=t+"$"+o;var n=re(e,n,{name:r,scope:this}),a=this.def_variable(n);return i.forEach(function(e){e.enclosed.push(a),e.var_names()[r]=!0}),n}),Cn.DEFMETHOD("hoist_properties",function(e){var s,r,f;function c(e,n,t){if(e instanceof Ut){var i=e.definition();return i.assignments==t?!i.direct_access&&(1!=i.escaped.depth&&(i.references.length-i.replaced!=t&&(!i.single_use&&(!r(i)&&(e.fixed_value()===n&&(n instanceof Nt&&0<n.properties.length&&hn(n.properties,function(e){return e instanceof Ht&&"string"==typeof e.key})&&hn(i.references,function(e){return e.fixed_value()===n})&&ie(e))))))):void 0}}e.option("hoist_props")&&!e.has_directive("use asm")&&(r=(s=this)instanceof Nn&&e.top_retain||on,f=Object.create(null),s.transform(new pi(function(t,e){if(t instanceof zt){if("="!=t.operator)return;if(!t.write_only)return;if(t.left.scope!==s)return;if(!c(t.left,t.right,1))return;e(t,this);var i=new vn,r=[],o=[];return t.right.properties.forEach(function(e){var n=a(t.left,e.key);o.push(re(mt,t,{name:n,value:null}));n=re(Kt,t,{name:n.name,scope:s,thedef:n.definition()});n.reference({}),r.push(re(zt,t,{operator:"=",left:n,right:e.value}))}),f[t.left.definition().id]=i,s.body.splice(s.body.indexOf(this.stack[1])+1,0,re(vt,t,{definitions:o})),V(t,r)}if(t instanceof Cn)return t===s?void 0:t;if(t instanceof mt&&c(t.name,t.value,0)){e(t,this);var i=new vn,n=[];return t.value.properties.forEach(function(e){n.push(re(mt,t,{name:a(t.name,e.key),value:e.value}))}),f[t.name.definition().id]=i,cn.splice(n)}function a(e,n){e=s.make_var(Vt,e,e.name+"_"+n);return i.set(n,e.definition()),e}})),s.transform(new pi(function(i,e){if(i instanceof Ot)return t("right");if(i instanceof wt){if(!(i.expression instanceof Kt))return;var n=f[i.expression.definition().id];if(!n)return;n=n.get(i.getProperty()),n=re(Kt,i,{name:n.name,scope:i.expression.scope,thedef:n});return n.reference({}),n}return i instanceof St&&!gi[i.operator]?t("expression"):void 0;function t(e){var n=i[e];if(n instanceof Kt&&n.definition().id in f){var t=i.clone();return t[e]=re(Nt,n,{properties:[]}),t}}})))}),(I=function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})(gn,sn),I(Hn,fn),I(Mt,function(e,n){n=ze(this.elements,e,n,$e);return n?n===this.elements&&hn(n,function(e){return e instanceof Et})?this:V(this,n.map(Me)):null}),I(Bn,fn),I(zt,function(e){var n=this.left;if(n instanceof wt){var t=n.expression;if(t instanceof zt&&"="==t.operator&&!t.may_throw_on_access(e)&&(t.write_only="p"),e.has_directive("use strict")&&t.is_constant())return this}return n.has_side_effects(e)?this:(this.write_only=!0,ae(n).is_constant_expression(e.find_parent(Cn))?this.right.drop_side_effect_free(e):this)}),I(Ln,fn),I(Vn,fn),I($t,function(e){if(!e.option("awaits"))return this;var n=this.expression.drop_side_effect_free(e);if(n===this.expression)return this;e=this.clone();return e.expression=n||re(ni,this,{value:0}),e}),I(Ot,function(e,n){if("in"==this.operator&&!We(this.right))return(t=this.left.drop_side_effect_free(e,n))===this.left?this:((i=this.clone()).left=t||re(ni,this.left,{value:0}),i);var t,i,r=this.right.drop_side_effect_free(e,n);return r?!ue[this.operator]||r instanceof Wn?(t=this.left.drop_side_effect_free(e,n))?V(this,[t,r.drop_side_effect_free(e)]):r:(r!==(i=this).right&&((i=this.clone()).right=r.drop_side_effect_free(e)),(n?C:K)(i,re(Ot,this,{operator:"&&"==i.operator?"||":"&&",left:i.left.negate(e,n),right:i.right}))):this.left.drop_side_effect_free(e,n)}),I(gt,function(t,e){var n=this;if(n.is_expr_pure(t)){n.pure&&gn.warn("Dropping __PURE__ call [{file}:{line},{col}]",n.start);var i=ze(n.args,t,e,$e);return i&&V(n,i.map(Me))}var r=n.expression;if(n.is_call_pure(t))return(o=n.args.slice()).unshift(r.expression),(o=ze(o,t,e,$e))&&V(n,o.map(Me));if(r instanceof Wn&&!(r.name&&(a=r.name.definition()).references.length>a.replaced)&&(r.process_expression(!1,function(e){var n=e.value&&e.value.drop_side_effect_free(t,!0);return n?re(kn,e,{body:n}):re(xn,e)}),Se(r,function(e){e.value&&(e.value=e.value.drop_side_effect_free(t))}),(n=n.clone()).expression=r.clone()),n instanceof bt){i=r;if((i=i instanceof Kt?i.fixed_value():i)instanceof Pn){i.new=!0;var o,a=hn(i.body,function(e){return!e.has_side_effects(t)});if(delete i.new,a)return(o=n.args.slice()).unshift(r),(o=ze(o,t,e,$e))&&V(n,o.map(Me));if(!i.contains_this())return re(gt,n,n)}}return n}),I(At,function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie8")&&(n=[],i instanceof Wn&&(n.push(i),i=null),r instanceof Wn&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=re(Ot,this,{operator:"&&",left:this.condition,right:i}):t=r?re(Ot,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),e.option("ie8")?(t&&n.push(t),0==n.length?null:V(this,n)):t)}),I(Zt,fn),I(xt,function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)}),I(Wn,function(e){return Ae(this,e)?null:this}),I(Nt,function(e,n){var t=[];this.properties.forEach(function(e){e instanceof Et?t.push(e):(e.key instanceof gn&&t.push(e.key),t.push(e.value))});n=ze(t,e,n,function(e,n,t){var i=e.expression;return de(i)?e:i.drop_side_effect_free(n,t)});return n?n!==t||hn(n,function(e){return!(e instanceof Et)})?V(this,n.map(function(e){return e instanceof Et?re(Nt,e,{properties:[e]}):e})):this:null}),I(yt,function(e,n){var t=ze(this.expressions,e,n);if(!t)return null;var i,r,o,a=t.length-1,n=t[a];return e.option("awaits")&&0<a&&n instanceof $t&&n.expression.is_constant()&&(t=t.slice(0,-1),a--,n.expression=t[a],t[a]=n),e.option("conditionals")&&0<a&&(i=t[a-1])instanceof zt&&"="==i.operator&&(o=i.left)instanceof Kt&&(r=Ue(e,o.definition(),i.right,n))&&((i=i.clone()).right=r,(t=t.slice(0,-2)).push(i)),t===this.expressions?this:V(this,t)}),I(kt,function(e,n){if(this.expression.may_throw_on_access(e))return this;var t=this.expression.drop_side_effect_free(e,n);if(!t)return this.property.drop_side_effect_free(e,n);e=this.property.drop_side_effect_free(e);return e?V(this,[t,e]):t}),I(Kt,function(e){return this.is_declared(e)&&ie(this)?null:this}),I(Qt,fn),I(St,function(e,n){var t=this.expression;if(gi[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Kt&&ie(t))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&X(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i}),e(kn,function(e,n){if(n.option("side_effects")){var t=e.body,n=t.drop_side_effect_free(n,!0);if(!n)return gn.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),re(xn,e);if(n!==t)return re(kn,e,{body:n})}return e}),e(Mn,function(e,n){return n.option("loops")?re(Fn,e,e).optimize(n):e}),e($n,function(t,e){if(!e.option("loops"))return t;var n=t.condition.is_truthy()||t.condition.evaluate(e,!0);if(!(n instanceof gn)){if(n&&!Fe(t,e.parent(),it))return re(Fn,t,{body:re(Dn,t.body,{body:[t.body,re(kn,t.condition,{body:t.condition})]})}).optimize(e);if(!Fe(t,e.parent()))return re(Dn,t.body,{body:[t.body,re(kn,t.condition,{body:t.condition})]}).optimize(e)}if(t.body instanceof Dn&&!Fe(t,e.parent(),it)){for(var i=t.body.body,r=i.length;0<=--r;){var o=i[r];if(o instanceof rt&&!o.alternative&&o.body instanceof tt&&e.loopcontrol_target(o.body)===t){if(a(o.condition))break;t.condition=re(Ot,t,{operator:"&&",left:o.condition.negate(e),right:t.condition}),i.splice(r,1)}else if(o instanceof kn){if(a(o.body))break;t.condition=V(t,[o.body,t.condition]),i.splice(r,1)}else if(!z(o))break}t.body=we(t.body)}return t.body instanceof xn?re(Fn,t,t).optimize(e):t.body instanceof kn?re(Fn,t,{condition:V(t.condition,[t.body.body,t.condition]),body:re(xn,t)}).optimize(e):t;function a(e){var n=!1;return e.walk(new li(function(e){return!!n||(e instanceof Kt?(nn(e.definition(),t.enclosed)||(n=!0),!0):void 0)})),n}}),e(Fn,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t,i=e.condition.evaluate(n);if(i instanceof gn?i=e.condition.is_truthy()||e.condition.evaluate(n,!0):i?e.condition=null:n.option("dead_code")||(t=e.condition,e.condition=W(i,e.condition),e.condition=K(e.condition.transform(n),t)),i)!e.condition||i instanceof gn||(e.body=re(Dn,e.body,{body:[re(kn,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){i=[];return e.init instanceof bn?i.push(e.init):e.init&&i.push(re(kn,e.init,{body:e.init})),i.push(re(kn,e.condition,{body:e.condition})),M(n,e.body,i),re(Dn,e,{body:i}).optimize(n)}}return function n(t,i){var e=a(t.body);if(i.option("dead_code")&&(e instanceof tt||e instanceof it&&s(e)||e instanceof Qn)){var r=[];t.init instanceof bn?r.push(t.init):t.init&&r.push(re(kn,t.init,{body:t.init}));var o=s(e)||e instanceof Qn;return t.condition&&o?r.push(re(rt,t,{condition:t.condition,body:e,alternative:null})):t.condition?r.push(re(kn,t.condition,{body:t.condition})):o&&r.push(e),M(i,t.body,r),re(Dn,t,{body:r})}if(e instanceof rt){if((o=a(e.body))instanceof tt&&!s(o))return t.condition?t.condition=re(Ot,t.condition,{left:t.condition,operator:"&&",right:e.condition.negate(i)}):t.condition=e.condition.negate(i),r=S(e.alternative),M(i,e.body,r),f(r);if((o=a(e.alternative))instanceof tt&&!s(o))return t.condition?t.condition=re(Ot,t.condition,{left:t.condition,operator:"&&",right:e.condition}):t.condition=e.condition,r=S(e.body),M(i,e.alternative,r),f(r)}return t;function a(e){return e instanceof Dn?e.body[0]:e}function s(e){return i.loopcontrol_target(e)!==i.self()}function f(e){return t.body instanceof Dn?(t.body=t.body.clone(),t.body.body=e.concat(t.body.body.slice(1)),t.body=t.body.transform(i)):t.body=re(Dn,t.body,{body:e}).transform(i),n(t,i)}}(e,n)}),e(jn,function(e,n){var t;return n.option("varify")&&(e.init instanceof dt||e.init instanceof ht)&&(((t=e.init.definitions[0].name)instanceof Ft||t instanceof Lt)&&!t.match_symbol(function(e){if(e instanceof Bt)return Ne(n,e.definition())},!0)&&(e.init=Pe(e.init))),e}),e(rt,function(e,f){if(G(e.alternative)&&(e.alternative=null),!f.option("conditionals"))return e;var n=e.condition.evaluate(f);if(f.option("dead_code")||n instanceof gn||(c=e.condition,e.condition=W(n,c),e.condition=K(e.condition.transform(f),c)),f.option("dead_code")){if(!(n=n instanceof gn?e.condition.is_truthy()||e.condition.evaluate(f,!0):n)){gn.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var t=[re(kn,e.condition,{body:e.condition})];return M(f,e.body,t),e.alternative&&t.push(e.alternative),re(Dn,e,{body:t}).optimize(f)}if(!(n instanceof gn)){gn.warn("Condition always true [{file}:{line},{col}]",e.condition.start);t=[re(kn,e.condition,{body:e.condition}),e.body];return e.alternative&&M(f,e.alternative,t),re(Dn,e,{body:t}).optimize(f)}}var i=e.condition.negate(f),r=e.condition.print_to_string().length,o=i.print_to_string().length,a=o<r;e.alternative&&a&&(a=!1,e.condition=i,u=e.body,e.body=e.alternative||re(xn,e),e.alternative=u);var t=[],s=[],c=[],n=p(e.body,t,s,c),u=p(e.alternative,t,s,c);if(n&&u)return 0<s.length&&t.push(re(vt,e,{definitions:s})),0==n.length?t.push(re(kn,e.condition,{body:0<u.length?re(Ot,e,{operator:"||",left:e.condition,right:V(e.alternative,u)}).transform(f):e.condition.clone()}).optimize(f)):0==u.length?(r===o&&!a&&e.condition instanceof Ot&&"||"==e.condition.operator&&(a=!0),t.push(re(kn,e,{body:re(Ot,e,{operator:a?"||":"&&",left:a?i:e.condition,right:V(e.body,n)}).transform(f)}).optimize(f))):t.push(re(kn,e,{body:re(At,e,{condition:e.condition,consequent:V(e.body,n),alternative:V(e.alternative,u)})}).optimize(f)),c.forEach(function(e){e.definition().references.push(e)}),re(Dn,e,{body:t}).optimize(f);if((e=G(e.body)?re(rt,e,{condition:i,body:e.alternative,alternative:null}):e).body instanceof Qn&&e.alternative instanceof Qn&&e.body.TYPE==e.alternative.TYPE){var l=re(e.body.CTOR,e,{value:re(At,e,{condition:e.condition,consequent:e.body.value||re(oi,e.body).transform(f),alternative:e.alternative.value||re(oi,e.alternative).transform(f)})});return l instanceof Zn&&(l.in_bool=e.body.in_bool||e.alternative.in_bool),l}if(e.body instanceof rt&&!e.body.alternative&&!e.alternative&&(e=re(rt,e,{condition:re(Ot,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),ge(e.body)&&e.alternative){l=e.alternative;return e.alternative=null,re(Dn,e,{body:[e,l]}).optimize(f)}if(ge(e.alternative)){t=e.body;return e.body=e.alternative,e.condition=a?i:e.condition.negate(f),e.alternative=null,re(Dn,e,{body:[e,t]}).optimize(f)}return f.option("typeofs")&&je(e.condition,e.body,e.alternative),e;function p(e,n,t,i){if(null==e)return[];if(e instanceof Dn){for(var r=[],o=0;o<e.body.length;o++){var a=e.body[o];if(a instanceof Xn)n.push(a);else if(!(a instanceof xn))if(a instanceof kn){if(!f.option("sequences")&&0<r.length)return;r.push(a.body)}else{if(!(a instanceof vt))return;if(!f.option("sequences")&&0<r.length)return;a.remove_initializers(f,t),a.definitions.forEach(s)}}return r}if(e instanceof Xn)return n.push(e),[];if(e instanceof xn)return[];if(e instanceof kn)return[e.body];if(e instanceof vt){r=[];return e.remove_initializers(f,t),e.definitions.forEach(s),r}function s(e){e.value&&r.push(re(zt,e,{operator:"=",left:e.name.convert_symbol(Kt,function(e){i.push(e)}),right:e.value}))}}}),e(ot,function(i,t){if(!t.option("switches"))return i;var e,n,r=i.expression.evaluate(t);if(r instanceof gn||(n=i.expression,i.expression=W(r,n),i.expression=K(i.expression.transform(t),n)),!t.option("dead_code"))return i;r instanceof gn&&(r=i.expression.evaluate(t,!0));for(var o,a,s,f=[],c=[],u=0,l=i.body.length;u<l&&!s;u++){if((e=i.body[u])instanceof st){var p=c[c.length-1];if(o||_(e.body[0],t)&&(!p||ge(p))){b(e,p);continue}o=e}else if(!(r instanceof gn)){if(!((d=e.expression.evaluate(t))instanceof gn)&&d!==r){b(e,c[c.length-1]);continue}(d=d instanceof gn?e.expression.evaluate(t,!0):d)===r&&(s=e,o&&(a=c.indexOf(o),c.splice(a,1),b(o,c[a-1]),o=null))}ge(e)&&ge(p=c[c.length-1])&&p.body.length==e.body.length&&re(Dn,p,p).equivalent_to(re(Dn,e,e))&&(p.body=[]),c.push(e)}for(;u<l;)b(i.body[u++],c[c.length-1]);for(;e=c[c.length-1];){if(_(e.body[e.body.length-1],t)&&e.body.pop(),e===o){if(!T(e))break}else{if(e.expression.has_side_effects(t))break;if(o){if(!T(o))break;if(c[c.length-2]!==o)break;o.body=o.body.concat(e.body),e.body=[]}else if(!T(e))break}b(e),c.pop()===o&&(o=null)}if(0==c.length)return re(Dn,i,{body:f.concat(re(kn,i.expression,{body:i.expression}))}).optimize(t);if(c[0].body=f.concat(c[0].body),i.body=c,t.option("conditionals"))switch(c.length){case 1:if(!g(c[0]))break;var d=c[0].expression,h=c[0].body.slice();return c[0]!==o&&c[0]!==s?re(rt,i,{condition:re(Ot,i,{operator:"===",left:i.expression,right:d}),body:re(Dn,i,{body:h}),alternative:null}).optimize(t):(d&&h.unshift(re(kn,d,{body:d})),h.unshift(re(kn,i.expression,{body:i.expression})),re(Dn,i,{body:h}).optimize(t));case 2:if(!nn(o,c)||!g(c[1]))break;var v=(h=c[0].body.slice()).length&&_(h[h.length-1],t);if(v&&h.pop(),!hn(h,g))break;var m=c[1].body.length&&re(Dn,c[1],c[1]),h=re(rt,i,{condition:re(Ot,i,c[0]===o?{operator:"!==",left:i.expression,right:c[1].expression}:{operator:"===",left:i.expression,right:c[0].expression}),body:re(Dn,c[0],{body:h}),alternative:v&&m||null});return(h=!v&&m?re(Dn,i,{body:[h,m]}):h).optimize(t)}return i;function _(e,n){return e instanceof tt&&n.loopcontrol_target(e)===i}function g(e){var n=!1,t=new li(function(e){if(n||e instanceof Pn||e instanceof kn)return!0;_(e,t)&&(n=!0)});return t.push(i),e.walk(t),!n}function b(e,n){n&&!ge(n)?n.body=n.body.concat(e.body):M(t,e,f)}}),e(ct,function(e,n){if(e.body=$(e.body,n),n.option("dead_code")){if(T(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol(function(e){return e instanceof Xt&&!ie(e)},!0))){var t=[];return e.bcatch&&(M(n,e.bcatch,t),t.forEach(function(e){e instanceof vt&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),t.unshift(re(Dn,e,e).optimize(n)),e.bfinally&&t.push(re(Dn,e.bfinally,e.bfinally).optimize(n)),re(Dn,e,{body:t}).optimize(n)}if(e.bfinally&&T(e.bfinally)){t=re(Dn,e.bfinally,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return re(Dn,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e}),dt.DEFMETHOD("remove_initializers",qe(function(e,n){return re(oi,n).optimize(e)})),ht.DEFMETHOD("remove_initializers",qe(fn)),vt.DEFMETHOD("remove_initializers",qe(fn)),pt.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){var t,i=n.name.definition();return n.value&&(t=re(Kt,n.name,n.name),e.push(re(zt,n,{operator:"=",left:t,right:n.value})),i.references.push(t)),i.eliminated++,i.single_use=!1,e},[]);return 0==e.length?null:V(this,e)}),e(dt,He),e(ht,He),e(gt,function(l,f){var t,a=l.expression;if(f.option("sequences"))if(a instanceof wt){if((k=Ie(a))!==a){var e=l.clone();return e.expression=k.expressions.pop(),k.expressions.push(e),k.optimize(f)}}else if(!J(0,a.tail_node()))if((k=Ie(l))!==l)return k.optimize(f);if(f.option("unused")&&Re(l,f),f.option("unsafe"))if(se(a))switch(a.name){case"Array":if(1==l.args.length){if((s=l.args[0])instanceof ni)try{var n=s.value;if(6<n)break;for(var i=Array(n),r=0;r<n;r++)i[r]=re(ai,l);return re(Mt,l,{elements:i})}catch(e){gn.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:n,file:l.start.file,line:l.start.line,col:l.start.col});break}if(!s.is_boolean(f)&&!s.is_string(f))break}return re(Mt,l,{elements:l.args});case"Object":if(0==l.args.length)return re(Nt,l,{properties:[]});break;case"String":if(0==l.args.length)return re(ei,l,{value:""});if(l.args.length<=1)return re(Ot,l,{left:l.args[0],operator:"+",right:re(ei,l,{value:""})}).optimize(f);break;case"Number":if(0==l.args.length)return re(ni,l,{value:0});if(1==l.args.length)return re(Tt,l,{expression:l.args[0],operator:"+"}).optimize(f);case"Boolean":if(0==l.args.length)return re(ci,l);if(1==l.args.length)return re(Tt,l,{expression:re(Tt,l,{expression:l.args[0],operator:"!"}),operator:"!"}).optimize(f);break;case"RegExp":var o=[];if(hn(l.args,function(e){var n=e.evaluate(f);return o.unshift(n),e!==n}))try{return Q(f,l,re(ti,l,{value:RegExp.apply(RegExp,o)}))}catch(e){gn.warn("Error converting {expr} [{file}:{line},{col}]",{expr:l,file:l.start.file,line:l.start.line,col:l.start.col})}}else if(a instanceof xt)switch(a.property){case"toString":if(0==l.args.length&&!a.expression.may_throw_on_access(f))return re(Ot,l,{left:re(ei,l,{value:""}),operator:"+",right:a.expression}).optimize(f);break;case"join":if(a.expression instanceof Mt)if(!(0<l.args.length&&(t=l.args[0].evaluate(f))===l.args[0])){var s,i=[],c=[];return(a.expression.elements.forEach(function(e){var n=e.evaluate(f);n!==e?c.push(n):(0<c.length&&(i.push(re(ei,l,{value:c.join(t)})),c.length=0),i.push(e))}),0<c.length&&i.push(re(ei,l,{value:c.join(t)})),0==i.length)?re(ei,l,{value:""}):1==i.length?i[0].is_string(f)?i[0]:re(Ot,i[0],{operator:"+",left:re(ei,l,{value:""}),right:i[0]}):""==t?(s=i[0].is_string(f)||i[1].is_string(f)?i.shift():re(ei,l,{value:""}),i.reduce(function(e,n){return re(Ot,n,{operator:"+",left:e,right:n})},s).optimize(f)):((j=l.clone()).expression=j.expression.clone(),j.expression.expression=j.expression.expression.clone(),j.expression.expression.elements=i,Q(f,l,j))}break;case"charAt":if(l.args.length<2)return(j=re(kt,l,{expression:a.expression,property:l.args.length?re(Ot,l.args[0],{operator:"|",left:re(ni,l,{value:0}),right:l.args[0]}):re(ni,l,{value:0})})).is_string=an,j.optimize(f);break;case"apply":if(2==l.args.length&&l.args[1]instanceof Mt)return(M=l.args[1].elements.slice()).unshift(l.args[0]),re(gt,l,{expression:re(xt,a,{expression:a.expression,property:"call"}),args:M}).optimize(f);break;case"call":var u=a.expression;if((u=u instanceof Kt?u.fixed_value():u)instanceof Pn&&!u.contains_this())return(l.args.length?V(this,[l.args[0],re(gt,l,{expression:a.expression,args:l.args.slice(1)})]):re(gt,l,{expression:a.expression,args:[]})).optimize(f)}if(f.option("unsafe_Function")&&se(a)&&"Function"==a.name){if(0==l.args.length)return re(Wn,l,{argnames:[],body:[]}).init_vars(a.scope);if(hn(l.args,function(e){return e instanceof ei}))try{var p=_i(m="n(function("+l.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+l.args[l.args.length-1].value+"})"),d={ie8:f.option("ie8")};p.figure_out_scope(d);var h,v=new bi(f.options);(p=p.transform(v)).figure_out_scope(d),p.compute_char_frequency(d),p.mangle_names(d),p.walk(new li(function(e){return!!h||(e instanceof Pn?(h=e,!0):void 0)}));var m=yi();return Dn.prototype._codegen.call(h,m),l.args=[re(ei,l,{value:h.argnames.map(function(e){return e.print_to_string()}).join(",")}),re(ei,l.args[l.args.length-1],{value:m.get().replace(/^\{|\}$/g,"")})],l}catch(e){if(!(e instanceof hi))throw e;gn.warn("Error parsing code passed to new Function [{file}:{line},{col}]",l.args[l.args.length-1].start),gn.warn(e.toString())}}var _=a instanceof Kt?a.fixed_value():a,g=_ instanceof Pn&&(!Yn(_)||f.option("awaits")&&f.parent()instanceof $t),b=g&&_.first_statement(),y=0,w=!1,x=!hn(l.args,function(e){return!(e instanceof Et)}),e=g&&hn(_.argnames,function(e,n){if(1==y&&l.args[n]instanceof Et&&(y=2),e instanceof _t){n=1==(y=y||1)&&l.args[n];if(n&&!ce(n)&&(y=2),C(e.value))return;e=e.name}return!(e instanceof Ft&&(w=!0,C(e)))}),k=e&&f.option("inline")&&!l.is_expr_pure(f);if(k&&b instanceof Zn){var E=b.value;if(a===_&&(!E||E.is_constant_expression()&&H(E)))return V(l,P(E)).optimize(f)}if(g){var S,T=!1;if(k&&!_.uses_arguments&&!_.pinned()&&!(_.name&&_ instanceof Wn)&&(a===_||!Ge(f,S=a.definition())&&_.is_constant_expression(L(f)))&&!x&&(E=function(e){var n=_.body.length;if(n<2&&(e=I(e)))return e;if(f.option("inline")<3)return!1;e=null;for(var t=0;t<n;t++){var i=_.body[t];if(i instanceof vt){var r=T||!hn(i.definitions,function(e){return!e.value});if(r&&(T=!0,e))return!1}else if(!(i instanceof Gn||i instanceof Xn||i instanceof xn)){if(e)return!1;e=i}}return I(e)}(b))&&!_.contains_this()){var D,O,A,z,$=a===_||S.single_use&&S.references.length-S.replaced==1;if(function(){if(y||w||T||_.rest)return;if(f.option("inline")<2&&_.argnames.length)return;if(!_.variables.all(function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Wt}))return;var i,r=!1,o=[],a=!1,s=!0;if(E.walk(new li(function(e,n){if(r)return!0;if(!(e instanceof Ot&&ue[e.operator]||e instanceof At)){if(e instanceof Cn)return r=!0;if(s&&e instanceof Ut&&"await"==e.name){if(Yn(f.find_parent(Cn)))return r=!0;s=!1}if(e instanceof Kt){var t=e.definition();if(_.variables.get(e.name)!==t)return void(o=null);if(Jn(t.init))return r=!0;if(le(e,this.parent()))return r=!0;t=R(t);return(i<t||(i=t),o)?void(a?o=null:o.push(_.argnames[t])):void 0}return e.has_side_effects(f)?(n(),a=!0):void 0}o=null})),r)return;var e=l.args.length;if(o&&_.argnames.length>=e){for(e=_.argnames.length;e-- >i&&_.argnames[e]===o.pop(););e++}var n=a&&!o&&f.find_parent(Cn);return e<=i||hn(l.args.slice(i,e),n?function(e){return e.is_constant_expression(n)}:function(e){return!e.has_side_effects(f)})}()){var M=l.args.slice(),F=[];M.push(E.clone(!0).transform(new pi(function(e){if(e instanceof Kt){var n=e.definition();if(_.variables.get(e.name)!==n)return F.push(e),e;var t=R(n),n=M[t];if(!n)return re(oi,l);M[t]=null;t=this.parent();return t?oe(0,t,e,n):n}})));var j=V(l,M.filter(function(e){return e})).optimize(f);if(j=oe(0,f.parent(),f.self(),j),$||K(j,l)===j)return F.forEach(function(e){var n=e.definition();n.references.push(e),$?n.replaced++:n.single_use=!1}),j}if($&&function(){var e,n=Object.create(null),t=0;z=f.self();do{if(z.variables&&z.variables.each(function(e){n[e.name]=!0}),e=z,(z=f.parent(t++))instanceof zn)A=[];else if(z instanceof Fn)z.init!==e&&(A=[]);else if(z instanceof jn)z.init!==e&&z.object!==e&&(A=[]);else if(z instanceof Kt&&z.fixed_value()instanceof Cn)return!1}while(!(z instanceof Cn));if(!(O=z.body.indexOf(e)+1))return!1;if(!H(_))return!1;var i=a!==_||_.parent_scope.resolve()===z;z instanceof Nn&&(f.toplevel.vars?n.arguments=!0:i=!1);var r=f.option("inline");if(D=Object.create(n),!function(n,t,i){var r=!1;return _.each_argname(function(e){if(!r&&!e.__unused){if(e instanceof _t&&(e=e.name),!i||U(n,e.name))return r=!0;t[e.name]=!0,A&&A.push(e.definition())}}),!r}(n,D,2<=r&&i))return!1;var o=Object.create(D);return!!function(n,e,t){for(var i=0;i<_.body.length;i++){var r=_.body[i];if(Jn(r)){if(!t||U(e,r.name.name))return!1;if(!hn(r.enclosed,function(e){return e.scope===r||!n[e.name]}))return!1}else if(r instanceof vt){if(!t)return!1;for(var o=r.definitions.length;0<=--o;){var a=r.definitions[o].name;if(U(n,a.name))return!1;A&&A.push(a.definition())}}}return!0}(n,o,3<=r&&i)&&(!A||0==A.length||!Ke(_,A))}()){_._squeezed=!0,a!==_&&(_.parent_scope=a.scope);j=V(l,function(){var e=[],n=[];(1<y||w||_.rest?function(i,r){function n(e,n){var t=re(Vt,n,n);n.definition().orig.push(t),B(i,r,t)}r.push(re(zt,l,{operator:"=",left:re(jt,l,{elements:_.argnames.map(function(e){return e.convert_symbol(Kt,n)}),rest:_.rest&&_.rest.convert_symbol(Kt,n)}),right:re(Mt,l,{elements:l.args.slice()})}))}:function(e,n){for(var t=_.argnames.length,i=l.args.length;--i>=t;)n.push(l.args[i]);var r,o=[];for(i=t;0<=--i;){var a=_.argnames[i];r=a instanceof _t?(o.push(a),a.name):a;var s,f=l.args[i];r.__unused||z.var_names()[r.name]?f&&n.push(f):(s=re(Vt,r,r),r.definition().orig.push(s),"__unused"in r?(B(e,n,s),f&&n.push(f)):(!f&&A&&a===r&&(f=re(oi,l)),B(e,n,s,f)))}for(e.reverse(),n.reverse(),i=o.length;0<=--i;){var c,u=o[i];"__unused"in u.name?n.push(u.value):(c=re(Kt,u.name,u.name),u.name.definition().references.push(c),n.push(re(zt,u,{operator:"=",left:c,right:u.value})))}})(e,n);(function(e,n){for(var t=n.length,i=0;i<_.body.length;i++){var r=_.body[i];if(r instanceof vt)for(var o=0;o<r.definitions.length;o++){var a,s=r.definitions[o],f=s.name,c=f.definition().redefined();c&&((f=f.clone()).thedef=c),B(e,n,f,s.value),A&&!mn(D,f.name)&&(a=_.variables.get(f.name),c=re(Kt,f,f),a.references.push(c),n.splice(t++,0,re(zt,s,{operator:"=",left:c,right:re(oi,f)})))}}})(e,n),n.push(E);var t=_.body.filter(function(e){if(Jn(e)){e=e.name.definition();return z.functions.set(e.name,e),z.variables.set(e.name,e),z.enclosed.push(e),z.var_names()[e.name]=!0}});t.unshift(O,0),e.length&&t.push(re(vt,_,{definitions:e}));return[].splice.apply(z.body,t),_.enclosed.forEach(function(e){z.var_names()[e.name]||(z.enclosed.push(e),z.var_names()[e.name]=!0)}),n}()).optimize(f);return oe(0,f.parent(),f.self(),j)}}if(f.option("side_effects")&&e&&hn(_.body,G)&&(_===a?Ae(_,f):!y&&!w&&!_.rest)&&(!In(_)||!_.value))return V(l,P()).optimize(f)}if(f.option("drop_console")&&a instanceof wt){for(var q=a.expression;q.expression;)q=q.expression;if(se(q)&&"console"==q.name)return re(oi,l).optimize(f)}return f.option("negate_iife")&&f.parent()instanceof kn&&X(l)?l.negate(f,!0):Z(f,l);function C(e){var n=!1;return e.walk(new li(function(e){return!!n||(e instanceof Kt&&_.variables.get(e.name)===e.definition()?n=!0:void 0)})),n}function N(e){return re(kt,e,{expression:re(ni,e,{value:0}),property:re(ni,e,{value:0})})}function P(e){var a,t,n=l.args.slice(),i=1<y||w||_.rest;return(i||x)&&(n=[re(Mt,l,{elements:n})]),i?(a=new pi(function(i,e){if(i instanceof _t)return re(_t,i,{name:i.name.transform(a)||N(i),value:i.value});if(i instanceof jt){var t=[];return i.elements.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),Ee(i,t),re(jt,i,{elements:t})}if(i instanceof Ct){var r=[],o=[];return i.properties.forEach(function(e){var n=e.key,t=e.value.transform(a);t?(o.push(n instanceof gn?n:W(n,e)),r.push(re(qt,e,{key:V(i,o),value:t})),o=[]):n instanceof gn&&o.push(n)}),o.length&&r.push(re(qt,i,{key:V(i,o),value:N(i)})),re(Ct,i,{properties:r})}return i instanceof Wt?null:void 0}),t=[],_.argnames.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),(i=_.rest&&_.rest.transform(a))&&(t.length=_.argnames.length),Ee(_,t),n[0]=re(zt,l,{operator:"=",left:re(jt,_,{elements:t,rest:i}),right:n[0]})):_.argnames.forEach(function(e){e instanceof _t&&n.push(e.value)}),n.push(e||re(oi,l)),n}function H(e){if(!Yn(z||f.find_parent(Cn)))return 1;var t=!0,i=new li(function(e){if(!t)return!0;if(e instanceof Cn){if(e===_)return;if(In(e))for(var n=0;t&&n<e.argnames.length;n++)e.argnames[n].walk(i);else Jn(e)&&"await"==e.name.name&&(t=!1);return!0}e instanceof Ut&&"await"==e.name&&e!==_.name&&(t=!1)});return e.walk(i),t}function I(e){return e?e instanceof Zn?e.value||re(oi,l):e instanceof kn?re(Tt,e,{operator:"void",expression:e.body}):void 0:re(oi,l)}function R(e){for(var n=_.argnames.length;0<=--n;)if(_.argnames[n].definition()===e)return n}function U(e,n){return e[n]||fe[n]||z.var_names()[n]}function B(e,n,t,i){var r=t.definition();z.variables.set(t.name,r),z.enclosed.push(r),z.var_names()[t.name]||(z.var_names()[t.name]=!0,e.push(re(mt,t,{name:t,value:null}))),i&&(t=re(Kt,t,t),r.references.push(t),n.push(re(zt,l,{operator:"=",left:t,right:i})))}}),e(bt,function(e,n){if(n.option("sequences")){var t=Ie(e);if(t!==e)return t.optimize(n)}if(n.option("unsafe")){t=e.expression;if(se(t))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return re(gt,e,e).transform(n)}}return e}),e(yt,function(e,o){var i=function(){if(!o.option("side_effects"))return e.expressions;var t=[],i=_n(o),r=e.expressions.length-1;return e.expressions.forEach(function(e,n){(e=n<r?e.drop_side_effect_free(o,i):e)&&(E(t,e),i=!1)}),t}(),r=i.length-1;return function(){if(o.option("conditionals"))for(var e=1;e<r;e++){var n,t=i[e-1];t instanceof zt&&"="==t.operator&&t.left instanceof Kt&&(n=t.left.definition(),(n=Ue(o,n,t.right,i[e]))&&(t.right=n,i.splice(e,1),r--))}}(),function(){if(o.option("side_effects")){for(;0<r&&ce(i[r],o);)r--;r<i.length-1&&(i[r]=re(Tt,e,{operator:"void",expression:i[r]}),i.length=r+1)}}(),0==r?(e=oe(0,o.parent(),o.self(),i[0]))instanceof yt?e:e.optimize(o):(e.expressions=i,e)}),e(Dt,function(e,n){if(n.option("sequences")){var t=Ie(e);if(t!==e)return t.optimize(n)}return Z(n,e)});var Be=dn("+ -"),Ye=dn("* / %");e(Tt,function(e,n){var t=e.operator,i=e.expression;if(n.option("evaluate")&&"delete"==t&&!(i instanceof Kt||i instanceof wt||((r=i)instanceof si||r instanceof ri||r instanceof oi)))return i instanceof yt?((i=i.expressions.slice()).push(re(ui,e)),V(e,i).optimize(n)):V(e,[i,re(ui,e)]).optimize(n);if(n.option("sequences")&&("typeof"!=t||!se(i.tail_node()))){var r=Ie(e);if(r!==e)return r.optimize(n)}if(n.option("side_effects")&&"void"==t)return(i=i.drop_side_effect_free(n))?(e.expression=i,e):re(oi,e).optimize(n);if(n.option("booleans")){if("!"==t&&i.is_truthy())return V(e,[i,re(ci,e)]).optimize(n);if(n.in_boolean_context())switch(t){case"!":if(i instanceof Tt&&"!"==i.operator)return i.expression;i instanceof Ot&&(e=Q(n,e,i.negate(n,_n(n))));break;case"typeof":gn.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var o=[re(ui,e)];return i instanceof Kt&&ie(i)||o.unshift(i),V(e,o).optimize(n)}}return"-"==t&&i instanceof si&&(i=i.transform(n)),n.option("evaluate")&&i instanceof Ot&&Be[t]&&Ye[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?re(Ot,e,{operator:i.operator,left:re(Tt,i.left,{operator:t,expression:i.left}),right:i.right}):"-"==t&&(i instanceof ni||i instanceof si)?e:Z(n,e)}),e($t,function(e,n){if(!n.option("awaits"))return e;if(n.option("sequences")){var t=Ie(e);if(t!==e)return t.optimize(n)}if(n.option("side_effects")){n=e.expression;if(n instanceof $t)return n;if(n instanceof Tt){if(n.expression instanceof $t)return n;if("void"==n.operator)return re(Tt,e,{operator:"void",expression:re($t,e,{expression:n.expression})})}}return e}),Ot.DEFMETHOD("lift_sequences",function(e){if(this.left instanceof wt){if(!(this.left.expression instanceof yt))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),V(this,n)}if(this.left instanceof yt){n=this.left.expressions.slice();return(t=this.clone()).left=n.pop(),n.push(t),V(this,n)}if(this.right instanceof yt){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Kt,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),V(this,n);if(0<o)return(t=this.clone()).right=V(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),V(this,n)}return this});var Le=dn("indexOf lastIndexOf"),Ve=dn("== === != !== * & | ^");function We(e){return e instanceof zt?"="==e.operator&&We(e.right):e instanceof yt?We(e.tail_node()):e instanceof Kt?We(e.fixed_value()):e instanceof Mt||e instanceof Pn||e instanceof bt||e instanceof Nt}function Je(e,n){return n instanceof xt?Je(e,n.expression):n instanceof kt?Je(e,n.expression)&&Je(e,n.property):n instanceof Ut||!n.has_side_effects(e)}function Ge(e,n){var t=0,i=e.self();do{if(i instanceof Pn&&i.name&&i.name.definition()===n)return i}while(i=e.parent(t++))}function Xe(e,n){return e instanceof Kt||e.TYPE===n.TYPE}function Ke(t,n){var i=!1,r=new li(function(e){return!!i||(e instanceof Kt&&nn(e.definition(),n)?i=!0:void 0)}),o=new li(function(e){if(i)return!0;if(e instanceof Cn&&e!==t){var n=o.parent();if(!(n instanceof gt&&n.expression===e))return e.walk(r),!0}});return t.walk(o),i}e(Ot,function(t,a){function n(){return t.left.is_constant()||t.right.is_constant()||!t.left.has_side_effects(a)&&!t.right.has_side_effects(a)}function e(e){n()&&(e&&(t.operator=e),e=t.left,t.left=t.right,t.right=e)}function i(){var e=t.right;t.left=re(Ot,t,{operator:t.operator,left:t.left,right:e.left,start:t.left.start,end:e.left.end}),t.right=e.right,t.left=t.left.transform(a)}if(!Ve[t.operator]||!t.right.is_constant()||t.left.is_constant()||t.left instanceof Ot&&mi[t.left.operator]>=mi[t.operator]||e(),a.option("sequences")){var r=t.lift_sequences(a);if(r!==t)return r.optimize(a)}if(a.option("assignments")&&ue[t.operator]){var o=t.right;if(t.left instanceof Kt&&o instanceof zt&&"="==o.operator&&t.left.equivalent_to(o.left))return t.right=o.right,o.right=t,o}if(a.option("comparisons"))switch(t.operator){case"===":case"!==":if(ce(t.left,a)&&t.right.is_defined(a))return gn.warn("Expression always defined [{file}:{line},{col}]",t.start),V(t,[t.right,re("==="==t.operator?ci:ui,t)]).optimize(a);var s=!0;(t.left.is_string(a)&&t.right.is_string(a)||t.left.is_number(a)&&t.right.is_number(a)||t.left.is_boolean(a)&&t.right.is_boolean(a)||Je(a,t.left)&&t.left.equivalent_to(t.right))&&(t.operator=t.operator.slice(0,2));case"==":case"!=":if(!s&&ce(t.left,a))t.left=re(ii,t.left);else if(a.option("typeofs")&&t.left instanceof ei&&"undefined"==t.left.value&&t.right instanceof Tt&&"typeof"==t.right.operator){var f=t.right.expression;(f instanceof Kt?!f.is_declared(a):f instanceof wt&&a.option("ie8"))||(t.right=f,t.left=re(oi,t.left).optimize(a),2==t.operator.length&&(t.operator+="="))}else if(t.left instanceof Kt&&t.right instanceof Kt&&t.left.definition()===t.right.definition()&&We(t.left))return re("="==t.operator[0]?ui:ci,t).optimize(a);break;case"&&":case"||":if((m=(m=t.left).operator==t.operator?m.right:m)instanceof Ot&&m.operator==("&&"==t.operator?"!==":"===")&&t.right instanceof Ot&&m.operator==t.right.operator&&(ce(m.left,a)&&t.right.left instanceof ii||m.left instanceof ii&&ce(t.right.left,a))&&!m.right.has_side_effects(a)&&m.right.equivalent_to(t.right.right)){f=re(Ot,t,{operator:m.operator.slice(0,-1),left:re(ii,t),right:m.right});return f=m!==t.left?re(Ot,t,{operator:t.operator,left:t.left.left,right:f}):f}}var c=a.option("booleans")&&a.in_boolean_context();if(c)switch(t.operator){case"+":var u=t.left.evaluate(a),l=t.right.evaluate(a);if(u&&"string"==typeof u)return gn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),V(t,[t.right,re(ui,t)]).optimize(a);if(l&&"string"==typeof l)return gn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),V(t,[t.left,re(ui,t)]).optimize(a);break;case"==":if(t.left instanceof ei&&""==t.left.value&&t.right.is_string(a))return re(Tt,t,{operator:"!",expression:t.right}).optimize(a);break;case"!=":if(t.left instanceof ei&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a)}var p,d,h=a.parent();if(a.option("comparisons")&&t.is_boolean(a)){if(!(h instanceof Ot)||h instanceof zt){o=Q(a,t,re(Tt,t,{operator:"!",expression:t.negate(a,_n(a))}));if(o!==t)return o}switch(t.operator){case">":e("<");break;case">=":e("<=")}}if(a.option("conditionals")&&ue[t.operator]&&t.right instanceof Ot&&t.operator==t.right.operator&&i(),a.option("strings")&&"+"==t.operator){if(t.right instanceof ei&&""==t.right.value&&t.left.is_string(a))return t.left.optimize(a);if(t.left instanceof ei&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a);if(t.left instanceof Ot&&"+"==t.left.operator&&t.left.left instanceof ei&&""==t.left.left.value&&t.right.is_string(a))return t.left=t.left.right,t.optimize(a);t.right instanceof Ot&&t.operator==t.right.operator&&(t.left.is_string(a)&&t.right.is_string(a)||t.right.left.is_string(a)&&(t.left.is_constant()||!t.right.right.has_side_effects(a)))&&i()}if(a.option("evaluate")){var v,m,_,g=!0;switch(t.operator){case"&&":if(!(u=E(t.left)))return gn.warn("Condition left of && always false [{file}:{line},{col}]",t.start),oe(0,h,a.self(),t.left).optimize(a);if(!(u instanceof gn))return gn.warn("Condition left of && always true [{file}:{line},{col}]",t.start),V(t,[t.left,t.right]).optimize(a);if(l=t.right.evaluate(a)){if(!(l instanceof gn)&&(c||"&&"==h.operator&&h.left===a.self()))return gn.warn("Dropping side-effect-free && [{file}:{line},{col}]",t.start),t.left.optimize(a)}else{if(c)return gn.warn("Boolean && always false [{file}:{line},{col}]",t.start),V(t,[t.left,re(ci,t)]).optimize(a);t.falsy=!0}if("||"==t.left.operator)if(!(v=t.left.right.evaluate(a,!0)))return re(At,t,{condition:t.left.left,consequent:t.right,alternative:t.left.right}).optimize(a);break;case"||":if(!(u=E(t.left)))return gn.warn("Condition left of || always false [{file}:{line},{col}]",t.start),V(t,[t.left,t.right]).optimize(a);if(!(u instanceof gn))return gn.warn("Condition left of || always true [{file}:{line},{col}]",t.start),oe(0,h,a.self(),t.left).optimize(a);if(l=t.right.evaluate(a)){if(!(l instanceof gn)){if(c)return gn.warn("Boolean || always true [{file}:{line},{col}]",t.start),V(t,[t.left,re(ui,t)]).optimize(a);t.truthy=!0}}else if(c||"||"==h.operator&&h.left===a.self())return gn.warn("Dropping side-effect-free || [{file}:{line},{col}]",t.start),t.left.optimize(a);if("&&"==t.left.operator)if((v=t.left.right.is_truthy()||t.left.right.evaluate(a,!0))&&!(v instanceof gn))return re(At,t,{condition:t.left.left,consequent:t.left.right,alternative:t.right}).optimize(a);break;case"+":if((t=(t=t.left instanceof Zt&&t.right instanceof Ot&&"+"==t.right.operator&&t.right.left instanceof Zt&&t.right.is_string(a)?re(Ot,t,{operator:"+",left:re(ei,t.left,{value:""+t.left.value+t.right.left.value,start:t.left.start,end:t.right.left.end}),right:t.right.right}):t).right instanceof Zt&&t.left instanceof Ot&&"+"==t.left.operator&&t.left.right instanceof Zt&&t.left.is_string(a)?re(Ot,t,{operator:"+",left:t.left.left,right:re(ei,t.right,{value:""+t.left.right.value+t.right.value,start:t.left.right.start,end:t.right.end})}):t).right instanceof Tt&&"-"==t.right.operator&&t.left.is_number(a)){t=re(Ot,t,{operator:"-",left:t.left,right:t.right.expression});break}if(t.left instanceof Tt&&"-"==t.left.operator&&n()&&t.right.is_number(a)){t=re(Ot,t,{operator:"-",left:t.right,right:t.left.expression});break}if(a.option("unsafe_math")&&t.left instanceof Ot&&mi[t.left.operator]==mi[t.operator]&&t.right.is_constant()&&(t.right.is_boolean(a)||t.right.is_number(a))&&t.left.is_number(a)&&!t.left.right.is_constant()&&(t.left.left.is_boolean(a)||t.left.left.is_number(a))){t=re(Ot,t,{operator:t.left.operator,left:re(Ot,t,{operator:t.operator,left:t.right,right:t.left.left}),right:t.left.right});break}case"-":if(t.right instanceof Tt&&"-"==t.right.operator&&t.left.is_number(a)&&t.right.expression.is_number(a)){t=re(Ot,t,{operator:"+",left:t.left,right:t.right.expression});break}case"*":case"/":g=a.option("unsafe_math"),"+"!=t.operator&&["left","right"].forEach(function(e){var n=t[e];n instanceof Tt&&"+"==n.operator&&(((n=n.expression).is_boolean(a)||n.is_number(a)||n.is_string(a))&&(t[e]=n))});case"&":case"|":case"^":if("-"==t.operator||"/"==t.operator||!t.left.is_boolean(a)&&!t.left.is_number(a)||!t.right.is_boolean(a)&&!t.right.is_number(a)||!n()||t.left instanceof Ot&&t.left.operator!=t.operator&&mi[t.left.operator]>=mi[t.operator]||(_=re(Ot,t,{operator:t.operator,left:t.right,right:t.left}),t=t.right instanceof Zt&&!(t.left instanceof Zt)?Q(a,_,t):Q(a,t,_)),!g||!t.is_number(a))break;!(t.right instanceof Ot&&"%"!=t.right.operator&&mi[t.right.operator]==mi[t.operator]&&t.right.is_number(a)&&("+"!=t.operator||t.right.left.is_boolean(a)||t.right.left.is_number(a)))||"-"==t.operator&&t.left.is_negative_zero()||!t.right.left.is_constant_expression()&&t.right.right.has_side_effects(a)||(p=t.right.right,d=!1,p.walk(new li(function(e){if(d)return!0;if(e instanceof zt){if(e.left instanceof wt)return d=!0}else if(e instanceof St&&gi[e.operator]&&e.expression instanceof wt)return d=!0})),d)||"+"!=(t=re(Ot,t,{operator:x(t.operator,t.right.operator),left:re(Ot,t.left,{operator:t.operator,left:t.left,right:t.right.left,start:t.left.start,end:t.right.left.end}),right:t.right.right})).operator||t.right.is_boolean(a)||t.right.is_number(a)||(t.right=re(Tt,t.right,{operator:"+",expression:t.right})),t.right instanceof Zt&&t.left instanceof Ot&&"%"!=t.left.operator&&mi[t.left.operator]==mi[t.operator]&&t.left.is_number(a)&&(t.left.left instanceof Zt?(m=k(t.left,t.operator,t.left.left,t.right,t.left.left.start,t.right.end),t=k(t,t.left.operator,Z(a,m),t.left.right)):t.left.right instanceof Zt&&(_=x(t.left.operator,t.operator),!(_=Z(a,k(t.left,_,t.left.right,t.right))).is_constant()||"-"==t.left.operator&&0!=t.right.value&&0==+_.value&&t.left.left.is_negative_zero()||(t=k(t,t.left.operator,t.left.left,_))))}if(!(h instanceof Tt&&"delete"==h.operator)){if(t.left instanceof ni&&!t.right.is_constant())switch(t.operator){case"+":if(0==t.left.value){if(t.right.is_boolean(a))return re(Tt,t,{operator:"+",expression:t.right}).optimize(a);if(t.right.is_number(a)&&!t.right.is_negative_zero())return t.right}break;case"*":if(1==t.left.value)return t.right.is_number(a)?t.right:re(Tt,t,{operator:"+",expression:t.right}).optimize(a)}if(t.right instanceof ni&&!t.left.is_constant())switch(t.operator){case"+":if(0==t.right.value){if(t.left.is_boolean(a))return re(Tt,t,{operator:"+",expression:t.left}).optimize(a);if(t.left.is_number(a)&&!t.left.is_negative_zero())return t.left}break;case"-":if(0==t.right.value)return t.left.is_number(a)?t.left:re(Tt,t,{operator:"+",expression:t.left}).optimize(a);break;case"/":if(1==t.right.value)return t.left.is_number(a)?t.left:re(Tt,t,{operator:"+",expression:t.left}).optimize(a)}}}if(a.option("typeofs"))switch(t.operator){case"&&":je(t.left,t.right,null);break;case"||":je(t.left,null,t.right)}if(a.option("unsafe")){var b=S(t.right);if(c&&b&&("=="==t.operator||"!="==t.operator)&&t.left instanceof ni&&0==t.left.value)return("=="==t.operator?re(Tt,t,{operator:"!",expression:t.right}):t.right).optimize(a);var y=S(t.left);if(a.option("comparisons")&&function(){switch(t.operator){case"<=":return b&&t.left instanceof ni&&0==t.left.value;case"<":if(y&&t.right instanceof ni&&0==t.right.value)return!0;case"==":case"!=":return b?t.left instanceof ni&&-1==t.left.value||t.left instanceof Tt&&"-"==t.left.operator&&t.left.expression instanceof ni&&1==t.left.expression.value:!1}}()){var w=re(Tt,t,{operator:"!",expression:re(Tt,t,{operator:"~",expression:y?t.left:t.right})});switch(t.operator){case"<":if(y)break;case"<=":case"!=":w=re(Tt,t,{operator:"!",expression:w})}return w.optimize(a)}}return Z(a,t);function x(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function k(e,n,t,i,r,o){return"+"==n&&(t.is_boolean(a)||t.is_number(a)||(t=re(Tt,t,{operator:"+",expression:t})),i.is_boolean(a)||i.is_number(a)||(i=re(Tt,i,{operator:"+",expression:i}))),re(Ot,e,{operator:n,left:t,right:i,start:r,end:o})}function E(e){return!!e.truthy||!e.falsy&&(!!e.is_truthy()||e.evaluate(a,!0))}function S(e){return"Call"==e.TYPE&&e.expression instanceof xt&&Le[e.expression.property]}}),e(Kt,function(e,n){if(!n.option("ie8")&&se(e)&&(!e.scope.resolve().uses_with||!n.find_parent(qn)))switch(e.name){case"undefined":return re(oi,e).optimize(n);case"NaN":return re(ri,e).optimize(n);case"Infinity":return re(si,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&le(n.self(),t)!==n.self()){var i,r,o=e.definition(),a=e.fixed_value(),t=o.single_use&&!(t instanceof gt&&t.is_expr_pure(n));if(t)if(a instanceof Pn){if(o.scope===e.scope.resolve()&&!o.in_loop||n.option("reduce_funcs")&&1!=o.escaped.depth&&!a.inlined)if(Ge(n,o))t=!1;else if(a.name&&a.name.definition()!==o)t=!1;else if(a.parent_scope!==e.scope.resolve()||h(o)){if("f"==(t=a.is_constant_expression(e.scope)))for(var s=e.scope;(Jn(s)||Rn(s))&&(s.inlined=!0),s=s.parent_scope;);}else a.name&&"await"==a.name.name&&Yn(a)&&(t=!1);else t=!1;t&&(a.parent_scope=e.scope)}else a&&a.is_constant_expression()&&!a.drop_side_effect_free(n)||(t=!1);if(t)return o.single_use=!1,a._squeezed=!0,a.single_use=!0,a instanceof Gn?(a=re(Vn,a,a)).name=re(Gt,a.name,a.name):a instanceof Xn&&((a=re(Wn,a,a)).name=re(Gt,a.name,a.name)),a instanceof Pn&&(s=e.scope.resolve(),a.enclosed.forEach(function(e){a.variables.has(e.name)||s.var_names()[e.name]||(s.enclosed.push(e),s.var_names()[e.name]=!0)})),0<o.recursive_refs?(i=(l=a.clone(!0)).name.definition(),(c=(r=l.variables.get(l.name.name))&&r.orig[0])instanceof Gt||(((c=re(Gt,l.name,l.name)).scope=l).name=c,(r=l.def_function(c)).recursive_refs=o.recursive_refs),l.walk(new li(function(e){var n,t;e instanceof Kt&&((n=e.definition())===i?(e.thedef=r).references.push(e):(n.single_use=!1,(t=e.fixed_value())instanceof Pn&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&a.variables.get(t.name.name)===n&&(t.name=t.name.clone(),t=l.variables.get(t.name.name)||l.def_function(t.name),(e.thedef=t).references.push(e))))}))):(l=a.optimize(n))===a&&(l=l.transform(new pi(function(e,n){return e instanceof Cn||n(e=e.clone(),this),e}))),o.replaced++,l;var f,c,u,l,t=e.fixed!==o.fixed;if(a&&(t||!1!==o.should_replace))if(a instanceof Qt?!h(o)&&p(o)&&(f=a):(u=a.evaluate(n,!0))!==a&&"function"!=typeof u&&("object"!=typeof u||u instanceof RegExp&&n.option("unsafe_regexp")&&!o.cross_loop&&p(o))&&(f=W(u,a)),f)if(t||void 0!==o.should_replace||(c=f.optimize(n).print_to_string().length,d(a)||(c=Math.min(c,a.print_to_string().length)),u=o.name.length,n.option("unused")&&!n.exposed(o)&&(u+=(u+2+c)/(o.references.length-o.replaced-o.assignments)),u=c-Math.floor(u),o.should_replace=u<n.eval_threshold),t||o.should_replace)return d(a)?(l=f.optimize(n))===f&&(l=l.clone(!0)):(l=K(f.optimize(n),a))!==f&&l!==a||(l=l.clone(!0)),o.replaced++,l}return e;function p(e){var n=e.scope.resolve();return hn(e.references,function(e){return n===e.scope.resolve()})}function d(e){var n;return e.walk(new li(function(e){if(n=e instanceof Kt?!0:n)return!0})),n}}),e(oi,function(e,n){if(n.option("unsafe_undefined")){var t=L(n).find_variable("undefined");if(t){t=re(Kt,e,{name:"undefined",scope:t.scope,thedef:t});return t.is_undefined=!0,t}}n=le(n.self(),n.parent());return n&&Xe(n,e)?e:re(Tt,e,{operator:"void",expression:re(ni,e,{value:0})})}),e(si,function(e,n){var t=le(n.self(),n.parent());return(!t||!Xe(t,e))&&(!n.option("keep_infinity")||t||L(n).find_variable("Infinity"))?re(Ot,e,{operator:"/",left:re(ni,e,{value:1}),right:re(ni,e,{value:0})}):e}),e(ri,function(e,n){var t=le(n.self(),n.parent());return(!t||!Xe(t,e))&&(t||L(n).find_variable("NaN"))?re(Ot,e,{operator:"/",left:re(ni,e,{value:0}),right:re(ni,e,{value:0})}):e});var Qe=dn("+ - * / % >> << >>> | ^ &"),Ze=dn("* | ^ &");function en(e,n){if(e=e instanceof Kt?e.fixed_value():e){if(!(e instanceof Pn))return 1;var t=n.parent();return"Call"!=t.TYPE||(t.expression!==n.self()||!e.contains_this())}}e(zt,function(o,a){if(a.option("dead_code"))if(o.left instanceof wt){if("="==o.operator){if(o.__drop){var e=[o.left.expression];return o.left instanceof kt&&e.push(o.left.property),e.push(o.right),V(o,e).optimize(a)}if(o.left.equivalent_to(o.right)&&!o.left.has_side_effects(a))return o.right;e=o.left.expression;if(e instanceof Pn||!a.has_directive("use strict")&&e instanceof Zt&&!e.may_throw_on_access(a))return o.left instanceof xt?o.right:V(o,[o.left.property,o.right]).optimize(a)}}else if(o.left instanceof Kt&&hn(o.left.definition().orig,function(e){return!(e instanceof Yt)})){if("="==o.operator&&o.left.equivalent_to(o.right)&&!((f=a.parent())instanceof Tt&&"delete"==f.operator))return o.right;if(o.left.is_immutable())return p();var n,t=o.left.definition(),s=t.scope.resolve(),i=s===a.find_parent(Pn),r=0,f=a.self();do{if(n=f,(f=a.parent(r++))instanceof zt){var c=!1;if(f.left.match_symbol(function(e){if(e instanceof wt)return!0;if(!c&&e instanceof Kt&&e.definition()===t){if(l(r,f))return!0;t.fixed=!1,c=!0}}))break;if(c)return p()}else{if(f instanceof Qn){if(!i)break;if(l(r,f))break;if(Ke(s,[t]))break;return t.fixed=!1,p()}if(f instanceof mt&&f.name instanceof Bt&&f.name.definition()===t){if(l(r,f))break;return t.fixed=!1,p()}}}while(f instanceof Ot&&f.right===n||f instanceof At&&f.condition!==n||f instanceof yt&&f.tail_node()===n||f instanceof Tt)}if(a.option("sequences")){var u=o.lift_sequences(a);if(u!==o)return u.optimize(a)}if(a.option("assignments")){if("="==o.operator&&o.left instanceof Kt&&o.right instanceof Ot){if(o.right.left instanceof Kt&&o.right.left.name==o.left.name&&Qe[o.right.operator])return re(zt,o,{operator:o.right.operator+"=",left:o.left,right:o.right.right});if(o.right.right instanceof Kt&&o.right.right.name==o.left.name&&Ze[o.right.operator]&&!o.right.left.has_side_effects(a))return re(zt,o,{operator:o.right.operator+"=",left:o.left,right:o.right.left})}if(("-="==o.operator||"+="==o.operator&&(o.left.is_boolean(a)||o.left.is_number(a)))&&o.right instanceof ni&&1==o.right.value){u=o.operator.slice(0,-1);return re(Tt,o,{operator:u+u,expression:o.left})}}return Z(a,o);function l(e,n){var t=o.right;o.right=re(ii,t);var i,r=n.may_throw(a);for(o.right=t;i=a.parent(e++);){if(i===s)return;if(i instanceof ct){if(i.bfinally)return 1;if(r&&i.bcatch)return 1}}}function p(){return("="!=o.operator?re(Ot,o,{operator:o.operator.slice(0,-1),left:o.left,right:o.right}):oe(0,a.parent(),o,o.right)).optimize(a)}}),e(At,function(r,n){if(n.option("sequences")&&r.condition instanceof yt){var e=r.condition.expressions.slice();return r.condition=e.pop(),e.push(r),V(r,e)}if(!n.option("conditionals"))return r;var o=r.condition.is_truthy()||r.condition.evaluate(n,!0);if(!o)return gn.warn("Condition always false [{file}:{line},{col}]",r.start),V(r,[r.condition,r.alternative]).optimize(n);if(!(o instanceof gn))return gn.warn("Condition always true [{file}:{line},{col}]",r.start),V(r,[r.condition,r.consequent]).optimize(n);var t=o.negate(n,_n(n));Q(n,o,t)===t&&(r=re(At,r,{condition:t,consequent:r.alternative,alternative:r.consequent}),t=o,o=r.condition);var i=r.consequent,a=r.alternative;if(Je(n,o)){if(o.equivalent_to(i))return re(Ot,r,{operator:"||",left:o,right:a}).optimize(n);if(o.equivalent_to(a))return re(Ot,r,{operator:"&&",left:o,right:i}).optimize(n)}var s=i.tail_node();if(s instanceof zt){var f="="==s.operator,e=f?a.tail_node():a;if((f||i===s)&&e instanceof zt&&s.operator==e.operator&&s.left.equivalent_to(e.left)&&(f&&s.left instanceof Kt||!o.has_side_effects(n)&&m(i)&&m(a)))return re(zt,r,{operator:s.operator,left:s.left,right:re(At,r,{condition:o,consequent:_(i),alternative:_(a)})})}if(i.equivalent_to(a))return V(r,[o,i]).optimize(n);var c,f=function e(n,t,i){if(!v(n,t))return!i&&re(At,r,{condition:o,consequent:n,alternative:t});var t=e(n.expression,t.expression);if(!t)return;var n=n.clone();n.expression=t;return n}(i,a,!0);if(f)return f;if(i instanceof gt&&a.TYPE==i.TYPE&&0<=(c=h(i,a))&&i.expression.equivalent_to(a.expression)&&!o.has_side_effects(n)&&!i.expression.has_side_effects(n)){s=i.clone(),f=i.args[c];return s.args[c]=f instanceof Et?re(Et,r,{expression:re(At,r,{condition:o,consequent:f.expression,alternative:a.args[c].expression})}):re(At,r,{condition:o,consequent:f,alternative:a.args[c]}),s}if(i instanceof At&&i.alternative.equivalent_to(a))return re(At,r,{condition:re(Ot,r,{left:o,operator:"&&",right:i.condition}),consequent:i.consequent,alternative:a});if(i instanceof At&&i.consequent.equivalent_to(a))return re(At,r,{condition:re(Ot,r,{left:t,operator:"||",right:i.condition}),consequent:a,alternative:i.alternative});if(a instanceof At&&i.equivalent_to(a.consequent))return re(At,r,{condition:re(Ot,r,{left:o,operator:"||",right:a.condition}),consequent:i,alternative:a.alternative});if(a instanceof At&&i.equivalent_to(a.alternative))return re(At,r,{condition:re(Ot,r,{left:t,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:i});if((i instanceof yt||a instanceof yt)&&i.tail_node().equivalent_to(a.tail_node()))return V(r,[re(At,r,{condition:o,consequent:g(i),alternative:g(a)}),i.tail_node()]).optimize(n);if(i instanceof Ot&&"&&"==i.operator&&i.right.equivalent_to(a))return re(Ot,r,{operator:"&&",left:re(Ot,r,{operator:"||",left:t,right:i.left}),right:a}).optimize(n);if(i instanceof Ot&&"||"==i.operator&&i.right.equivalent_to(a))return re(Ot,r,{operator:"||",left:re(Ot,r,{operator:"&&",left:o,right:i.left}),right:a}).optimize(n);if(a instanceof Ot&&"&&"==a.operator&&a.right.equivalent_to(i))return re(Ot,r,{operator:"&&",left:re(Ot,r,{operator:"||",left:o,right:a.left}),right:i}).optimize(n);if(a instanceof Ot&&"||"==a.operator&&a.right.equivalent_to(i))return re(Ot,r,{operator:"||",left:re(Ot,r,{operator:"&&",left:t,right:a.left}),right:i}).optimize(n);var u=n.option("booleans")&&n.in_boolean_context();return p(i)?d(a)?l(o):re(Ot,r,{operator:"||",left:l(o),right:a}):d(i)?p(a)?l(o.negate(n)):re(Ot,r,{operator:"&&",left:l(o.negate(n)),right:a}):p(a)?re(Ot,r,{operator:"||",left:l(o.negate(n)),right:i}):d(a)?re(Ot,r,{operator:"&&",left:l(o),right:i}):(n.option("typeofs")&&je(o,i,a),r);function l(e){return e.is_boolean(n)?e:re(Tt,e,{operator:"!",expression:e.negate(n)})}function p(e){return e instanceof ui||u&&e instanceof Zt&&e.value||e instanceof Tt&&"!"==e.operator&&e.expression instanceof Zt&&!e.expression.value}function d(e){return e instanceof ci||u&&(e instanceof Zt&&!e.value||e instanceof Tt&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof Tt&&"!"==e.operator&&e.expression instanceof Zt&&e.expression.value}function h(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function v(e,n){if(e.TYPE==n.TYPE)return e instanceof gt?-1!=h(e,n)?void 0:"Call"!=e.TYPE||!(e.expression instanceof wt||n.expression instanceof wt)||v(e.expression,n.expression):e instanceof xt?e.property==n.property:e instanceof kt?e.property.equivalent_to(n.property):void 0}function m(e){return e===e.tail_node()||hn(e.expressions.slice(0,-1),function(e){return!e.has_side_effects(n)})}function _(e){if(!(e instanceof yt))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),V(e,n)}function g(e){return e instanceof yt?V(e,e.expressions.slice(0,-1)):re(ni,e,{value:0})}}),e(fi,function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return re(ni,e,{value:+e.value});n=n.parent();return n instanceof Ot&&("=="==n.operator||"!="==n.operator)?(gn.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:n.operator,value:e.value,file:n.start.file,line:n.start.line,col:n.start.col}),re(ni,e,{value:+e.value})):re(Tt,e,{operator:"!",expression:re(ni,e,{value:1-e.value})})}),e(Et,function(e,n){var t=e.expression;return n.option("spreads")&&t instanceof Mt&&!(n.parent()instanceof Nt)?cn.splice(t.elements.map(function(e){return e instanceof ai?re(oi,e).optimize(n):e})):e}),e(kt,function(e,t){var n=e.expression,i=e.property;if(t.option("properties")){var r=i.evaluate(t);if(r!==i){"string"==typeof r&&("undefined"==r?r=void 0:(m=parseFloat(r)).toString()==r&&(r=m)),i=e.property=K(i,W(r,i).transform(t));var o=""+r;if(di(o)&&o.length<=i.print_to_string().length+1)return re(xt,e,{expression:n,property:o}).optimize(t)}}var a,s,f,c=t.parent(),u=le(t.self(),c);if(t.option("arguments")&&n instanceof Kt&&te(h=n.definition())&&!n.in_arg&&i instanceof ni&&(a=h.scope)===function(){var e,n=0;for(;e=t.parent(n++);)if(e instanceof Pn){if(e instanceof Hn)return;if(!In(e))return s=t.parent(n),e}}()&&a.uses_arguments<(u?2:3)){var l=i.value;c instanceof Tt&&"delete"==c.operator&&(h.deleted||(h.deleted=[]),h.deleted[l]=!0);var p,d=a.argnames[l];if(h.deleted&&h.deleted[l])d=null;else if(d)(!(d instanceof Wt&&"await"!=d.name&&n.scope.find_variable(d.name)===(p=d.definition()))||(t.has_directive("use strict")||a.name||a.rest||!(s instanceof gt&&l<s.args.length)||!hn(a.argnames,function(e){return e instanceof Wt}))&&(!t.option("reduce_vars")||h.reassigned||p.assignments||1<p.orig.length))&&(d=null);else if(l<a.argnames.length+5&&t.drop_fargs(a,s)&&!a.rest)for(;l>=a.argnames.length;)d=a.make_var(Wt,a,"argument_"+a.argnames.length),a.argnames.push(d);if(d&&tn(function(e){return e.name===d.name},a.argnames)===d){h.reassigned=!1;var h=re(Kt,e,d);return h.reference({}),delete d.__unused,h}}if(u)return e;if(t.option("sequences")&&"Call"!=c.TYPE&&!(c instanceof jn&&c.init===e)){c=Ie(e);if(c!==e)return c.optimize(t)}if(r===i||(v=e.flatten_object(o,t))&&(n=e.expression=v.expression,i=e.property=v.property),t.option("properties")&&t.option("side_effects")&&i instanceof ni&&n instanceof Mt&&hn(f=n.elements,function(e){return!(e instanceof Et)})){var v=f[l=i.value];if(en(v,t)){for(var m,_=v instanceof ai,g=!_,b=[],y=f.length;--y>l;)(m=f[y].drop_side_effect_free(t))&&(b.unshift(m),g&&m.has_side_effects(t)&&(g=!1));for(g||b.unshift(v);0<=--y;)(m=f[y].drop_side_effect_free(t))?b.unshift(m):_?b.unshift(re(ai,f[y])):l--;return g?(b.push(v),V(e,b).optimize(t)):re(kt,e,{expression:re(Mt,n,{elements:b}),property:re(ni,i,{value:l})})}}return Z(t,e)}),Bn.DEFMETHOD("contains_this",on),Ln.DEFMETHOD("contains_this",on),Cn.DEFMETHOD("contains_this",function(){var n,t=this;return t.walk(new li(function(e){return!!n||(e instanceof Qt?n=!0:e!==t&&e instanceof Cn&&!In(e)||void 0)})),n}),wt.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")){var t=this.expression;if(t instanceof Nt)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(o.key==e){if(!hn(i,function(e){return e instanceof Ht&&"string"==typeof e.key}))break;if(!en(o.value,n))break;return re(kt,this,{expression:re(Mt,t,{elements:i.map(function(e){return e.value})}),property:re(ni,this,{value:r})})}}}}),e(xt,function(e,n){"arguments"!=e.property&&"caller"!=e.property||gn.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(le(n.self(),t))return e;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof jn&&t.init===e)){var i=Ie(e);if(i!==e)return i.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof xt&&"prototype"==e.expression.property){var r=e.expression.expression;if(se(r))switch(r.name){case"Array":e.expression=re(Mt,e.expression,{elements:[]});break;case"Function":e.expression=re(Wn,e.expression,{argnames:[],body:[]}).init_vars(r.scope);break;case"Number":e.expression=re(ni,e.expression,{value:0});break;case"Object":e.expression=re(Nt,e.expression,{properties:[]});break;case"RegExp":e.expression=re(ti,e.expression,{value:/t/});break;case"String":e.expression=re(ei,e.expression,{value:""})}}i=e.flatten_object(e.property,n);return i?i.optimize(n):Z(n,e)}),e(jt,function(e,n){return n.option("rests")&&e.rest instanceof jt&&(e.elements=e.elements.concat(e.rest.elements),e.rest=null),e}),e(qt,function(e,n){var t;return!n.option("objects")||(t=e.key)instanceof gn&&(t=t.evaluate(n))!==e.key&&(e.key=""+t),e}),e(Nt,function(t,i){if(!i.option("objects"))return t;var e,r=!1,o=!1,a=!1,s=i.has_directive("use strict"),f=new vn,c=[];return t.properties.forEach(function(e){if(!(e instanceof Et))return l(e);o=!0;var n=e.expression;i.option("spreads")&&n instanceof Nt&&hn(n.properties,function(e){return!(e instanceof Rt||e instanceof Et)})?(r=!0,n.properties.forEach(function(e){l(e instanceof It?re(Ht,e,{key:e.key,value:re(oi,e).optimize(i)}):e)})):(a=!0,u(),c.push(e))}),u(),r?(o&&a&&1==c.length&&((e=c[0])instanceof Pt&&e.key instanceof ni&&(e.key=""+e.key.value)),r?re(Nt,t,{properties:c}):t):t;function u(){f.each(function(e){if(1==e.length)return c.push(e[0]);r=!0;var n=s&&!a&&e.pop();c.push(1==e.length?e[0]:re(Ht,t,{key:e[0].key,value:V(t,e.map(function(e){return e.value}))})),n&&c.push(n)}),f=new vn}function l(e){var n=e.key;n instanceof gn&&(o=!0,(n=n.evaluate(i))===e.key?a=!0:n=e.key=""+n),e instanceof Ht&&"string"==typeof n?(e.value.has_side_effects(i)&&u(),f.add(n,e)):(u(),c.push(e)),o&&!a&&"string"==typeof n&&/^[1-9]*[0-9]$/.test(n)&&(a=!0,(e=f.has(n)?f.get(n)[0]:e).key=re(ni,e,{value:+n}))}}),e(Zn,function(e,n){return e.value&&ce(e.value,n)&&(e.value=null),e})}(function(e,n){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;if(e.has_directive("use asm"))return this;e=n(this,e);return e._optimized=!0,e})}),Y=!1,gn.DEFMETHOD("print",function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}),gn.DEFMETHOD("print_to_string",function(e){e=yi(e);return this.print(e),e.get()}),Q(gn,on),Q(Vn,ce),Q(Wn,ce),Q(Nt,ue),Q(St,function(e){e=e.parent();return(e instanceof gt||e instanceof wt)&&e.expression===this}),Q(yt,function(e){e=e.parent();return e instanceof Mt||In(e)&&e.value===this||e instanceof $t||e instanceof Ot||e instanceof gt||e instanceof At||e instanceof _t||e instanceof qt||e instanceof Pt||e instanceof wt&&e.expression===this||e instanceof Et||e instanceof St||e instanceof mt}),Q(Ot,function(e){var n=e.parent();if(n instanceof $t)return!0;if(n instanceof Ot){var t=n.operator,e=mi[t],t=this.operator,t=mi[t];return t<e||e==t&&this===n.right}return n instanceof gt||n instanceof wt?n.expression===this:n instanceof St||void 0}),Q(wt,function(e){var n=this,e=e.parent();if(e instanceof bt&&e.expression===n){for(;n=n.expression,n instanceof wt;);return"Call"==n.TYPE}}),Q(gt,function(e){var n=e.parent();if(n instanceof bt)return n.expression===this;if(e.option("webkit")){e=e.parent(1);return this.expression instanceof Wn&&n instanceof wt&&n.expression===this&&e instanceof zt&&e.left===n}}),Q(bt,function(e){if(Oe(this,e))return!1;e=e.parent();return e instanceof gt?e.expression===this:e instanceof wt}),Q(ni,function(e){var n=e.parent();if(n instanceof wt&&n.expression===this){n=this.value;return n<0||e.option("galio")&&/^0/.test(Ae(n))}}),Q(Bn,function(e){return le(this,e)}),Q(zt,function(e){return!!le(this,e)||(e.option("v8")?this.left instanceof Ft:this.left instanceof Ct?ue(e):void 0)}),Q(Ln,function(e){return le(this,e)}),Q(At,function(e){return le(this,e)}),Q($t,function(e){e=e.parent();return e instanceof gt||e instanceof wt?e.expression===this:void 0}),K(wn,function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()}),K(yn,function(e){e.print("debugger"),e.semicolon()}),K(bn,function(e){this.body.print(e),e.semicolon()}),K(Nn,function(e){pe(this.body,!0,e,!0),e.print("")}),K(On,function(e){this.label.print(e),e.colon(),this.body.print(e)}),K(kn,function(e){this.body.print(e),e.semicolon()}),K(Dn,function(e){he(this,e)}),K(xn,function(e){e.semicolon()}),K($n,function(e){var n=this;e.print("do"),e.space(),ze(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.semicolon()}),K(Mn,function(e){var n=this;e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),De(n.body,e)}),K(Fn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init?(n.init instanceof pt?n.init.print(e):xe(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)}),e.space(),De(n.body,e)}),K(jn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init.print(e),e.space(),e.print("in"),e.space(),n.object.print(e)}),e.space(),De(n.body,e)}),K(qn,function(e){var n=this;e.print("with"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),De(n.body,e)}),K(Bn,function(e){me(this,e)}),K(Ln,function(e){e.print("async"),e.space(),me(this,e)}),K(Pn,function(e){e.print("function"),_e(this,e)}),K(Gn,ge),K(Vn,ge),K(Zn,be("return","value")),K(et,be("throw","value")),K(tt,be("break","label")),K(it,be("continue","label")),K(rt,function(e){var n=this;e.print("if"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),n.alternative?(function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof dt||t instanceof ht)||n.option("ie8")&&t instanceof $n)return ze(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof rt){if(!t.alternative)return ze(e.body,n);t=t.alternative}else{if(!(t instanceof f))break;t=t.body}De(e.body,n)}(n,e),e.space(),e.print("else"),e.space(),n.alternative instanceof rt?n.alternative.print(e):De(n.alternative,e)):De(n.body,e)}),K(ot,function(t){var e=this;t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var i=e.body.length-1;i<0?de(e,t):t.with_block(function(){e.body.forEach(function(e,n){t.indent(!0),e.print(t),n<i&&0<e.body.length&&t.newline()})})}),K(st,function(e){e.print("default:"),ye(this,e)}),K(ft,function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),ye(this,e)}),K(ct,function(e){e.print("try"),e.space(),he(this,e),this.bcatch&&(e.space(),this.bcatch.print(e)),this.bfinally&&(e.space(),this.bfinally.print(e))}),K(ut,function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens(function(){n.argname.print(e)})),e.space(),he(n,e)}),K(lt,function(e){e.print("finally"),e.space(),he(this,e)}),K(dt,we("const")),K(ht,we("let")),K(vt,we("var")),K(mt,function(e){var n;this.name.print(e),this.value&&(e.space(),e.print("="),e.space(),n=(n=e.parent(1))instanceof Fn||n instanceof jn,xe(this.value,e,n))}),K(_t,function(e){this.name.print(e),e.space(),e.print("="),e.space(),this.value.print(e)}),K(gt,function(e){this.expression.print(e),ke(this,e)}),K(bt,function(e){e.print("new"),e.space(),this.expression.print(e),Oe(this,e)&&ke(this,e)}),K(yt,function(t){this.expressions.forEach(function(e,n){0<n&&(t.comma(),t.should_break()&&(t.newline(),t.indent())),e.print(t)})}),K(xt,function(e){var n=this.expression;n.print(e);var t=this.property;e.option("ie8")&&m[t]?(e.print("["),e.add_mapping(this.end),e.print_string(t),e.print("]")):(n instanceof ni&&0<=n.value&&(/[xa-f.)]/i.test(e.last())||e.print(".")),e.print("."),e.add_mapping(this.end),e.print_name(t))}),K(kt,function(e){this.expression.print(e),e.print("["),this.property.print(e),e.print("]")}),K(Et,function(e){e.print("..."),this.expression.print(e)}),K(Tt,function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof Tt&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)}),K(Dt,function(e){this.expression.print(e),e.print(this.operator)}),K(Ot,function(e){this.left.print(e),e.space(),e.print(this.operator),e.space(),this.right.print(e)}),K(At,function(e){this.condition.print(e),e.space(),e.print("?"),e.space(),this.consequent.print(e),e.space(),e.colon(),this.alternative.print(e)}),K($t,function(e){e.print("await"),e.space(),this.expression.print(e)}),K(Mt,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof ai&&t.comma()}),t.space()}:rn)}),K(jt,function(t){var e=this.elements,n=e.length,i=this.rest;t.with_square(n||i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t)}),i?(n&&t.comma(),t.print("..."),i.print(t)):e[n-1]instanceof ai&&t.comma(),t.space()}:rn)}),K(qt,Se),K(Ct,function(t){var e=this.properties,n=e.length,i=this.rest;n||i?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),i&&(n&&(t.print(","),t.newline()),t.indent(),t.print("..."),i.print(t)),t.newline()}):de(this,t)}),K(Nt,function(t){var e=this.properties;0<e.length?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):de(this,t)}),K(Ht,Se),K(Rt,Te("get")),K(It,Te("set")),K(Ut,function(e){var n=this.definition();e.print_name(n&&n.mangled_name||this.name)}),K(ai,rn),K(Qt,function(e){e.print("this")}),K(Zt,function(e){e.print(this.value)}),K(ei,function(e){e.print_string(this.value,this.quote)}),K(ni,function(e){var n=this.start;Y&&n&&null!=n.raw?e.print(n.raw):e.print(Ae(this.value))}),K(ti,function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"})+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}}).replace(/[\n\r\u2028\u2029]/g,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}));t=e.parent();t instanceof Ot&&/^in/.test(t.operator)&&t.left===this&&e.print(" ")}),$e([gn,On],rn),$e([Mt,Dn,ut,Zt,yn,pt,Ft,lt,Kn,Pn,bt,Nt,f,Ut,ot,at,ct],function(e){e.add_mapping(this.start)}),$e([qt,Pt],function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)});var Me=e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fe=Me.reduce(function(e,n,t){return e[n]=t,e},Object.create(null));function je(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e}while((e>>>=5)&&(t|=32),n+=Me[t],e);return n}function qe(){var n=Object.create(null),t=[];return t.index=function(e){return mn(n,e)||(n[e]=t.length,t.push(e)),n[e]},t}function Ce(l){var a,s=qe(),o=l.includeSources&&Object.create(null),f=qe(),c="";l.orig&&Object.keys(l.orig).forEach(function(e){var n=l.orig[e],t=[0,0,1,0,0];if(l.orig[e]={names:n.names,mappings:n.mappings.split(/;/).map(function(e){return t[0]=0,e.split(/,/).map(function(e){return t.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=Fe[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(t,e))})}),sources:n.sources},o&&n.sourcesContent)for(var i=0;i<n.sources.length;i++){var r=n.sourcesContent[i];r&&(o[n.sources[i]]=r)}});var u=1,p=0,d=0,h=1,v=0,m=0;return{add:l.orig?function(e,n,t,i,r,o){var a=l.orig[e];if(a){var s,f=a.mappings[i-1];if(!f)return;for(var c=0;c<f.length;c++){var u=f[c][0];if(u<=r&&(s=f[c]),r<=u)break}!s||s.length<4?e=null:(e=a.sources[s[1]],i=s[2],r=s[3],4<s.length&&(o=a.names[s[4]]))}_(e,n,t,i,r,o)}:_,setSourceContent:o?function(e,n){e in o||(o[e]=n)}:rn,toString:function(){return JSON.stringify({version:3,file:l.filename||void 0,sourceRoot:l.root||void 0,sources:s,sourcesContent:o?s.map(function(e){return o[e]||null}):void 0,names:f,mappings:c})}};function _(e,n,t,i,r,o){if(null!=a||null!=e){if(a=e,u<n)for(p=0;c+=";",++u<n;);else c&&(c+=",");c+=je(t-p),p=t,null!=e&&(e=s.index(e),c+=je(e-d),d=e,c+=je(i-h),h=i,c+=je(r-v),v=r,l.names&&null!=o&&(o=f.index(o),c+=je(o-m),m=o))}}}!function(){function n(e){for(var n=!0,t=0;t<e.length;t++)n&&e[t]instanceof bn&&e[t].body instanceof ei?e[t]=new wn({start:e[t].start,end:e[t].end,value:e[t].body.value}):!n||e[t]instanceof bn&&e[t].body instanceof ei||(n=!1);return e}var i={Program:function(e){return new Nn({start:s(e),end:f(e),body:n(e.body.map(c))})},FunctionDeclaration:function(e){return new Xn({start:s(e),end:f(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},FunctionExpression:function(e){return new Wn({start:s(e),end:f(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},ExpressionStatement:function(e){return new kn({start:s(e),end:f(e),body:c(e.expression)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(1<n.length||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new ct({start:s(e),end:f(e),body:c(e.block).body,bcatch:c(n[0]),bfinally:e.finalizer?new lt(c(e.finalizer)):null})},Property:function(e){var n=e.key,n={start:s(n),end:f(e.value),key:""+n["Identifier"==n.type?"name":"value"],value:c(e.value)};return"init"==e.kind?new Ht(n):(n.value=new Hn(n.value),"get"==e.kind?new Rt(n):"set"==e.kind?new It(n):void 0)},ArrayExpression:function(e){return new Mt({start:s(e),end:f(e),elements:e.elements.map(function(e){return null===e?new ai:c(e)})})},ObjectExpression:function(e){return new Nt({start:s(e),end:f(e),properties:e.properties.map(function(e){return e.type="Property",c(e)})})},SequenceExpression:function(e){return new yt({start:s(e),end:f(e),expressions:e.expressions.map(c)})},MemberExpression:function(e){return new(e.computed?kt:xt)({start:s(e),end:f(e),property:e.computed?c(e.property):e.property.name,expression:c(e.object)})},SwitchCase:function(e){return new(e.test?ft:st)({start:s(e),end:f(e),expression:c(e.test),body:e.consequent.map(c)})},VariableDeclaration:function(e){return new vt({start:s(e),end:f(e),definitions:e.declarations.map(c)})},Literal:function(e){var n=e.value,t={start:s(e),end:f(e)};if(null===n)return new ii(t);var i=e.regex;if(i&&i.pattern)return t.value=new RegExp(i.pattern,i.flags),t.value.raw_source=i.pattern,new ti(t);if(i)return t.value=e.regex&&e.raw?e.raw:n,new ti(t);switch(typeof n){case"string":return t.value=n,new ei(t);case"number":return t.value=n,new ni(t);case"boolean":return new(n?ui:ci)(t)}},Identifier:function(e){var n=t[t.length-2];return new("LabeledStatement"==n.type?ee:"VariableDeclarator"==n.type&&n.id===e?Vt:"FunctionExpression"==n.type?n.id===e?Gt:Wt:"FunctionDeclaration"==n.type?n.id===e?Jt:Wt:"CatchClause"==n.type?Xt:"BreakStatement"==n.type||"ContinueStatement"==n.type?ne:Kt)({start:s(e),end:f(e),name:e.name})},ThisExpression:function(e){return new Qt({start:s(e),end:f(e),name:"this"})}};function r(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function s(e){var n=e.loc,t=n&&n.start,i=e.range;return new H({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:r(e)})}function f(e){var n=e.loc,t=n&&n.end,i=e.range;return new H({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:r(e)})}function e(e,n,t){var o="function From_Moz_"+e+"(M){\n";o+="return new U2."+n.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var a="function To_Moz_"+e+"(M){\n";a+="return {\ntype: "+JSON.stringify(e),t&&t.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(o+=",\n"+r+": ",a+=",\n"+t+": ",i){case"@":o+="M."+t+".map(from_moz)",a+="M."+r+".map(to_moz)";break;case">":o+="from_moz(M."+t+")",a+="to_moz(M."+r+")";break;case"=":o+="M."+t,a+="M."+r;break;case"%":o+="from_moz(M."+t+").body",a+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),o+="\n})\n}",a+="\n}\n}",o=new Function("U2","my_start_token","my_end_token","from_moz","return("+o+")")(h,s,f,c),a=new Function("to_moz","to_moz_block","to_moz_scope","return("+a+")")(l,p,d),i[e]=o,u(n,a)}i.UpdateExpression=i.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?Tt:Dt)({start:s(e),end:f(e),operator:e.operator,expression:c(e.argument)})},e("EmptyStatement",xn),e("BlockStatement",Dn,"body@body"),e("IfStatement",rt,"test>condition, consequent>body, alternate>alternative"),e("LabeledStatement",On,"label>label, body>body"),e("BreakStatement",tt,"label>label"),e("ContinueStatement",it,"label>label"),e("WithStatement",qn,"object>expression, body>body"),e("SwitchStatement",ot,"discriminant>expression, cases@body"),e("ReturnStatement",Zn,"argument>value"),e("ThrowStatement",et,"argument>value"),e("WhileStatement",Mn,"test>condition, body>body"),e("DoWhileStatement",$n,"test>condition, body>body"),e("ForStatement",Fn,"init>init, test>condition, update>step, body>body"),e("ForInStatement",jn,"left>init, right>object, body>body"),e("DebuggerStatement",yn),e("VariableDeclarator",mt,"id>name, init>value"),e("CatchClause",ut,"param>argname, body%body"),e("BinaryExpression",Ot,"operator=operator, left>left, right>right"),e("LogicalExpression",Ot,"operator=operator, left>left, right>right"),e("AssignmentExpression",zt,"operator=operator, left>left, right>right"),e("ConditionalExpression",At,"test>condition, consequent>consequent, alternate>alternative"),e("NewExpression",bt,"callee>expression, arguments@args"),e("CallExpression",gt,"callee>expression, arguments@args"),u(Nn,function(e){return d("Program",e)}),u(Xn,function(e){return{type:"FunctionDeclaration",id:l(e.name),params:e.argnames.map(l),body:d("BlockStatement",e)}}),u(Wn,function(e){return{type:"FunctionExpression",id:l(e.name),params:e.argnames.map(l),body:d("BlockStatement",e)}}),u(wn,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),u(kn,function(e){return{type:"ExpressionStatement",expression:l(e.body)}}),u(at,function(e){return{type:"SwitchCase",test:l(e.expression),consequent:e.body.map(l)}}),u(ct,function(e){return{type:"TryStatement",block:p(e),handler:l(e.bcatch),guardedHandlers:[],finalizer:l(e.bfinally)}}),u(ut,function(e){return{type:"CatchClause",param:l(e.argname),guard:null,body:p(e)}}),u(pt,function(e){return{type:"VariableDeclaration",kind:"var",declarations:e.definitions.map(l)}}),u(yt,function(e){return{type:"SequenceExpression",expressions:e.expressions.map(l)}}),u(wt,function(e){var n=e instanceof kt;return{type:"MemberExpression",object:l(e.expression),computed:n,property:n?l(e.property):{type:"Identifier",name:e.property}}}),u(St,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof Tt,argument:l(e.expression)}}),u(Ot,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:l(e.left),operator:e.operator,right:l(e.right)}}),u(Mt,function(e){return{type:"ArrayExpression",elements:e.elements.map(l)}}),u(Nt,function(e){return{type:"ObjectExpression",properties:e.properties.map(l)}}),u(Pt,function(e){var n,t={type:"Literal",value:e.key};return e instanceof Ht?n="init":e instanceof Rt?n="get":e instanceof It&&(n="set"),{type:"Property",kind:n,key:t,value:l(e.value)}}),u(Ut,function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}}),u(Qt,function(){return{type:"ThisExpression"}}),u(ti,function(e){var n=e.value.toString().match(/[gimuy]*$/)[0],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}}),u(Zt,function(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}),u(v,function(e){return{type:"Identifier",name:String(e.value)}}),fi.DEFMETHOD("to_mozilla_ast",Zt.prototype.to_mozilla_ast),ii.DEFMETHOD("to_mozilla_ast",Zt.prototype.to_mozilla_ast),ai.DEFMETHOD("to_mozilla_ast",function(){return null}),Tn.DEFMETHOD("to_mozilla_ast",Dn.prototype.to_mozilla_ast),Pn.DEFMETHOD("to_mozilla_ast",Wn.prototype.to_mozilla_ast);var t=null;function c(e){t.push(e);e=null!=e?i[e.type](e):null;return t.pop(),e}function u(e,i){e.DEFMETHOD("to_mozilla_ast",function(){return n=i(e=this),t=e.start,e=e.end,null!=t.pos&&null!=e.endpos&&(n.range=[t.pos,e.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:e.endline?{line:e.endline,column:e.endcol}:null},t.file&&(n.loc.source=t.file)),n;var e,n,t})}function l(e){return null!=e?e.to_mozilla_ast():null}function p(e){return{type:"BlockStatement",body:e.body.map(l)}}function d(e,n){var t=n.body.map(l);return n.body[0]instanceof kn&&n.body[0].body instanceof ei&&t.unshift(l(new xn(n.body[0]))),{type:e,body:t}}gn.from_mozilla_ast=function(e){var n=t;t=[];e=c(e);return t=n,e.walk(new li(function(e){if(e instanceof ne){for(var n,t,i=0;(n=this.parent(i))&&!(n instanceof Cn);i++)if(n instanceof On&&n.label.name==e.name){e.thedef=n.label;break}e.thedef||(t=e.start,ie("Undefined label "+e.name,t.file,t.line,t.col,t.pos))}})),e}}();var Ne,Pe,He,Ie=(Ne=[],["null","true","false","Infinity","-Infinity","undefined"].forEach(Re),[Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String].forEach(function(e){Object.getOwnPropertyNames(e).map(Re),e.prototype&&(Object.getOwnPropertyNames(new e).map(Re),Object.getOwnPropertyNames(e.prototype).map(Re))}),dn(Ne));function Re(e){Ne.push(e)}function Ue(e,n){e instanceof At?(Ue(e.consequent,n),Ue(e.alternative,n)):e instanceof yt?Ue(e.tail_node(),n):e instanceof ei&&n(e.value)}function Be(n){try{return JSON.parse(n)}catch(e){throw new Error("invalid input source map: "+n)}}function Ye(n,t,e){t[n]&&e.forEach(function(e){t[e]&&("object"!=typeof t[e]&&(t[e]={}),n in t[e]||(t[e][n]=t[n]))})}function Le(e){e&&("props"in e?e.props instanceof vn||(e.props=vn.fromObject(e.props)):e.props=new vn)}function Ve(e){return{props:e.props.toObject()}}He="undefined"==typeof Buffer?(Pe=atob,btoa):void 0===Buffer.alloc?(Pe=function(e){return new Buffer(e,"base64").toString()},function(e){return new Buffer(e).toString("base64")}):(Pe=function(e){return Buffer.from(e,"base64").toString()},function(e){return Buffer.from(e).toString("base64")}),h.Dictionary=vn,h.List=cn,h.minify=function(i,r){try{(r=Z(r,{compress:{},enclose:!1,ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&gn.enable_validation();var e=r.timings&&{start:Date.now()};void 0===r.rename&&(r.rename=r.compress&&r.mangle),Ye("ie8",r,["compress","mangle","output"]),Ye("keep_fnames",r,["compress","mangle"]),Ye("toplevel",r,["compress","mangle"]),Ye("v8",r,["mangle","output"]),Ye("webkit",r,["mangle","output"]),r.mangle&&(r.mangle=Z(r.mangle,{cache:r.nameCache&&(r.nameCache.vars||{}),eval:!1,ie8:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),r.mangle.properties&&("object"!=typeof r.mangle.properties&&(r.mangle.properties={}),r.mangle.properties.keep_quoted&&(c=r.mangle.properties.reserved,Array.isArray(c)||(c=[]),r.mangle.properties.reserved=c),!r.nameCache||"cache"in r.mangle.properties||(r.mangle.properties.cache=r.nameCache.props||{})),Le(r.mangle.cache),Le(r.mangle.properties.cache)),r.sourceMap&&(r.sourceMap=Z(r.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var o,n=[];if(r.warnings&&gn.log_function(function(e){n.push(e)},"verbose"==r.warnings),e&&(e.parse=Date.now()),i instanceof Nn)o=i;else{"string"==typeof i&&(i=[i]),r.parse=r.parse||{},r.parse.toplevel=null;var t,a=r.sourceMap&&r.sourceMap.content;for(f in(a="string"==typeof a&&"inline"!=a?Be(a):a)&&(r.sourceMap.orig=Object.create(null)),i)mn(i,f)&&(r.parse.filename=f,r.parse.toplevel=o=_i(i[f],r.parse),"inline"==a?(t=function(e,n){for(var t=n.end.comments_after,i=t.length;0<=--i;){var r=t[i];if("comment1"!=r.type)break;r=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!r)break;if("sourceMappingURL"==r[1]){if(!(r=/^data:application\/json(;.*?)?;base64,(\S+)$/.exec(r[2])))break;return Pe(r[2])}}gn.warn("inline source map not found: {name}",{name:e})}(f,o))&&(r.sourceMap.orig[f]=Be(t)):a&&(r.sourceMap.orig[f]=a))}c&&(l=c,o.walk(new li(function(e){e instanceof Pt?e.start&&e.start.quote&&u(e.key):e instanceof kt&&Ue(e.property,u)}))),["enclose","wrap"].forEach(function(e){var n,t=r[e];t&&(n=o.print_to_string().slice(0,-1),o=o[e](t),i[o.start.file]=o.print_to_string().replace(n,""))}),r.validate&&o.validate_ast(),e&&(e.rename=Date.now()),r.rename&&(o.figure_out_scope(r.mangle),o.expand_names(r.mangle)),e&&(e.compress=Date.now()),r.compress&&(o=new bi(r.compress).compress(o),r.validate&&o.validate_ast()),e&&(e.scope=Date.now()),r.mangle&&o.figure_out_scope(r.mangle),e&&(e.mangle=Date.now()),r.mangle&&(o.compute_char_frequency(r.mangle),o.mangle_names(r.mangle)),e&&(e.properties=Date.now()),r.mangle&&r.mangle.properties&&function(e,t){t=Z(t,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,regex:null,reserved:null},!0);var n=Object.create(t.builtins?null:Ie);Array.isArray(t.reserved)&&t.reserved.forEach(function(e){n[e]=!0});var i,r=-1;t.cache?(i=t.cache.props).each(function(e){n[e]=!0}):i=new vn;var o,a=t.regex,s=!1!==t.debug;s&&(o=!0===t.debug?"":t.debug);var f=Object.create(null),c=Object.create(n);function u(e){return!c[e]&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function l(e){return!n[e]&&((!a||a.test(e))&&(i.has(e)||f[e]))}function p(e){u(e)&&(f[e]=!0),l(e)||(c[e]=!0)}function d(e){if(!l(e))return e;var n,t=i.get(e);if(!t){if(!s||u(n="_$"+e+"$"+o+"_")&&(t=n),!t)for(;t=L(++r),!u(t););i.set(e,t)}return t}function h(e){e instanceof yt?h(e.expressions.tail_node()):e instanceof ei?e.value=d(e.value):e instanceof At&&(h(e.consequent),h(e.alternative))}e.walk(new li(function(e){if(e instanceof Ot)"in"==e.operator&&Ue(e.left,p);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof xt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Kt))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;Ue(e.args[1],p);break;case"hasOwnProperty":if(e.args.length<1)break;Ue(e.args[0],p)}}else e instanceof xt?p(e.property):e instanceof Pt?"string"==typeof e.key&&p(e.key):e instanceof kt&&Ue(e.property,p)})),e.walk(new li(function(e){if(e instanceof Ot)"in"==e.operator&&h(e.left);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof xt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Kt))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;h(e.args[1]);break;case"hasOwnProperty":if(e.args.length<1)break;h(e.args[0])}}else e instanceof xt?e.property=d(e.property):e instanceof Pt?"string"==typeof e.key&&(e.key=d(e.key)):e instanceof kt&&(t.keep_quoted||h(e.property))}))}(o,r.mangle.properties),e&&(e.output=Date.now());var s={};if(r.output.ast&&(s.ast=o),!mn(r.output,"code")||r.output.code){if(r.sourceMap&&(r.output.source_map=Ce(r.sourceMap),r.sourceMap.includeSources)){if(i instanceof Nn)throw new Error("original source content unavailable");for(var f in i)mn(i,f)&&r.output.source_map.setSourceContent(f,i[f])}delete r.output.ast,delete r.output.code;var c=yi(r.output);o.print(c),s.code=c.get(),r.sourceMap&&(s.map=r.output.source_map.toString(),(c=r.sourceMap.url)&&(s.code=s.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),s.code+="inline"==c?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+He(s.map):"\n//# sourceMappingURL="+c))}return r.nameCache&&r.mangle&&(r.mangle.cache&&(r.nameCache.vars=Ve(r.mangle.cache)),r.mangle.properties&&r.mangle.properties.cache&&(r.nameCache.props=Ve(r.mangle.properties.cache))),e&&(e.end=Date.now(),s.timings={parse:.001*(e.rename-e.parse),rename:.001*(e.compress-e.rename),compress:.001*(e.scope-e.compress),scope:.001*(e.mangle-e.scope),mangle:.001*(e.properties-e.mangle),properties:.001*(e.output-e.properties),output:.001*(e.end-e.output),total:.001*(e.end-e.start)}),n.length&&(s.warnings=n),s}catch(e){return{error:e}}finally{gn.log_function(),gn.disable_validation()}function u(e){un(l,e)}var l},h.parse=_i,h.push_uniq=un,h.TreeTransformer=pi,h.TreeWalker=li}("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS);